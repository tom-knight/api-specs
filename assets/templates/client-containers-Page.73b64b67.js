(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1009:function(e,t,n){"use strict";var a=n(1137),r=n.n(a);n(1138),n(1139),n(1140),n(1141),n(1142),n(1143),n(1144),n(1145),n(1146),n(1147),n(1148),n(1149),n(1150),n(1151),n(1152),n(1153),n(1154),n(1155),n(1156),n(1157),n(1158),n(1159),n(1160),n(1161);t.a=r.a},1010:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n.n(o),c=n(5),l=n.n(c),s=n(1162),u=n(1163),p=n(312),d=n(323),f=(n(30),n(962));function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=Object(f.d)(),w=new u.HTMLReader,j=["text","email","password","number","range","date","time","datetime-local","month","color","search","tel","url","week"],S=function(e){var t=e.id,n="undefined"!=typeof window?i.a.get(window,"location.search"):"";return r.a.createElement(d.a,{href:"".concat(n,"#").concat(t),"aria-hidden":"true",className:"anchor",name:t,id:t},r.a.createElement(p.Icon,{icon:s.faLink}))},k={h1:function(e){var t=e.id,n=e.children,a=E(e,["id","children"]);return r.a.createElement("h1",a,r.a.createElement(S,{id:t}),n)},h2:function(e){var t=e.id,n=e.children,a=E(e,["id","children"]);return r.a.createElement("h2",a,r.a.createElement(S,{id:t}),n)},h3:function(e){var t=e.id,n=e.children,a=E(e,["id","children"]);return r.a.createElement("h3",a,r.a.createElement(S,{id:t}),n)}},x=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,v(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.children,n=E(e,["children"]),a=document.createElement("script");(a=Object.assign(a,n||{})).type="text/javascript",t&&(a.innerHTML=t),this.instance.appendChild(a)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"none"},ref:function(t){return e.instance=t}})}}]),t}();t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.className,o=e.context,c=void 0===o?{}:o,s=e.options,u=void 0===s?{}:s;if(i.a.isNil(t))return null;var p=l()("HtmlViewer",n);if("undefined"==typeof window)return r.a.createElement("div",{className:p,dangerouslySetInnerHTML:{__html:t}});var f={sanitize:!O,react:{createElement:a.createElement,components:{a:function(e){var t=e.children,n=E(e,["children"]),a=Object.assign({},n,c.a?c.a(n):{});return r.a.createElement(d.a,a,t)},svg:function(e){var t=e.children,n=E(e,["children"]);return r.a.createElement("svg",n,t)},path:function(e){var t=e.children,n=E(e,["children"]);return r.a.createElement("path",n,t)},script:function(e){var t=e.children,n=E(e,["children"]);return r.a.createElement(x,n,t)},input:function(e){e.children;var t=E(e,["children"]),n=t.type,a=t.value,o=t.checked;return j.includes(n)&&(t.defaultValue=a,delete t.value),["checkbox","radio"].includes(n)&&(t.defaultChecked=o,delete t.value),r.a.createElement("input",t)},textarea:function(e){e.children;var t=E(e,["children"]),n=t.value;return t.defaultValue=n,delete t.value,r.a.createElement("textarea",t)},select:function(e){var t=e.children,n=E(e,["children"]),a=n.value;return n.defaultValue=a,delete n.value,r.a.createElement("select",n,t)}}}};return u.anchors&&(f.react.components=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){m(e,t,n[t])})}return e}({},f.react.components,k)),w.toReact('<div class="'.concat(p,'">').concat(t,"</div>"),f)}},1038:function(e,t,n){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(1));t.reactConfig={createElement:r.createElement}},1054:function(e,t,n){"use strict";n.r(t);var a=n(1297);t.default=a.a},1163:function(e,t,n){"use strict";function a(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),a(n(1164)),a(n(1038))},1164:function(e,t,n){"use strict";var a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1165),o=n(1175),i=n(1199),c=n(1203),l=n(1225),s=a(n(1232)),u=n(1038),p=n(1247),d={fragment:!0};t.HTMLReader=class{fromLang(e){return s.create().use(o).parse(e)}toLang(e){return s.create().use(c).stringify(e)}toReact(e,t={}){const n=s.create().use(o,d);return t.sanitize&&n.use(p.sanitizeScript),n.use(c).use(l,Object.assign(u.reactConfig,t.react)).use(i),n.processSync(e).contents}sanitize(e){return s.create().use(o,d).use(p.sanitizeScript).use(c).use(i).processSync(e).contents.trim()}format(e){return s.create().use(o,d).use(c).use(r).processSync(e).contents.trim()}}},1232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1233))},1233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(1234);t.create=(()=>a())},1247:function(e,t,n){"use strict";function a(e){if("element"===e.type&&"script"===e.tagName)e.children.length>0?(e.type="comment",e.value=`<script>${function(e){return e.children.map(e=>e.value).join("\n")}(e)}<\/script>`):(e.type="text",e.value="");else if("children"in e&&e.children.length>0)for(const t of e.children)a(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeScript=function(){return a}},1297:function(e,t,n){"use strict";(function(e){var a=n(948),r=n.n(a),o=n(1298);n(1299),n(1055),n(1056),n(1300),n(1301),n(991),n(1302),n(1057),n(1304),n(1305),n(1307),n(1308),n(1309),n(1310),n(1311),n(973),n(1312),n(1313),n(1058),n(1314),n(1315),n(1316),n(1317),n(1318),n(1319),n(1320),n(974),n(965),n(1321),n(1322),n(1059),n(1323),n(1060),n(1324),n(1325),n(992),n(1326),n(1327),n(1328),n(1329),n(1330),n(1331),n(1332),n(1333),n(1061),n(1334),n(1335);e.jsonlint=o.a,t.a=r.a}).call(this,n(37))},1298:function(e,t,n){"use strict";var a={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,a,r,o,i){var c=o.length-1;switch(r){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[c-1];case 13:this.$={};break;case 14:this.$=o[c-1];break;case 15:this.$=[o[c-2],o[c]];break;case 16:this.$={},this.$[o[c][0]]=o[c][1];break;case 17:this.$=o[c-2],o[c-2][o[c][0]]=o[c][1];break;case 18:this.$=[];break;case 19:this.$=o[c-1];break;case 20:this.$=[o[c]];break;case 21:this.$=o[c-2],o[c-2].push(o[c])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],a=[null],r=[],o=this.table,i="",c=0,l=0,s=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;function p(e){n.length=n.length-2*e,a.length=a.length-e,r.length=r.length-e}function d(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}r.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,m,h,y,b,v,g,E,O,w={};;){if(h=n[n.length-1],this.defaultActions[h]?y=this.defaultActions[h]:(null==f&&(f=d()),y=o[h]&&o[h][f]),void 0===y||!y.length||!y[0]){if(!s){for(v in O=[],o[h])this.terminals_[v]&&v>2&&O.push("'"+this.terminals_[v]+"'");var j="";j=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+O.join(", ")+", got '"+this.terminals_[f]+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(j,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:u,expected:O})}if(3==s){if(1==f)throw new Error(j||"Parsing halted.");l=this.lexer.yyleng,i=this.lexer.yytext,c=this.lexer.yylineno,u=this.lexer.yylloc,f=d()}for(;!(2..toString()in o[h]);){if(0==h)throw new Error(j||"Parsing halted.");p(1),h=n[n.length-1]}m=f,f=2,y=o[h=n[n.length-1]]&&o[h][2],s=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+f);switch(y[0]){case 1:n.push(f),a.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(y[1]),f=null,m?(f=m,m=null):(l=this.lexer.yyleng,i=this.lexer.yytext,c=this.lexer.yylineno,u=this.lexer.yylloc,s>0&&s--);break;case 2:if(g=this.productions_[y[1]][1],w.$=a[a.length-g],w._$={first_line:r[r.length-(g||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(g||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(b=this.performAction.call(w,i,l,c,this.yy,y[1],a,r)))return b;g&&(n=n.slice(0,-1*g*2),a=a.slice(0,-1*g),r=r.slice(0,-1*g)),n.push(this.productions_[y[1]][0]),a.push(w.$),r.push(w._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},r=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,a,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length&&(!(n=this._input.match(this.rules[o[i]]))||t&&!(n[0].length>t[0].length)||(t=n,a=i,this.options.flex));i++);return t?((r=t[0].match(/\n.*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[a],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,a){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}();a.lexer=r,t.a=a},1320:function(e,t,n){"use strict";var a=n(948),r=n.n(a),o=r.a.Pos;function i(e,t,n,a){var i=e.getCursor(),c=n(e,i);if(!/\b(?:string|comment)\b/.test(c.type)){c.state=r.a.innerMode(e.getMode(),c.state).state,/^[\w$_]*$/.test(c.string)?c.end>i.ch&&(c.end=i.ch,c.string=c.string.slice(0,i.ch-c.start)):c={start:i.ch,end:i.ch,string:"",state:c.state,type:"."==c.string?"property":null};for(var l=c;"property"==l.type;){if("."!=(l=n(e,o(i.line,l.start))).string)return;if(l=n(e,o(i.line,l.start)),!s)var s=[];s.push(l)}return{list:function(e,t,n,a){var r=[],o=e.string,i=a&&a.globalScope||window;function c(e,t){0!=e.lastIndexOf(o,0)||function(e,t){if(!Array.prototype.indexOf){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}return-1!=e.indexOf(t)}(r,e)||r.push({text:e,displayText:t})}function l(e){!function(e,t){for(var n in e)if("prototype"!==n){var a=void 0;e[n]&&e[n].prototype&&e[n].prototype.displayText&&(a=e[n].prototype.displayText),t(n,a)}}(e,c)}if(t&&t.length){var s,u=t.pop();for(u.type&&0===u.type.indexOf("variable")?(a&&a.additionalContext&&(s=a.additionalContext[u.string]),a&&!1===a.useGlobalScope||(s=s||i[u.string])):"string"==u.type?s="":"atom"==u.type?s=1:"function"==u.type&&(null==i.jQuery||"$"!=u.string&&"jQuery"!=u.string||"function"!=typeof i.jQuery?null!=i._&&"_"==u.string&&"function"==typeof i._&&(s=i._()):s=i.jQuery());null!=s&&t.length;)s=s[t.pop().string];null!=s&&l(s)}else a&&!1===a.useGlobalScope||l(i);return r}(c,s,0,a),from:o(i.line,c.start),to:o(i.line,c.end)}}}r.a.registerHelper("hint","javascript",function(e,t){return i(e,0,function(e,t){return e.getTokenAt(t)},t)})},1336:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(0),i=n.n(o),c=n(5),l=n.n(c),s=n(14),u=n.n(s),p=n(1337),d=n(975),f=n(966);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=!1,O=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=b(this,v(t).call(this,e))).togglePreview=function(){n.setState({previewOn:!n.state.previewOn})},n.state={previewOn:!!i.a.isUndefined(e.preview)||e.preview},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"componentWillMount",value:function(){var e=this.props.id;this.id=e||"simplemde-editor-0"}},{key:"componentDidMount",value:function(){this.createEditor()}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.simplemde.value()&&this.simplemde.value(e.value)}},{key:"componentWillUpdate",value:function(e){var t=this;this.props.preview&&this.props.preview!==e.preview&&setTimeout(function(){return t.createEditor()},0)}},{key:"createEditor",value:function(){var e=this,t=this.props,n=t.codeMirrorInstance,a=t.extraKeys,r=t.onChange,o=t.hideToolbar,i=h(t,["codeMirrorInstance","extraKeys","onChange","hideToolbar"]);E||(Object(p.init)({codeMirrorInstance:n,marked:d.b}),E=!0);var c={element:document.getElementById(this.id),initialValue:this.props.value,status:!1,spellChecker:!1,toolbar:o?null:["bold","italic","heading-1","heading-2","heading-3","|","quote","code","unordered-list","ordered-list","|","link","image","|",{name:"preview",action:function(){e.togglePreview()},className:"fa fa-eye",title:"Toggle Preview"}]};this.simplemde=new p.SimpleMDE(Object.assign({},c,i)),a&&this.simplemde.codemirror.setOption("extraKeys",a),this.simplemde.codemirror.on("change",function(){r(e.simplemde.value())}),this.simplemde.codemirror.on("blur",function(){r(e.simplemde.value(),{immediate:!0})}),this.simplemde.codemirror.setOption("theme","default")}},{key:"renderEditor",value:function(){var e=this.props,t=e.fill,n=e.className;return r.a.createElement("div",{className:l()("SimpleMDE flex flex-col h-full w-full pos-a",n,{"fill-space":t})},r.a.createElement("textarea",{id:this.id}))}},{key:"renderPreview",value:function(){return r.a.createElement(f.a,{className:"SimpleMDE-markdown ov-s",value:this.props.value||"preview will show here",context:this.props.context})}},{key:"render",value:function(){var e=this.props,t=e.fill,n=e.hideToolbar;return r.a.createElement("div",{className:l()("SimpleMDE-wrapper flex h-full",{"fill-space":t,"hide-toolbar":n})},r.a.createElement("div",{className:l()("SimpleMDE-editor no-preview-fallback flex-1 pos-r",{"w-full":!this.state.previewOn,"w-50":this.state.previewOn})},this.renderEditor()),this.state.previewOn&&r.a.createElement("div",{className:"SimpleMDE-preview flex-1 w-50 pos-r"},this.renderPreview()))}}]),t}();O.propTypes={value:u.a.string,className:u.a.string,placeholder:u.a.string,onChange:u.a.func.isRequired,spellChecker:u.a.bool,hideToolbar:u.a.bool,extraKeys:u.a.array},t.default=O},1341:function(e,t,n){"use strict";n.r(t),n.d(t,"createWorker",function(){return o});var a=n(1342),r=n.n(a),o=function(e){return new r.a(e)}},1344:function(e,t,n){e.exports=function(){return new Worker(n.p+"95512a2fd2cc4165d85f.worker.js")}},525:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(0),i=n.n(o),c=n(1076),l=n.n(c),s=n(41),u=n(1508),p=n(1080),d=n(94),f=n(14),m=n.n(f),h=n(5),y=n.n(h),b=n(1077),v=n.n(b),g=n(1078),E=n.n(g);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var a=e.cacheKey,o=e.cacheKeyProp,c=e.path,l=e.pathProp,u=(e.pure,function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),k(this,x(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(n,r.a.Component),function(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}(n,[{key:"componentWillMount",value:function(){var e=this.props.jsonPathContainerData,t=void 0===e?{}:e,n=t.store,a=t.cacheKey,r=t.path;n.register({cacheKey:a,path:r})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.jsonPathContainerData||{},n=e.jsonPathContainerData||{};t.cacheKey+t.id+t.path!==n.cacheKey+n.id+n.path&&n.store.register({cacheKey:n.cacheKey,id:n.id,path:n.path})}},{key:"render",value:function(){var e=this,n=this.props,a=n.jsonPathContainerData,o=void 0===a?{}:a,i=j(n,["jsonPathContainerData"]),c=o.store,l=o.cacheKey,s=o.path,u=o.updateCache,p=c.getCache({cacheKey:l,path:s})||{};return r.a.createElement(t,w({},i,{id:p.id,cacheKey:l,cache:p.data,updated:p.updated,updateCache:function(t,n,a,r){u(t,n,a,r),e.forceUpdate()}}))}}]),n}());return"undefined"!=typeof window&&"undefined"!=typeof localStorage&&localStorage.debugRender&&(u=n(1079)(u)),Object(s.inject)(function(e,t){var n=e.jsonPathCache,r=a||i.a.get(t,o),s=c||i.a.get(t,l);return{jsonPathContainerData:{store:n,cacheKey:r,path:s,cache:n.getCache({cacheKey:r,path:s}),updateCache:n.updateCacheFactory({cacheKey:r,basePath:s})}}})(u)}};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var I=function(e){var t=e.className,n=void 0===t?void 0:t,a=e.children,o=void 0===a?null:a,i=e.text,c=void 0===i?"Loading":i,l=T(e,["className","children","text"]);return r.a.createElement("div",{className:y()("PageLoading",n),style:{padding:50}},r.a.createElement(p.a,C({inline:"centered",size:"big",active:!0,inverted:!0},l),o||c))},R=n(72),A=n(962),L=n(1075),U=n(961),M=n(186),B=n(55),H=n(975),q=n(1506),D=n(169),F=n(17),z=n(305);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){var t=e.action,n=(e.onChangeData,e.basePath,e.store),a=e.theme,o=void 0===a?{}:a,c=e.className,l=t.type,s=void 0===l?"none":l,u=t.name,p=t.content,d=t.route,f=(void 0===d?{}:d).path;Object(F.j)(f)||(f=n.buildViewPath(f));var m=null,h=i.a.get(o,["background"],{}),b=i.a.get(o,["text"],{});switch(s){case"button":m=r.a.createElement(D.a,{to:f},r.a.createElement(q.a,{primary:!0,size:"large",content:u||"Button text",style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){$(e,t,n[t])})}return e}({},h,b)}));break;case"html":m=r.a.createElement("div",{dangerouslySetInnerHTML:{__html:p}});break;case"search":m=r.a.createElement(z.a,null)}return r.a.createElement("div",{className:y()("HubBlockAction HubBlockAction--".concat(s),c)},m)};function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var K=function(e){var t=e.child,n=void 0===t?{}:t,a=e.basePath,o=e.editor,c=e.theme,l=void 0===c?{}:c,s=e.childIndex,u=n.title,p=n.content,d=n.actions,f=void 0===d?[]:d,m=n.relativePath,h=i.a.get(l,["styles","children",s,"text"],{});return r.a.createElement("div",{className:"BarListBlock-child flex justify-center"},r.a.createElement("div",{className:"BarListBlock-content flex items-center"},r.a.createElement("div",{className:"BarListBlock-main w-1/3 pr-10"},r.a.createElement("div",{className:"BarListBlock-title",style:h},u),r.a.createElement("div",{className:"BarListBlock-actions"},i.a.map(f,function(e,t){var n=i.a.get(l,["styles","children",s,"actions",t]);return r.a.createElement(V,{className:"pt-4",key:t,action:e,basePath:a,store:o,theme:n})}))),p?r.a.createElement("div",{className:"BarListBlock-body w-2/3",dangerouslySetInnerHTML:{__html:Object(H.b)(p,{},{basePath:a,relativePath:m})},style:h}):null))},J=function(e){var t=e.WrapperFactory,n=e.data,a=void 0===n?{}:n,o=e.basePath,c=e.relativePath,l=e.editor,s=e.theme,u=void 0===s?{}:s,p=i.a.map(a.children,function(e,t){var n=i.a.get(u,["styles","children",t,"background"],{});return r.a.createElement("div",{key:t,className:"BarListBlock",style:n},r.a.createElement(K,{child:e,childIndex:t,basePath:o,relativePath:c,editor:l,theme:u}))});return r.a.createElement(t,W({},e,{contentElem:p,className:"flex flex-col justify-center"}))},G=n(966);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var X=function(e){var t=e.WrapperFactory,n=e.data,a=void 0===n?{}:n,o=e.editor,c=a.type,l=void 0===c?"info":c,s=a.title,u=a.body,p=[r.a.createElement("div",{key:"b",className:"flex-1"},s?r.a.createElement("div",{className:"HubBlock-content-title"},s):null,u?r.a.createElement(G.a,{className:"HubBlock-content-body",value:u||"",context:{a:function(e){var t=e.href,n=(e.title,e.target,e.children,{});return o&&(i.a.startsWith(t,"/")||i.a.startsWith(t,"#"))&&(n.href=o.buildViewPath(t)),n}}}):null)];return r.a.createElement(t,Q({},e,{headerElem:null,contentClassName:"flex",contentElem:p,className:"CalloutBlock--".concat(l)}))},Y={styles:{base:{text:{color:"#000000"},background:{backgroundColor:"#FAFAFA"}}}};function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ee=function(e){var t=e.child,n=void 0===t?{}:t,a=e.store,o=e.theme,c=void 0===o?{}:o,l=e.childIndex,s=n.image,u=void 0===s?"//react.semantic-ui.com/assets/images/wireframe/image.png":s,p=n.title,d=n.content,f=n.route,m=void 0===f?{}:f,h=Object(A.c)({theme:c,defaultTheme:Y}),y=i.a.get(h,["styles","card",l,"background"],{}),b=i.a.get(h,["styles","card",l,"text"],{});return r.a.createElement(D.a,{className:"CardListBlock-child flex items-center",to:a.buildViewPath(m.path),style:y},r.a.createElement("div",{className:"CardListBlock-image"},r.a.createElement("img",{src:u})),r.a.createElement("div",{className:"CardListBlock-content flex-1"},r.a.createElement("div",{className:"CardListBlock-title font-bold",style:b},p),r.a.createElement("div",{className:"CardListBlock-body",style:b},d)))},te=function(e){var t=e.WrapperFactory,n=e.data,a=void 0===n?{}:n,o=e.theme,c=void 0===o?{}:o,l=e.header,s=void 0===l?{}:l,u=e.basePath,p=e.store,d=a.children,f=void 0===d?[]:d,m=s.title,h=s.subtitle,y=Object(A.c)({theme:c,defaultTheme:Y}),b=i.a.get(y,"styles.base.background",{}),v=i.a.get(y,"styles.base.text",{}),g=[r.a.createElement("div",{key:"h",className:"CardListBlock-header"},m?r.a.createElement("div",{className:"HubBlock-content-title",style:v},m):null,h?r.a.createElement("div",{className:"HubBlock-content-body",style:v},h):null),r.a.createElement("div",{key:"c",className:"CardListBlock-cards flex items-center justify-center flex-wrap"},i.a.map(f,function(e,t){return r.a.createElement(ee,{key:t,child:e,childIndex:t,basePath:u,store:p,theme:y})}))];return r.a.createElement(t,Z({},e,{headerElem:null,contentProps:{style:b},contentElem:g,className:"flex flex-col justify-center"}))},ne=n(1009),ae=n(11);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=ie(this,(e=ce(t)).call.apply(e,[this].concat(r)))).highlightCode=function(){if(n.node){var e=n.node.querySelectorAll("code");if(e.length>0)for(var t=0;t<e.length;t++)try{ne.a.highlightElement(e[t])}catch(e){console.error("Error with Prism.highlightElement",e)}}},n.getDataLines=function(){var e=n.props.highlightRange,t=[];return e&&(i.a.isArray(e)?i.a.forOwn(e,function(e){var n=e.from;e.from!==e.to&&(n="".concat(e.from,"-").concat(e.to)),n&&t.push(n)}):"string"==typeof e&&(t=[e])),t.join(",")},n.getPrettyJson=function(){var e=n.props,t=e.content,a=e.children,r=e.immediate,o=a||t,i=Object(ae.b)(Object(ae.a)(o,o));if(r&&i)try{i=ne.a.highlight(i,ne.a.languages.json)}catch(e){console.error("Error with Prism.highlight",e)}return i},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,r.a.Component),function(e,t,n){t&&oe(e.prototype,t),n&&oe(e,n)}(t,[{key:"componentDidMount",value:function(){this.highlightCode()}},{key:"componentDidUpdate",value:function(){this.highlightCode()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.mode,o=t.lineNumbers,i=t.immediate,c=t.innerHTML,l=t.style,s=this.getPrettyJson(),u=this.getDataLines(),p=y()(n,"language-".concat(a||"json")),d=y()({"line-numbers":o}),f=null;return i?s&&(f=r.a.createElement("pre",{className:d,"data-line":u},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:s},className:p}))):f=c?r.a.createElement("div",null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:s},className:p})):r.a.createElement("pre",{className:d,"data-line":u},r.a.createElement("code",{className:p},s)),r.a.createElement("div",{className:y()("Highlight",{"line-numbers":o}),style:l,ref:function(t){e.node=t}},f)}}]),t}();se.propTypes={className:m.a.string,innerHTML:m.a.bool,immediate:m.a.bool,mode:m.a.string,style:m.a.object,content:m.a.oneOfType([m.a.string,m.a.object]),children:m.a.oneOfType([m.a.string,m.a.object])},se.defaultProps={style:{},innerHTML:!1,immediate:!1,lineNumbers:!0};var ue=se;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var de=function(e){var t=e.id,n=e.WrapperFactory,a=e.data,o=void 0===a?"":a,i=e.config,c=void 0===i?{}:i,l=c.mode,s=c.lineNumbers,u=c.highlightRange,p=r.a.createElement(ue,{id:t,content:o,mode:l,lineNumbers:s,highlightRange:u,immediate:!0});return r.a.createElement(n,pe({},e,{contentElem:p}))},fe={styles:{base:{text:{color:"#000000"},background:{backgroundColor:"#FAFAFA"}}}};function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var he=function(e){var t=e.WrapperFactory,n=e.data,a=void 0===n?{}:n,o=e.theme,c=void 0===o?{}:o,l=e.basePath,s=e.editor,u=a.title,p=a.body,d=a.actions,f=void 0===d?[]:d,m=Object(A.c)({theme:c,defaultTheme:fe}),h=i.a.get(m,"styles.base.background"),y=i.a.get(m,"styles.base.text"),b=[r.a.createElement("div",{key:"t",className:"HubBlock-content-title",style:y},u),r.a.createElement("div",{key:"b",className:"HubBlock-content-body",style:y},p),r.a.createElement("div",{key:"a",className:"HubBlock-content-actions text-center"},i.a.map(f,function(e,t){var n=i.a.get(m,["styles","actions",t]);return r.a.createElement(V,{key:t,action:e,basePath:l,store:s,theme:n})}))];return r.a.createElement(t,me({},e,{className:"flex flex-col justify-center",headerElem:null,contentClassName:"flex flex-col items-center",contentProps:{style:h},contentElem:b}))},ye=n(1010);n(30);function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ve=function(e){var t,n,a=e.WrapperFactory,o=e.config,c=void 0===o?{}:o,l=e.data,s=void 0===l?"":l,u=e.editor;if(c.plain||(t="MarkdownViewer markdown-body"),!i.a.isEmpty(s)){var p=i.a.get(s,"__error");n=p?r.a.createElement(U.a,{error:p}):r.a.createElement(ye.a,{value:i.a.isObject(s)?"block.data must be a string for html blocks":s||"no content",context:{a:function(e){var t=e.href,n=(e.title,e.target,e.children,{});return u&&(i.a.startsWith(t,"/")||i.a.startsWith(t,"#"))&&(n.href=u.buildViewPath(t)),n}}})}return r.a.createElement(a,be({},e,{contentClassName:t,contentElem:n}))},ge=n(1493);function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Oe=function(e){var t=e.WrapperFactory,n=e.header,a=void 0===n?{}:n,o=e.data,i=void 0===o?"":o,c=e.config,l=void 0===c?{}:c,s={};l.maxWidth&&(s.maxWidth="".concat(String(l.maxWidth),"px")),l.maxHeight&&(s.maxHeight="".concat(String(l.maxHeight),"px"));var u=r.a.createElement("div",{className:l.centered?"justify-center text-center":""},a.title?r.a.createElement("div",{className:"ImageBlock-title"},a.title):null,r.a.createElement(ge.a,{src:i,alt:a.title||a.subtitle,centered:l.centered,fluid:l.fluid,bordered:l.bordered,style:s}),a.subtitle?r.a.createElement("div",{className:"ImageBlock-subtitle"},a.subtitle):null);return r.a.createElement(t,Ee({},e,{headerElem:null,contentElem:u}))},we=n(77),je=n(986),Se=n.n(je),ke=n(235),xe=n.n(ke),Pe=n(1249),Ne=n(1039),Ce=n(1250),_e=n(312),Te=n(85),Ie=n(1251),Re=n.n(Ie);function Ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Le(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ue(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){qe(e,t,n[t])})}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Fe=function(e){return!(!e.anyOf&&!e.oneOf)},ze=function(e){var t={};return e.enum&&e.enum.join?t["Allowed Values"]=e.enum.join(", "):e.enum?t["Allowed Values"]=e.enum:e.items&&!i.a.isEmpty(e.items.enum)&&(t["Allowed Values"]=e.items.enum.join(", ")),i.a.merge(t,i.a.omit(e,"title","description","type","enum","properties","items","additionalProperties","$ref","_active","_isOpen","required","xml","patternProperties","__inheritedFrom","__error")),t},$e=function(e){var t=e.className,n=e.prop;if(!Fe(n)){var a=ze(n),o=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var l=a[c],s=De(l);"default"===c&&i.a.includes(["object","boolean"],s)&&(s=De(l=Object(ae.b)(l))),"object"!==s&&("boolean"===s?o.push(r.a.createElement("div",{key:c,className:t},r.a.createElement("b",null,c,":")," ",l.toString())):o.push(r.a.createElement("div",{key:c,className:t},r.a.createElement("b",null,c,":")," ",l)))}if(o.length)return o}return null},Ve=function(e){var t,n,a=e.schemas,o=e.level,c=(e.parentName,e.rowElems),l=e.propName,s=e.prop,u=e.required,p=e.toggleExpandRow,d=e.expandedRows,f=e.defaultExpandedDepth,m=e.forApiDocs,h=e.hideInheritedFrom,b=e.jsonPath,v=e.hideRoot,g=c.length,E=l,O=b;if(!s)return c.push(r.a.createElement("div",{key:g,className:"text-negative py-2 JSV-row--".concat(o)},"Could not render prop. Is it valid? If it is a $ref, does the $ref exist?")),c;var w=!1,j=!1,S=i.a.has(d,O)?d[O]:d.all||o<=f;s.items?(t=s.type,s.items.anyOf?n="anyOf":s.items.oneOf?n="oneOf":s.items.type&&(n=s.items.type),t=s.type,w=!0,(s.items.properties||s.items.patternProperties||s.items.oneOf||s.items.anyOf)&&(j=!0)):s.oneOf?(t="oneOf",j=!i.a.isEmpty(s.oneOf)):s.anyOf?(t="anyOf",j=!i.a.isEmpty(s.anyOf)):(t=s.type,w=s.properties||s.patternProperties||"object"===t,(s.properties||s.patternProperties)&&(j=!0)),"root"===b&&(j=!1);var k=[];k=i.a.isString(t)?[t]:t;var x,P=[];i.a.isEmpty(k)?s.$ref?P.push(r.a.createElement("span",{key:"prop-ref",className:"sl--ref"},"{".concat(s.$ref,"}"))):(s.__error||w)&&P.push(r.a.createElement("span",{key:"no-types",className:"c-negative"},s.__error||"ERROR_NO_TYPE")):P=k.reduce(function(e,t,a){return e.push(r.a.createElement("span",{key:a,className:"sl--".concat(t)},"array"===t&&n&&"array"!==n?"array[".concat(n,"]"):t)),k[a+1]&&e.push(r.a.createElement("span",{key:"".concat(a,"-sep"),className:"c-muted"}," or ")),e},[]);var N=function(e){if(!Fe(e)){var t=Object.keys(ze(e)).length;if(t)return"".concat(t," ").concat(xe()("validation",t))}return""}(s),C=!S&&N;(u||N)&&(x=r.a.createElement("div",null,C?r.a.createElement("span",{className:"JSV-validations text-muted"},N):null,C&&u?r.a.createElement("span",{className:"text-muted"}," + "):null,u?r.a.createElement("span",{className:"JSV-required font-bold"},"required"):null));var _=!h&&!i.a.isEmpty(s.__inheritedFrom);v&&"root"===b||c.push(r.a.createElement("div",{key:g,className:y()("JSV-row JSV-row--".concat(o," flex relative py-2"),{"cursor-pointer":N||j,"is-expanded":S,"is-required":u,"has-validations":N}),onClick:function(){(N||j)&&p(O,!S)}},j?r.a.createElement("div",{className:"JSV-rowExpander w-4 -ml-6 flex justify-center mt-1"},r.a.createElement(_e.Icon,{icon:S?Pe.faCaretDown:Ne.faCaretRight})):null,r.a.createElement("div",{className:"flex-1"},r.a.createElement("div",{className:"flex items-baseline"},E&&"root"!==E?r.a.createElement("div",{className:"mr-3"},E):null,!i.a.isEmpty(P)&&r.a.createElement("div",{className:y()("JSV-rowType",{"JSV-namelessType":!E})},P)),i.a.isEmpty(s.description)?null:r.a.createElement(G.a,{className:"text-muted text-sm",value:s.description})),x||_||S?r.a.createElement("div",{className:"text-right text-sm pr-3 max-w-sm"},x,_?r.a.createElement("div",{className:"text-muted"},"$ref:".concat(s.__inheritedFrom.name)):null,S&&r.a.createElement($e,{className:"text-muted",prop:s})):null));var T=function(e){var t=e.parsed,n=void 0===t?{}:t,a=n.items||n,r=a.properties||{};return a.patternProperties&&(r=r?i.a.merge(a.patternProperties,r):a.patternProperties),r}({parsed:s}),I=s.items?s.items.required:s.required,R={schemas:a,rowElems:c,toggleExpandRow:p,expandedRows:d,defaultExpandedDepth:f,forApiDocs:m,parentName:E,props:T,hideInheritedFrom:h,jsonPath:b,required:I||[]};return(S||"root"===b)&&(T&&Object.keys(T).length?c=We(He({},R,{props:T,level:o+1})):s.items?s.items.oneOf?c=Je(He({},R,{props:s.items.oneOf,level:o+1,defaultType:s.items.type})):s.items.anyOf&&(c=Je(He({},R,{props:s.items.anyOf,level:o+1,defaultType:s.items.type}))):s.oneOf?c=Je(He({},R,{props:s.oneOf,level:o+1,defaultType:s.type})):s.anyOf&&(c=Je(He({},R,{props:s.anyOf,level:o+1,defaultType:s.type})))),c},We=function(e){var t=e.schemas,n=e.level,a=e.parentName,r=e.rowElems,o=e.props,c=e.required,l=e.toggleExpandRow,s=e.expandedRows,u=e.defaultExpandedDepth,p=e.forApiDocs,d=e.hideInheritedFrom,f=e.jsonPath;for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(r=Ve({schemas:t,level:n,parentName:a,rowElems:r,toggleExpandRow:l,expandedRows:s,defaultExpandedDepth:u,forApiDocs:p,propName:m,prop:o[m],required:i.a.includes(c,m),hideInheritedFrom:d,jsonPath:"".concat(f,".").concat(m)}));return r},Ke=function(e){var t=e.key,n=e.level,a=e.text;return r.a.createElement("div",{key:"".concat(t,"-d"),className:"JSV-divider--".concat(n," h-10 flex items-center")},r.a.createElement("div",{className:"c-muted pr-3 uppercase text-sm"},a),r.a.createElement("div",{className:"h-px bg-grey-light flex-1 mr-4"}))},Je=function(e){var t=e.schemas,n=e.level,a=e.parentName,r=e.defaultType,o=e.rowElems,c=e.props,l=e.toggleExpandRow,s=e.expandedRows,u=e.defaultExpandedDepth,p=e.forApiDocs,d=e.hideInheritedFrom,f=e.jsonPath;for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)){var h=c[m];!i.a.has(h,"type")&&r&&i.a.set(h,"type",r);var y="".concat(a,"-c-").concat(n,"-").concat(m),b={schemas:t,parentName:a,rowElems:o,toggleExpandRow:l,expandedRows:s,defaultExpandedDepth:u,level:0===n&&(h.properties||h.items)?1:n,forApiDocs:p,hideInheritedFrom:d,jsonPath:"".concat(f,".").concat(m)};h.properties?(h.type||(h.type="object"),o=Ve(He({},b,{prop:h}))):h.items?(h.type||(h.type="array"),o=Ve(He({},b,{prop:h}))):o=Ge(He({},b,{schema:h,name:h.properties||h.items?y:null})),c[parseInt(m)+1]&&o.push(Ke({key:y,level:n,text:"or"}))}return o},Ge=function(e){var t=e.schemas,n=e.schema,a=e.level,r=e.name,o=e.rowElems,c=e.toggleExpandRow,l=e.expandedRows,s=e.defaultExpandedDepth,u=e.forApiDocs,p=e.hideInheritedFrom,d=e.jsonPath,f=e.hideRoot,m=n;if(!m)return o;if(m=Object(ae.a)(m),i.a.isEmpty(m))return o;var h=a,y={schemas:t,rowElems:o,toggleExpandRow:c,expandedRows:l,defaultExpandedDepth:s,forApiDocs:u,parentName:r,propName:r,required:i.a.includes(m.required||[],r),hideInheritedFrom:p,jsonPath:d,hideRoot:f};if(m.properties){var b=He({},m,{type:"object",description:m.description});!p&&m.__inheritedFrom&&Object.assign(b,i.a.pick(m,"__inheritedFrom")),o=Ve(He({},y,{level:a,prop:b}))}else{if(m.items)return Ve(He({},y,{level:h,prop:m}));if(m.oneOf)return Je(He({},y,{level:h,props:m.oneOf,defaultType:m.type}));if(m.anyOf)return Je(He({},y,{level:h,props:m.anyOf,defaultType:m.type}));if(m.type)return Ve(He({},y,{level:h,prop:m}))}return o},Qe=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Ue(this,(e=Me(t)).call.apply(e,[this].concat(r)))).state={showExtra:!1,expandedRows:{all:!1},showCopied:!1},n.toggleShowExtra=function(){var e=n.state.showExtra;n.setState({showExtra:!e})},n.toggleExpandRow=function(e,t){var a=n.state.expandedRows,r={};r[e]=t,n.setState({expandedRows:Object.assign({},a,r)})},n.copy=function(){try{Se()(JSON.stringify(n.props.schema,void 0,2)),n.setState({showCopied:!0}),setTimeout(function(){return n.setState({showCopied:!1})},2e3)}catch(e){we.a.error("Cannot copy to clipboard: ".concat(e.message))}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,r.a.Component),function(e,t,n){t&&Le(e.prototype,t),n&&Le(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.schema,a=e.dereferencedSchema,o=e.schemas,c=void 0===o?{}:o,l=e.limitPropertyCount,s=e.hideRoot,u=e.expanded,p=e.defaultExpandedDepth,d=void 0===p?1:p,f=e.emptyText,m=e.emptyClass,h=void 0===m?"":m,b=e.forApiDocs,v=e.hideInheritedFrom,g=r.a.createElement("div",{className:"u-none c-muted"},f||"No schema defined.");if(Object(Te.e)(n))return r.a.createElement("div",{className:"".concat(h)},g);var E,O=a||n;try{"string"==typeof O&&(O=Object(ae.a)(O)),a&&!i.a.isEmpty(a)||(O=Object(Te.c)(O,{definitions:c},v))}catch(e){return console.error("JsonSchemaViewer dereference error",e),r.a.createElement(U.a,{error:"There is an error in your ".concat(t," schema definition."),className:"m-3"})}if(!O||!Object.keys(O).length)return g;var w=this.state,j=w.expandedRows,S=w.showCopied;j.all=u;try{O=Re()(O,{resolvers:{defaultResolver:function(e,t,n,a){return i.a.merge.apply(i.a,Ae(e))}}}),E=Ge({schemas:c,expandedRows:j,defaultExpandedDepth:d,forApiDocs:b,schema:O,level:s&&("object"===O.type||O.hasOwnProperty("allOf"))?-1:0,name:"root",rowElems:[],toggleExpandRow:this.toggleExpandRow,hideInheritedFrom:v,jsonPath:"root",hideRoot:s})}catch(e){console.error("JSV:error",e),E=r.a.createElement(U.a,{error:e.message,className:"m-3"})}var k=this.state.showExtra,x=E.length-l;return l&&!k&&x>0&&(E=i.a.dropRight(E,x)),i.a.isEmpty(E)?g:r.a.createElement("div",{className:"JSV us-t u-schemaColors"},E,k||x>0?r.a.createElement("div",{className:y()("JSV-toggleExtra",{"is-on":k}),onClick:this.toggleShowExtra},k?"collapse":"...show ".concat(x," more properties")):null,r.a.createElement("div",{className:"JSV-copyToClipboard"},r.a.createElement(_e.Button,{disabled:S,title:"Copy to clipboard",className:y()("mt-1/2 mr-1/2",{"pr-1":!S}),icon:S||Ce.faCopy,onClick:this.copy,transparent:!0},S&&"Copied!")))}}]),t}();Qe.propTypes={name:m.a.string,schemas:m.a.object,schema:m.a.oneOfType([m.a.string,m.a.object]),limitPropertyCount:m.a.number,hideRoot:m.a.bool,expanded:m.a.bool,emptyText:m.a.string,emptyClass:m.a.string};var Xe=Qe;function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function et(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var at=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=et(this,(e=tt(t)).call.apply(e,[this].concat(o)))).getSchema=function(){var e=n.props,t=e.data,a=void 0===t?{}:t,r=e.dereferencedBlock;return(void 0===r?{}:r).data||a},n.render=function(){var e=n.props,t=e.WrapperFactory,a=e.config,o=void 0===a?{}:a,i=n.getSchema(),c=r.a.createElement(Xe,{schema:i,dereferencedSchema:i,hideRoot:o.hideRoot,hideInheritedFrom:!0,defaultExpandedDepth:o.expandedDepth||0});return r.a.createElement(t,Ze({},n.props,{contentElem:c}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,r.a.Component),t}();function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ot=Object(s.observer)(function(e){var t=e.WrapperFactory,n=e.data,a=void 0===n?{}:n,o=e.block,c=void 0===o?{}:o,l=e.dereferencedBlock,s=void 0===l?{}:l,u=e.editor,p=e.parsed,d=i.a.replace(a.$ref,"#/blocks/",""),f=i.a.find(u.connectedBlocks,{id:d})||{},m=i.a.cloneDeep(i.a.get(p,["blocks",d],{}));f.input=i.a.unionBy(c.input,f.input,"name"),m.input=i.a.unionBy(s.input,m.input,"name");var h=r.a.createElement(fl,rt({},e,{block:f,dereferencedBlock:m}));return r.a.createElement(t,{contentElem:h})}),it=n(1507);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function st(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ut(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function pt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt=Object(R.b)("components","JsonPathCacheParentContainer"),ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.cacheKey,a=e.cacheKeyProp,o=e.basePath,c=e.basePathProp,l=e.path,u=e.pathProp,p=e.children,d=e.childrenProp,f=function(e){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),pt(this,dt(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(n,r.a.Component),function(e,t,n){t&&ut(e.prototype,t),n&&ut(e,n)}(n,[{key:"componentWillMount",value:function(){this.registerChildren(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.jsonPathContainerData||{},n=e.jsonPathContainerData||{};i.a.isEqual(t.cacheKey,n.cacheKey)&&i.a.isEqual(t.basePath,n.basePath)&&i.a.isEqual(t.path,n.path)&&i.a.isEqual(i.a.size(t.children),i.a.size(n.children))||this.registerChildren(e)}},{key:"registerChildren",value:function(e){var t=e.jsonPathContainerData,n=void 0===t?{}:t,a=n.store,r=n.cacheKey,o=n.basePath,i=n.path,c=n.children;a.registerChildren({cacheKey:r,basePath:o,path:i,children:c})}},{key:"render",value:function(){var e=this.props,n=e.jsonPathContainerData,a=void 0===n?{}:n,o=st(e,["jsonPathContainerData"]),i=a.store,c=a.cacheKey,l=a.basePath,s=a.path,u=i.getChildrenCacheIds({cacheKey:c,basePath:l,path:s});return mt.debug("passing childCacheIds to ".concat(t.displayName),u,{cacheKey:c,basePath:l,path:s}),r.a.createElement(t,lt({},o,{childCacheIds:u}))}}]),n}();return Object(s.inject)(function(e,t){return{jsonPathContainerData:{store:e.jsonPathCache,cacheKey:n||i.a.get(t,a),basePath:o||i.a.get(t,c),path:l||i.a.get(t,u),children:p||i.a.get(t,d)}}})(f)}};function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function gt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=Object(R.b)("components","HubBlockList"),jt=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=gt(this,(e=Et(t)).call.apply(e,[this].concat(o)))).blockPath=function(e){return n.props.parentPath.concat(["blocks",e])},n.renderBlock=function(e){var t=e.id,a=e.block,o=e.index,c=n.props,l=c.store,s=c.blocks,u=void 0===s?[]:s,p=c.blocksDereferenced,d=void 0===p?[]:p,f=c.basePath,m=c.relativePath,h=c.blockProps,y=void 0===h?{}:h,b=c.slugger,v=i.a.size(u),g=parseInt(o)>=v-1;return r.a.createElement(fl,bt({},y,{key:o,id:t,editor:l,store:l,block:a,blockDereferenced:d[o],blockIndex:o,blockPath:n.blockPath(o),isLast:g,isSolo:v<=1,basePath:f,relativePath:m,slugger:b}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,r.a.Component),function(e,t,n){t&&vt(e.prototype,t),n&&vt(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.blocks,o=void 0===a?[]:a,c=t.childCacheIds,l=void 0===c?[]:c,s=t.parentPath,u=t.basePath,p=t.relativePath,d=t.blockProps;wt.debug("Render",{blocks:o,parentPath:s,basePath:u,relativePath:p,blockProps:d});var f=[];return i.a.forEach(o,function(t,n){var a=l[n];f.push(e.renderBlock({id:a,block:t,index:n}))}),r.a.createElement("div",{className:y()("HubBlockList",n)},f)}}]),t}();jt.propTypes={store:m.a.object.isRequired,blocks:m.a.array,blockDereferenced:m.a.array,parentPath:m.a.array,basePath:m.a.string,relativePath:m.a.string,cache:m.a.object,updateCache:m.a.func,blockProps:m.a.object};var St=ht({cacheKeyProp:"store.id",basePathProp:"parentPath",path:["blocks"],childrenProp:"blocks"})(jt);function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(e){var t=e.data,n=e.cache,a=void 0===n?{}:n,r=e.childCacheIds,o=void 0===r?[]:r,c=e.blockPath,l=void 0===c?[]:c,s=t.children,u=void 0===s?[]:s,p=Math.max(i.a.indexOf(o,a.activeTabId||0),0),d=u[p]||{};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){kt(e,t,n[t])})}return e}({id:o[p],index:p,path:l.concat(["data","children",p])},d)},Pt=function(e){var t=e.id;(0,e.updateCache)("set",["activeTabId"],t)};function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function _t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Tt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var At=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Tt(this,(e=It(t)).call.apply(e,[this].concat(o)))).getActiveTab=function(){return xt(n.props)},n.handleChangeTab=function(e,t){var a=t.name,r=n.props.updateCache;Pt({id:a,updateCache:r})},n.renderTabs=function(){var e=n.props,t=e.data,a=void 0===t?{}:t,o=e.childCacheIds,c=e.cache,l=void 0===c?{}:c,s=a.children,u=void 0===s?[]:s;if(!o)return null;var p=i.a.map(u,function(e,t){var a=o[t];return r.a.createElement(it.a.Item,{key:a,name:a,content:e.title,className:"HubBlock-tab hover:text-active",active:l.activeTabId?a===l.activeTabId:0===Number(t),onClick:n.handleChangeTab})});return[].concat(p,[])},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(t,r.a.Component),function(e,t,n){t&&_t(e.prototype,t),n&&_t(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.WrapperFactory,n=e.editor,a=e.cache,o=e.updateCache,i=e.basePath,c=e.relativePath,l=e.isNested,s=e.slugger,u=this.getActiveTab(),p=u.blocks,d=void 0===p?[]:p,f=[];return f.push(r.a.createElement(it.a,{key:"ti",attached:"top",className:"HubBlock-tabs",secondary:!l,pointing:!l,size:l?"tiny":void 0},this.renderTabs())),u.id&&f.push(r.a.createElement("div",{key:"tc",className:"HubBlock-tab-content"},r.a.createElement(St,{store:n,blocks:d,parentPath:u.path,basePath:i,relativePath:c,cache:a,updateCache:o,blockProps:{isNested:!0},slugger:s}))),r.a.createElement(t,Ct({},this.props,{contentElem:f}))}}]),t}();At.displayName="HubTabsBlock";var Lt=ht({cacheKeyProp:"cacheKey",basePathProp:"blockPath",path:["data","children"],childrenProp:"data.children"})(Object(s.observer)(At));function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Bt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ht(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ht(this,qt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,r.a.Component),function(e,t,n){t&&Bt(e.prototype,t),n&&Bt(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.WrapperFactory,n=e.editor,a=e.cache,o=e.updateCache,i=e.basePath,c=e.relativePath,l=e.data,s=e.blockPath,u=e.slugger,p=[];return p.push(r.a.createElement("div",{key:"tc",className:"HubBlock-tab-content"},r.a.createElement(St,{store:n,blocks:l.blocks||[],parentPath:s.concat("data"),basePath:i,relativePath:c,cache:a,updateCache:o,blockProps:{isNested:!0},slugger:u}))),r.a.createElement(t,Mt({},this.props,{contentElem:p}))}}]),t}();Ft.displayName="HubContainerBlock";var zt=ht({cacheKeyProp:"cacheKey",basePathProp:"blockPath",path:["data","children"],childrenProp:"data.children"})(Object(s.observer)(Ft));function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Wt=function(e){var t,n,a=e.WrapperFactory,o=e.header,c=e.data,l=e.editor,s=o||{},u=s.token,p=s.title;return(u||p)&&(t=r.a.createElement("div",{className:"TextBlock-header"},r.a.createElement("div",{className:"flex flex-wrap items-center"},u?r.a.createElement("div",{className:"TextBlock-header-token token--".concat(i.a.toLower(u))},u):null,p?r.a.createElement("h1",{className:"TextBlock-header-title wb-bw"},p):null))),i.a.isNil(c)||("object"===Vt(c)?c.__error&&(n=r.a.createElement(U.a,{error:c.__error})):n=r.a.createElement(G.a,{value:c,context:{a:function(e){var t=e.href,n={};return l&&(i.a.startsWith(t,"/")||i.a.startsWith(t,"#"))&&(n.href=l.buildViewPath(t)),n}}})),r.a.createElement(a,$t({},e,{headerElem:t,contentElem:n}))},Kt=n(951);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e,t){if(i.a.isFunction(e)||i.a.isFunction(t))return!0}var Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skipFunctions,n=e.debug;return function(e){return function(a){function o(){var a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return(c=Gt(this,(a=Qt(o)).call.apply(a,[this].concat(s)))).componentWillMount=function(){n&&console.log("deepCompare.componentWillMount",c.props)},c.shouldComponentUpdate=function(e){var a;return a=t?i.a.isEqualWith(c.props,e,Yt):i.a.isEqual(c.props,e),n&&console.log("deepCompare.shouldComponentUpdate?",!a,c.props,e),!a},c.render=function(){return r.a.createElement(e,c.props)},c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(o,r.a.Component),o}()}};var en=n(1074),tn=n(168),nn=n(234);function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function on(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function cn(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=cn(this,(e=ln(t)).call.apply(e,[this].concat(r)))).onChange=function(e,t){var a=n.props,r=a.input,o=void 0===r?{}:r,i=a.onChange;o.onChange?o.onChange(i?i(t.value,t):t.value,t):i&&i(t.value,t)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(t,r.a.Component),function(e,t,n){t&&on(e.prototype,t),n&&on(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.input,a=void 0===n?{}:n,o=e.big,c=e.size,l=e.loc,s=e.defaultValue,u=void 0===s?"":s,p=e.className,d=void 0===p?"":p,f=e.label,m=e.tip,h=e.required,b=e.fluid,v=e.options,g=void 0===v?[]:v,E=e.multiple,O=e.allowAdditions,w=e.search,j=e.placeholder,S=e.inline,k=e.disabled,x=e.readOnly;i.a.isEmpty(a)||console.warn("Depricating prop 'input' in <FormSelect />");var P=["FormSelect"];o||c&&"big"===c||"large"===c?P.push("is-big"):c&&P.push("is-".concat(c)),l&&P.push("is-".concat(l));var N,C,_=a.value||t||u,T=g;return E&&(_=i.a.without(i.a.isArray(_)?_:[_],!1,null,"",void 0,NaN),T=i.a.uniq(T.concat(i.a.map(_,function(e){return{text:e,value:e}})))),i.a.isObject(f)?(C="Label-fw"===f.className,N=r.a.createElement(en.a,rn({},f,{className:y()(f.className,"flex-1")}))):N=r.a.createElement(tn.a,{inline:S,label:f,required:h,tip:m}),r.a.createElement("div",{className:y()("FormSelect",d,C?"flex items-center":"flex",S?"is-inline items-center":"flex-col")},N,r.a.createElement("div",{className:"flex-1"},r.a.createElement(nn.a,rn({selection:!0,fluid:b,options:T,multiple:E,allowAdditions:O,search:w,placeholder:j,disabled:k,readOnly:x},a,{className:P.join(" "),value:_,onChange:this.onChange,clearSearchOnSelect:!0}))))}}]),t}(),pn=Zt()(un);function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function mn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function hn(e,t){return!t||"object"!==dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vn,gn,En=function(e){return e},On=function(e){return e},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.convertForTarget,a=void 0===n?En:n,o=e.convertFromTarget,c=void 0===o?On:o,l=e.targetPropName,s=void 0===l?"value":l;return function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=hn(this,yn(n).call(this,e))).onExternalValueChange=function(e,t){t.internal?t.internal=!1:i.a.isEqual(e.value,t.externalValue)||(t.value=a(e.value,e),t.externalValue=e.value)},t._persistChange=function(e,n){var a=t.props.onChange,r=c(e,Object.assign({},t.props));t.setState({value:e,internal:!0,externalValue:r}),a&&a({value:r,options:n})},t.persistChange=function(e,n){t._persistChange(e,n)},t.onChange=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.setState({value:e,internal:!0}),n.immediate?t._persistChange(e,n):t.persistChange(e,n)},t.state={value:a(e.value,e),externalValue:e.value},t.persistChange=i.a.debounce(t.persistChange,1e3),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(n,r.a.Component),function(e,t,n){t&&mn(e.prototype,t),n&&mn(e,n)}(n,[{key:"componentWillUpdate",value:function(e,t){this.onExternalValueChange(e,t)}},{key:"componentWillUnmount",value:function(){this.persistChange&&this.persistChange.flush()}},{key:"render",value:function(){var e=(this.state||{}).value,n=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},s,e);return r.a.createElement(t,fn({},this.props,n,{onChange:this.onChange}))}}]),n}()}};function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}"undefined"!=typeof window&&window.localStorage&&(vn=n(1054).default),"undefined"!=typeof window&&window.localStorage&&(gn=n(1336).default);var Sn=wn()(function(e){return gn?r.a.createElement(gn,jn({codeMirrorInstance:vn,minHeight:"0px"},e)):null});function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _n(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rn=Object(R.b)("components","MarkdownEditor");Rn.info("Load");var An=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=_n(this,(e=Tn(t)).call.apply(e,[this].concat(r)))).onChange=function(e){n.props.onChange(e)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(t,r.a.Component),function(e,t,n){t&&Cn(e.prototype,t),n&&Cn(e,n)}(t,[{key:"render",value:function(){var e,t=this.props,n=t.id,a=t.className,o=t.borderless,i=t.size,c=t.value,l=void 0===c?"":c,s=t.preview,u=void 0!==s&&s,p=t.onChange,d=Nn(t,["id","className","borderless","size","value","preview","onChange"]);return Rn.debug("Render",{value:l}),r.a.createElement("div",{className:y()("MarkdownEditor",a,(e={},Pn(e,"is-".concat(i),i),Pn(e,"is-borderless",o),e))},r.a.createElement(Sn,xn({id:n,placeholder:"Write markdown here...",value:l,onChange:function(e){var t=e.value;l!==t&&p(t)},preview:u},d)))}}]),t}();An.propTypes={value:m.a.string,className:m.a.string,placeholder:m.a.string,onChange:m.a.func.isRequired,preview:m.a.bool,readOnly:m.a.bool,spellCheck:m.a.bool,toolbarHidden:m.a.bool,toolbarOnFocus:m.a.bool,size:m.a.oneOf(["large","medium","small"])};var Ln=An;function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Bn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Hn=[{text:"HTTP",value:"http"},{text:"Script",value:"script"},{text:"Reference",value:"ref"}];function qn(e){for(var t=e.typeWhitelist,n=Bn(e,["typeWhitelist"]),a=[],o=0;o<Hn.length;o++){var c=Hn[o];(i.a.isEmpty(t)||t[c.value])&&a.push(c)}return r.a.createElement(pn,Mn({options:a,defaultValue:"http",placeholder:"choose one"},n))}var Dn=Object(s.inject)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Un(e,t,n[t])})}return e}({},e.appStore.injectUi("basics-step"))})(Object(s.observer)(function(e){var t=e.ui,n=e.updateUi,a=e.step,o=void 0===a?{}:a,c=e.onChange,l=e.typeWhitelist,s=void 0===l?[]:l,u=e.readOnly;return r.a.createElement("div",{className:"StepBasics"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"StepBasics-docs"},r.a.createElement(q.a,{basic:!t.docsOpen,secondary:t.docsOpen||!i.a.isEmpty(o.description),icon:"book",onClick:function(){n("set","docsOpen",!t.docsOpen)}})),r.a.createElement(qn,{typeWhitelist:s,disabled:u,value:o.type,onChange:function(e){if(e!==o.type){var t=i.a.get(o,"before.script",""),n=i.a.get(o,"after.script",""),a=i.a.get(o,"input.script","");if("script"===o.type&&"script"!==e&&!i.a.isEmpty(a)){var r=a;i.a.isEmpty(n)||(r="".concat(n," \n ").concat(a)),c("set",["after","script"],r)}switch(c("set",["type"],e),e){case"http":c("set",["input"],{method:"get",url:""});break;case"script":c("set",["input"],{script:function(e,t){var n="";return i.a.isEmpty(e)||(new RegExp("// COPIED FROM BEFORE SCRIPT").test(e)||(n="// COPIED FROM BEFORE SCRIPT \n"),n="".concat(n," ").concat(e," \n")),i.a.isEmpty(t)||(new RegExp("// COPIED FROM AFTER SCRIPT").test(t)||(n="".concat(n," \n // COPIED FROM AFTER SCRIPT \n")),n="".concat(n," ").concat(t," \n")),n}(t,n)}),c("unset",["before"]),c("unset",["after"]);break;case"ref":c("set",["input"],{ref:""}),c("unset",["before","assertions"]),c("unset",["after","assertions"])}}}}),r.a.createElement(Kt.a,{className:"flex-1 ml-2",placeholder:"step name",input:{value:i.a.get(o,"name",""),onChange:function(e){c("set",["name"],e.target.value)},readOnly:u},fluid:!0})),t.docsOpen?r.a.createElement("div",{className:"mt-4"},r.a.createElement(Ln,{className:"StepBasics-notes",placeholder:"Optional step notes...",value:i.a.get(o,"description",""),readOnly:u,onChange:function(e){c("set",["description"],e)}})):null)}));function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn,$n=Object(s.inject)(function(e,t){var n=e.appStore,a=t.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Fn(e,t,n[t])})}return e}({},n.injectUi("".concat(a,":EditorContentSection")))})(Object(s.observer)(function(e){var t=e.title,n=e.canToggle,a=void 0===n||n,o=e.children,i=e.ui,c=e.updateUi,l=y()("EditorContentSection",{"can-toggle":a,"is-closed":i.isClosed});return r.a.createElement("div",{className:l},t?r.a.createElement("div",{className:"EditorContentSection-header flex items-center",onClick:function(){a&&c("set","isClosed",!i.isClosed)}},r.a.createElement("div",{className:"EditorContentSection-title flex-1"},r.a.createElement("div",{className:"EditorContentSection-title-inner"},r.a.createElement(L.a,{name:"caret ".concat(i.isClosed?"right":"down")}),t,r.a.createElement(L.a,{name:"caret ".concat(i.isClosed?"left":"down")})))):null,i.isClosed?null:r.a.createElement("div",{className:"EditorContentSection-content"},o))})),Vn=n(1504),Wn=n(80),Kn=n(1510),Jn={c:"text/x-csrc",cpp:"text/x-c++src",csharp:"text/x-csharp",css:"text/css",go:"text/x-go",html:"text/html",http:"message/http",java:"text/x-java",js:"text/javascript",json:"application/json",jsx:"text/jsx",markdown:"text/x-markdown",objectivec:"text/x-objectivec",perl:"text/x-perl",php:"text/x-php",python:"text/x-python",ruby:"text/x-ruby",scala:"text/x-scala",shell:"text/x-sh",sql:"text/x-sql",swift:"text/x-swift",xml:"application/xml",yaml:"text/x-yaml"},Gn=n(1339),Qn=n.n(Gn),Xn=Qn.a,Yn=n(205),Zn=n(45),ea=n.n(Zn);"undefined"!=typeof window&&(zn=(0,n(1341).createWorker)(n(1344)()));var ta=zn;function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ra(e,t){return!t||"object"!==na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ca=ea.a.findDOMNode;function la(e){return e?e.replace(/\r\n|\r/g,"\n"):e}var sa=function(){};i.a.set(sa,"prototype.displayText","set(key: String, val: any) OR set(val: any)");var ua=function(){};i.a.set(ua,"prototype.displayText","get(key: String) OR get()");var pa=function(e,t){return{prototype:{displayText:!e&&t.step?"input    : The HTTP request this step will send.":t.proxy?"request  : The incoming HTTP request, before it is proxied to your upstream URL.":"request  : The incoming HTTP request. Only applicable when triggering the collection from URL."},method:{get:ua,set:sa},url:{get:ua,set:sa},body:{get:ua,set:sa},headers:{get:ua,set:sa},set:sa,get:ua}},da=function(e,t){return{prototype:{displayText:!e&&t.step?"output   : The HTTP response returned from the request sent in this step.":t.proxy?"response : The HTTP response. This is sent back to the downstream consumer.":"response : The HTTP response. Only applicable when triggering the collection from URL."},status:{get:ua,set:sa},body:{get:ua,set:sa},headers:{get:ua,set:sa},set:sa,get:ua}},fa=function(e){var t={$$:function(e){var t,n;return e.proxy?(t="$$       : Properties and functions to work with the current HTTP request.",n="env      : The instance's current environment properties."):(t="$$       : Properties and functions to work with the current collection run.",n="env      : The collection's current environment properties."),{prototype:{displayText:t},env:{prototype:{displayText:n},get:ua,set:sa},request:pa(!0,e),response:da(!0,e)}}(e),$:{prototype:{displayText:"$        : Properties and functions to work with the current scenario."},ctx:{prototype:{displayText:"ctx      : The scenario context. Store temporary values here. They can be accessed in subsequent steps."},get:ua,set:sa}}};if(e.step){var n=function(e){var t={};return e.http&&(t=pa(!1,e)),t}(e);i.a.isEmpty(n)||(t.input=n);var a=function(e){var t={};return e.http&&(t=da(!1,e)),t}(e);i.a.isEmpty(a)||(t.output=a),e.conductor&&(t.tests={prototype:{displayText:"tests    : Set this object's properties to true or false to add assertions."}})}return t.SL={prototype:{displayText:"SL       : Various helper functions."},specs:{prototype:{displayText:"specs : Functions to work with connected API specifications."},buildResponse:{prototype:{displayText:"buildResponse(method: String, url: String, statusCode: Number, contentType: String, exampleKey?: String) response"}}}},t._={prototype:{displayText:"_        : Lodash library functions."}},t};function ma(e){var t=e.options||{};if(!i.a.isEmpty(e.autocompleteScopes)){var n=e.autocompleteScopes;i.a.set(t,["extraKeys","Ctrl-Space"],"autocomplete"),i.a.set(t,["extraKeys","'.'"],function(t){return setTimeout(function(){t.execCommand("autocomplete")},100),e.codeMirrorInstance.Pass}),t.hintOptions={completeSingle:!1,globalScope:fa(n)}}return t}var ha=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=ra(this,(e=oa(t)).call.apply(e,[this].concat(r)))).state={isFocused:!1},n.currentHighlightLineNumbers=null,n.getCodeMirrorInstance=function(){return n.props.codeMirrorInstance},n.unHighlightLineNumbers=function(e){i.a.forEach(e,function(e){n.codeMirror.eachLine(Math.max(e.from-1,0),e.to,function(e){n.codeMirror.removeLineClass(e,"wrap","CodeMirror-highlightedText")})})},n.highlightLineNumbers=function(e){i.a.forEach(e,function(e){n.codeMirror.eachLine(Math.max(e.from-1,0),e.to,function(e){n.codeMirror.addLineClass(e,"wrap","CodeMirror-highlightedText")})})},n.getCodeMirror=function(){return n.codeMirror},n.focus=function(){n.codeMirror&&n.codeMirror.focus()},n.focusChanged=function(e){var t=n.props.onFocusChange;n.setState({isFocused:e}),t&&t(n.getCodeMirror().doc.getValue(),e)},n.scrollChanged=function(e){var t=n.props.onScroll;t&&t(e.getScrollInfo())},n.codemirrorValueChanged=function(e,t){var a=n.props,r=a.highlightPath,o=a.onChange,i=e.getValue();n.highlightLines(i,r),o&&"setValue"!==t.origin&&o(i,t)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(t,r.a.Component),function(e,t,n){t&&aa(e.prototype,t),n&&aa(e,n)}(t,[{key:"componentWillMount",value:function(){this.highlightLines=i.a.debounce(this.highlightLines,500,{leading:!0})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.highlightPath,n=e.highlightRange,a=e.value,r=e.defaultValue,o=ca(this.refs.textarea),i=this.getCodeMirrorInstance();this.codeMirror=i.fromTextArea(o,ma(this.props)),this.codeMirror.on("change",this.codemirrorValueChanged),this.codeMirror.on("focus",this.focusChanged.bind(this,!0)),this.codeMirror.on("blur",this.focusChanged.bind(this,!1)),this.codeMirror.on("scroll",this.scrollChanged),this.codeMirror.setValue(r||a||""),t&&this.highlightLines(a,t,{focus:!0}),n&&this.highlightLineNumbers(n)}},{key:"componentWillUnmount",value:function(){this.codeMirror&&this.codeMirror.toTextArea()}},{key:"componentWillReceiveProps",value:function(e){if(this.codeMirror&&void 0!==e.value&&la(this.codeMirror.getValue())!==la(e.value))if(this.props.preserveScrollPosition){var t=this.codeMirror.getScrollInfo();this.codeMirror.setValue(e.value),this.codeMirror.scrollTo(t.left,t.top)}else this.codeMirror.setValue(e.value);if("object"===na(e.options)){var n=ma(e);for(var a in n)n.hasOwnProperty(a)&&this.codeMirror.setOption(a,n[a])}e.highlightPath&&!i.a.isEqual(this.props.highlightPath,e.highlightPath)&&this.highlightLines(e.value,e.highlightPath,{focus:!0}),e.highlightRange&&!i.a.isEqual(this.props.highlightRange,e.highlightRange)&&(this.unHighlightLineNumbers(this.props.highlightRange),this.highlightLineNumbers(e.highlightRange))}},{key:"highlightLines",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i.a.isEmpty(t)){var r=a.focus;ta.postMessage({data:e,propPath:t}).then(function(e){if(e&&!i.a.get(e,"error")){var t=i.a.get(e,"from",0),a=i.a.get(e,"to",0);if(r){var o=n.codeMirror.charCoords({line:t-1,ch:0},"local").top;n.codeMirror.scrollTo(null,Math.max(o-33,0))}if(!i.a.isEqual(n.currentHighlightLineNumbers,e)){if(n.currentHighlightLineNumbers){var c=n.currentHighlightLineNumbers.from,l=n.currentHighlightLineNumbers.to;n.unHighlightLineNumbers([{from:c,to:l}])}n.highlightLineNumbers([{from:t,to:a}]),n.currentHighlightLineNumbers=e}}}).catch(function(n){console.error("LineNumberWorker:error",{error:n,data:e,propPath:t})})}}},{key:"render",value:function(){var e=this.props,t=e.path,n=e.value,a=e.className,o=this.state.isFocused,i=y()("ReactCodeMirror",a,{"ReactCodeMirror--focused":o});return r.a.createElement("div",{className:i},r.a.createElement("textarea",{ref:"textarea",name:t,defaultValue:n,autoComplete:"off"}))}}]),t}();ha.displayName="CodeMirror",ha.propTypes={className:m.a.any,codeMirrorInstance:m.a.func,defaultValue:m.a.string,onChange:m.a.func,onFocusChange:m.a.func,onScroll:m.a.func,options:m.a.object,path:m.a.string,value:m.a.string,preserveScrollPosition:m.a.bool,scopes:m.a.object},ha.defaultProps={preserveScrollPosition:!1};var ya=ha;function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ga(e,t){return!t||"object"!==ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ea(e){return(Ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oa(e,t){return(Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wa,ja=Object(R.b)("components","CodeEditor");"undefined"!=typeof window&&window.localStorage&&(wa=n(1054).default);var Sa=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=ga(this,(e=Ea(t)).call.apply(e,[this].concat(o)))).state={lastBroadcastedValue:null,broadcasting:!1},n.onChange=function(e,t){n.setState({lastBroadcastedValue:e,broadcasting:!0}),n.props.onChange&&n.props.onChange(e,t)},n.parseValue=function(e){var t=n.props.mode,a=e;if("json"===(void 0===t?"json":t)){if("string"==typeof e)try{a=JSON.parse(e)}catch(e){}"object"===ba(a)&&(a=JSON.stringify(a,null,2))}else a=e;return a&&"string"!=typeof a&&(a=JSON.stringify(a,null,2)),a||""},n.renderEditor=function(e){var t=n.props,a=t.mode,o=void 0===a?"json":a,c=t.value,l=t.keyMap,s=t.tabSize,u=t.lineWrapping,p=t.lineNumbers,d=t.readOnly,f=t.placeholder,m=t.lint,h=t.autocompleteScopes,y=t.preserveScrollPosition,b=t.highlightPath,v=t.highlightRange,g=t.onFocus,E=t.onBlur,O=t.theme,w=t.autoRefresh,j=Jn[o]||o,S=f;return i.a.isEmpty(h)||(S="".concat(f," Press ctrl + spacebar to show autocomplete list.")),r.a.createElement(ya,{codeMirrorInstance:e,value:n.parseValue(c),onChange:n.onChange,onFocusChange:function(e,t){t&&g?g(e):!t&&E&&E(e)},highlightPath:b,highlightRange:v,autocompleteScopes:h,preserveScrollPosition:y,options:{mode:j,keyMap:l,tabSize:s,lineWrapping:u,lineNumbers:p,readOnly:d,autoRefresh:w,lint:!Xn.safari&&m,theme:O||"default",placeholder:S,extraKeys:{"Alt-F":"findPersistent"},styleSelectedText:!0,matchBrackets:!0,autoCloseBrackets:!0,highlightSelectionMatches:!0,foldGutter:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]}})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(t,r.a.Component),function(e,t,n){t&&va(e.prototype,t),n&&va(e,n)}(t,[{key:"checkId",value:function(e){e.id||e.name||ja.warn("CodeEditor requires that an id or name be passed in (note that name is deprecated)")}},{key:"componentWillMount",value:function(){this.checkId(this.props),this.props.noDebounce||(this.onChange=i.a.debounce(this.onChange,500,{leading:!0}))}},{key:"componentWillUpdate",value:function(e,t){this.checkId(e),t.broadcasting=!1}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.id!==e.id||this.props.name!==e.name||!t.broadcasting&&t.lastBroadcastedValue!==e.value;return t.broadcasting=!1,n}},{key:"render",value:function(){var e=this.props,t=e.autogrow,n=e.maxLines,a=e.className,o=void 0===a?"":a,i=e.styles,c=void 0===i?{}:i,l=["CodeEditor"];return e.noFill||l.push("fill-space"),t&&l.push("autogrow"),n&&l.push("autogrow-".concat(n)),o&&l.push(o),r.a.createElement(Yn.a,null,r.a.createElement("div",{className:l.join(" "),style:c.root||{}},wa?this.renderEditor(wa):null))}}]),t}();Sa.propTypes={id:m.a.string,name:m.a.string,mode:m.a.string,value:m.a.oneOfType([m.a.string,m.a.object,m.a.array]),keyMap:m.a.string,lineWrapping:m.a.bool,lineNumbers:m.a.bool,readOnly:m.a.bool,placeholder:m.a.string,lint:m.a.bool,tabSize:m.a.number,highlightLines:m.a.object,preserveScrollPosition:m.a.bool,noDebounce:m.a.bool,theme:m.a.string,autoRefresh:m.a.oneOfType([m.a.bool,m.a.object])},Sa.defaultProps={mode:"json",keyMap:"sublime",lineWrapping:!0,lineNumbers:!0,readOnly:!1,placeholder:"Type here...",lint:!0,tabSize:2};var ka=Sa;function xa(){return(xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Na=function(e){var t=e.id,n=e.label,a=e.tip,o=e.required,i=e.mode,c=void 0===i?"json":i,l=e.className,s=void 0===l?"":l,u=e.input,p=Pa(e,["id","label","tip","required","mode","className","input"]);return r.a.createElement("div",{className:"FormCodeEditor ".concat(s)},r.a.createElement(tn.a,{label:n,tip:a,required:o}),r.a.createElement(ka,xa({id:t,mode:c,autogrow:!0,noFill:!0},u,p)))};function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ia(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ra(e,t){return!t||"object"!==Ca(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function La(e,t){return(La=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ua=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Ra(this,(e=Aa(t)).call.apply(e,[this].concat(r)))).state={externalFields:"",fields:[]},n.convertExternalValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return e&&i.a.map(e,function(e,n){i.a.isArray(e)?t.push({name:n,value:e,type:"array"}):i.a.isPlainObject(e)?t.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Ta(e,t,n[t])})}return e}({name:n},e)):t.push({name:n,value:e})}),t},n.onExternalValueChange=function(e,t){t.internal?n.setState({internal:!1}):i.a.isEqual(e.fields,t.externalFields)||n.setState({externalFields:e.fields,fields:n.convertExternalValue(e.fields)})},n.onChange=function(e){var t={},a=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value,u=s.name,p=_a(s,["name"]);"array"===p.type?t[u]=i.a.chain(p.value).split(",").map(i.a.trim).compact().value():i.a.size(p)<=1&&p.hasOwnProperty("value")?t[s.name]=p.value||"":t[u]=p}}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}n.setState({internal:!0,externalFields:t,fields:e}),!n.props.noUnset&&i.a.isEmpty(t)?n.props.handleUpdate("unset",[]):n.props.handleUpdate("set",[],t)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&La(e,t)}(t,r.a.Component),function(e,t,n){t&&Ia(e.prototype,t),n&&Ia(e,n)}(t,[{key:"componentWillMount",value:function(){i.a.isEmpty(this.props.fields)||this.onExternalValueChange(this.props,this.state)}},{key:"componentWillUpdate",value:function(e,t){this.onExternalValueChange(e,t)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.className,o=void 0===a?"":a,c=n.addText,l=void 0===c?"Add":c,s=n.namePlaceholder,u=void 0===s?"":s,p=n.valuePlaceholder,d=void 0===p?"":p,f=n.meta,m=void 0===f?{}:f,h=n.renderFactory,y=n.noAdd,b=n.readOnly,v=n.size;return e=i.a.isEmpty(this.state.fields)&&h?r.a.createElement("div",{className:"c-muted"},"none"):h?h({fields:this.state.fields,onChange:function(e,n,a){var r=i.a.cloneDeep(t.state.fields);switch(e){case"set":i.a.set(r,n,a);break;case"unset":i.a.unset(r,n)}t.onChange(r)},onRemove:function(e){var n=i.a.cloneDeep(t.state.fields);i.a.pullAt(n,e),t.onChange(n)}}):this.state.fields.map(function(e,n){return r.a.createElement("div",{key:n,className:"mt-3"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(Kt.a,{id:"FormInputMapKey-".concat(n),input:{value:e.name,onChange:function(e,a){var r=a.value,o=i.a.cloneDeep(t.state.fields);i.a.set(o,[n,"name"],r),t.onChange(o)}},disabled:m.submitting,placeholder:u,className:"flex-1 mr-2",readOnly:b,size:v,fluid:!0}),r.a.createElement("b",null,":"),r.a.createElement(Kt.a,{id:"FormInputMapValue-".concat(n),input:{value:e.value,onChange:function(e,a){var r=a.value,o=i.a.cloneDeep(t.state.fields);i.a.set(o,[n,"value"],r),t.onChange(o)}},disabled:m.submitting,placeholder:d,className:"flex-1 ml-2",readOnly:b,size:v,fluid:!0}),b?null:r.a.createElement("div",{className:"ml-3"},r.a.createElement(q.a,{icon:"trash",size:v,onClick:function(){var e=i.a.cloneDeep(t.state.fields);i.a.pullAt(e,n),t.onChange(e)}}))))}),r.a.createElement("div",{className:"FormInputList ".concat(o)},y||b?null:r.a.createElement(q.a,{onClick:function(){var e=i.a.cloneDeep(t.state.fields);e.push({name:"",value:""}),t.onChange(e)},basic:!0,disabled:b,size:v},l),e)}}]),t}();Ua.propTypes={fields:m.a.object,className:m.a.string,handleUpdate:m.a.func.isRequired,noAdd:m.a.bool,noUnset:m.a.bool,renderFactory:m.a.func,size:m.a.string};var Ma=Ua,Ba=n(1498);function Ha(){return(Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function qa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Da=function(e){var t=e.checked,n=e.onChange,a=e.className,o=void 0===a?"":a,i=e.label,c=e.tip,l=e.required,s=e.labelProps,u=qa(e,["checked","onChange","className","label","tip","required","labelProps"]);return r.a.createElement("div",{className:y()("FormRadio flex",o,{"FormRadio-labeled":i})},r.a.createElement(Ba.a,Ha({className:y()({"pr-2":i}),checked:t,onChange:n},u)),r.a.createElement(tn.a,Ha({label:i,tip:c,required:l},s)))};function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $a=function(e){var t,n=e.id,a=e.className,o=void 0===a?"":a,c=e.input,l=void 0===c?{}:c,s=e.handleUpdate,u=e.readOnly,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=i.a.map(t,function(e,t){return{name:t,value:e}}),r=i.a.findIndex(a,function(e){return"content-type"===e.name.toLowerCase()});if(r>=0){var o=!1;if(n?(a[r].value=n,o=!0):1===a.length?e("unset",["input","headers"]):(i.a.pullAt(a,r),o=!0),o){var c={},l=!0,s=!1,u=void 0;try{for(var p,d=a[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;c[f.name]=f.value}}catch(e){s=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw u}}e("set",["input","headers"],c)}}else n&&e("set",["input","headers"],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){za(e,t,n[t])})}return e}({},t,{"Content-Type":n}))},d=l.headers||{},f=d["content-type"]||d["Content-Type"];i.a.includes(["application/x-www-form-urlencoded","multipart/form-data"],f)||(t=!0);var m,h="text";return i.a.isEmpty(f)||(f.match(/json/)?h="json":f.match(/xml/)?h="xml":f.match(/html/)),m=t?r.a.createElement(Na,{id:n,readOnly:u,input:{value:l.body||"",onChange:function(e){s("set",["input","body"],e)}},mode:h}):r.a.createElement(Ma,{id:n,fields:"object"===Fa(l.body)?l.body:{},handleUpdate:function(e,t,n){return s(e,["input","body"].concat(t),n)},addText:"Add Property",namePlaceholder:"param name",valuePlaceholder:"param value",readOnly:u,size:"tiny"}),r.a.createElement("div",{className:"FormHttpBodyEditor ".concat(o)},r.a.createElement("div",{className:"flex mb-6 items-center"},r.a.createElement(nn.a,{className:"mr-6",text:f||"no content type",button:!0,basic:!0,disabled:u,size:"tiny",options:[{text:"no content type",value:null},{text:"Text (text/plain)",value:"text/plain"},{text:"JSON (application/json)",value:"application/json"},{text:"Javascript (application/javascript)",value:"application/javascript"},{text:"XML (application/xml)",value:"application/xml"},{text:"XML (text/xml)",value:"text/xml"},{text:"HTML (text/html)",value:"text/html"}],onChange:function(e,t){var n=t.value;p(s,l.headers,n)}}),r.a.createElement("div",{className:"mr-6"},r.a.createElement(Da,{label:"raw",labelProps:{className:"text-sm font-normal"},name:"contentType",checked:t,onClick:function(e,t){var n=t.value;return p(s,l.headers,n)},disabled:u})),r.a.createElement("div",{className:"mr-6"},r.a.createElement(Da,{label:"x-www-form-urlencoded",labelProps:{className:"text-sm font-normal"},name:"contentType",value:"application/x-www-form-urlencoded",checked:"application/x-www-form-urlencoded"===f,onClick:function(e,t){var n=t.value;return p(s,l.headers,n)},disabled:u})),r.a.createElement("div",{className:"mr-6"},r.a.createElement(Da,{label:"form-data",labelProps:{className:"text-sm font-normal"},name:"contentType",value:"multipart/form-data",checked:"multipart/form-data"===f,onClick:function(e,t){var n=t.value;return p(s,l.headers,n)},disabled:u}))),m)},Va=n(1499);function Wa(){return(Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ka(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ja=function(e){var t=e.checked,n=e.onChange,a=e.label,o=e.labelPosition,i=void 0===o?"left":o,c=e.labelClassname,l=e.labelStyle,s=e.tip,u=e.required,p=e.className,d=void 0===p?"":p,f=e.inline,m=e.checkboxProps,h=e.inverted,b=e.transparent,v=Ka(e,["checked","onChange","label","labelPosition","labelClassname","labelStyle","tip","required","className","inline","checkboxProps","inverted","transparent"]),g=r.a.createElement(tn.a,{inline:f,label:a,tip:s,required:u,className:c,style:l,inverted:h||b});return r.a.createElement("div",{className:y()("FormCheckbox",d,"flex",f?"is-inline items-center":"flex-col",{transparent:b})},"left"===i&&g,r.a.createElement(Va.a,Wa({checked:!!t,onChange:function(e,t){n&&n(t.checked)}},m,v)),"right"===i&&g)},Ga=n(1511),Qa=n(317),Xa=n(1500);function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function er(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function nr(e,t){return!t||"object"!==Ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=nr(this,ar(t).call(this,e))).handleOpen=function(e){n.props.onOpen&&n.props.onOpen(),n.setState({modalOpen:!0})},n.handleClose=function(){n.props.onClose&&n.props.onClose(),n.props.forceOpen||n.setState({modalOpen:!1})},n.state={modalOpen:e.initialOpen},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,r.a.Component),function(e,t,n){t&&tr(e.prototype,t),n&&tr(e,n)}(t,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.className,o=void 0===a?"":a,c=n.title,l=n.content,s=n.contentFactory,u=n.forceOpen,p=n.triggerFactory,d=n.triggerButton,f=n.cancelButton,m=n.confirmButton,h=n.size,y=void 0===h?"small":h,b=n.contentProps,v=void 0===b?{}:b,g=er(n,["className","title","content","contentFactory","forceOpen","triggerFactory","triggerButton","cancelButton","confirmButton","size","contentProps"]),E=i.a.omit(g,["initialOpen"]),O=this.state.modalOpen||u;d?e=r.a.createElement(q.a,Za({},d,{onClick:function(e){d.onClick?d.onClick(e,t):t.handleOpen(e)}})):p&&(e=p({handleOpen:this.handleOpen}));var w=[];return f&&w.push(r.a.createElement(q.a,Za({key:"modal-cancelButton"},f,{onClick:function(e){f.onClick?f.onClick(e,t):t.handleClose(e)}}))),m&&w.push(r.a.createElement(q.a,Za({key:"modal-confirmButton"},m,{onClick:function(e){m.onClick?m.onClick(e,t):t.handleClose(e)}}))),r.a.createElement(Xa.a,Za({},E,{className:o,trigger:e,open:O||!1,onClose:this.handleClose,size:y,style:{top:"10%"}}),c&&r.a.createElement(Xa.a.Header,null,c),r.a.createElement(Xa.a.Content,v,r.a.createElement(Xa.a.Description,null,O?s(this):l)),w.length>0&&r.a.createElement(Xa.a.Actions,null,w))}}]),t}();function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function lr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lr(this,sr(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,r.a.Component),function(e,t,n){t&&cr(e.prototype,t),n&&cr(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.readOnly,n=e.tokenStore,a=e.className,o=e.oauth2,c=void 0===o?{}:o,l=n.credentials,s=void 0===l?{}:l,u=n.authorizationMethod,p=n.authConfig,d=void 0===p?{}:p,f=n.isValid,m=n.isCreatingToken,h=n.getToken,b=n.updateCredentials,v=n.updateIsCreatingToken,g=n.error,E=n.clearError,O=s.flow,w=void 0===O?"accessCode":O;return r.a.createElement(or,{title:"Get Access Token",size:"tiny",triggerButton:{secondary:!0,content:"Get Access Token",size:"tiny"},cancelButton:{negative:!0,content:"Cancel"},onClose:function(){v(!1),E()},confirmButton:{positive:!0,disabled:m||!f,loading:m,content:"Get Access Token",onClick:function(e,t){E(),h({onSuccess:function(){t.handleClose(),we.a.success("Access Token Created.")}})}},contentFactory:function(){return r.a.createElement("div",{className:y()("text-sm",a)},g&&r.a.createElement(U.a,{className:"mb-6",error:"Error getting access token, check the developer console for more details."}),!t&&r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{value:i.a.get(s,"name",""),placeholder:"My OAuth token",onChange:function(e,t){var n=t.value;b("set","name",n)},label:{content:"Token Name",basic:!0,className:"Label-fw"},fluid:!0})),!t&&r.a.createElement("div",{className:"mb-2"},r.a.createElement(pn,{value:w,onChange:function(e,t){var n=t.value;b("set","flow",n)},options:[{text:"Authorization Code",value:"accessCode"},{text:"Implicit",value:"implicit"},{text:"Password Credentials",value:"password"},{text:"Client Credentials",value:"application"}],label:{content:"Grant Type",basic:!0,className:"Label-fw"},inline:!0,fluid:!0})),"password"===w&&[r.a.createElement("div",{className:"mb-2",key:"username"},r.a.createElement(Kt.a,{value:i.a.get(s,"username",""),placeholder:"username",onChange:function(e,t){var n=t.value;b("set","username",n)},label:{content:"Username*",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-2",key:"password"},r.a.createElement(Kt.a,{type:"password",value:i.a.get(s,"password",""),placeholder:"****************************************",onChange:function(e,t){var n=t.value;b("set","password",n)},label:{content:"Password*",basic:!0,className:"Label-fw"},fluid:!0}))],r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{value:i.a.get(s,"client_id",""),placeholder:"12345123451234512345",onChange:function(e,t){var n=t.value;b("set","client_id",n)},label:{content:"Client ID*",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{type:"password",value:i.a.get(s,"client_secret",""),placeholder:"****************************************",onChange:function(e,t){var n=t.value;b("set","client_secret",n)},label:{content:"Client Secret*",basic:!0,className:"Label-fw"},fluid:!0})),!t&&r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{value:i.a.get(s,"scope",""),placeholder:"scope1, scope2",onChange:function(e,t){var n=t.value;b("set","scope",n)},label:{basic:!0,className:"Label-fw",children:r.a.createElement("div",null,"Scopes (optional)",r.a.createElement("span",{className:"FormInputTip"},r.a.createElement(Ga.a,{trigger:r.a.createElement(L.a,{name:"question",size:"small"}),content:'Seperate scopes by a comma. Ex "scope1, scope2"',size:"small",wide:"very"})))},fluid:!0})),("accessCode"===w||"authorizationCode"===w||"implicit"===w)&&(t?r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{value:i.a.get(s,"authorize_url",""),placeholder:"https://provider.com/oauth/authorize",onChange:function(e,t){var n=t.value;b("set","authorize_url",n)},label:{content:"Authorize URL*",basic:!0,className:"Label-fw"},fluid:!0})):r.a.createElement("div",{className:"mb-2"},r.a.createElement(pn,{value:i.a.get(s,"authorize_url",""),placeholder:"https://provider.com/oauth/authorize",onChange:function(e,t){var n=t.value;b("set","authorize_url",n)},label:{content:"Authorize URL*",basic:!0,className:"Label-fw"},options:i.a.uniqBy(i.a.concat(Qa.b.map(function(e){return{text:e,value:e}}),[{text:s.authorize_url,value:s.authorize_url}]),"value"),inline:!0,fluid:!0}))),"implicit"!==w&&(t?r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{value:i.a.get(s,"access_token_url",""),placeholder:"https://provider.com/oauth/access_token",onChange:function(e,t){var n=t.value;b("set","access_token_url",n)},label:{content:"Access Token URL*",basic:!0,className:"Label-fw"},fluid:!0})):r.a.createElement("div",{className:"mb-2"},r.a.createElement(pn,{value:i.a.get(s,"access_token_url",""),placeholder:"https://provider.com/oauth/access_token",onChange:function(e,t){var n=t.value;b("set","access_token_url",n)},label:{content:"Access Token URL*",basic:!0,className:"Label-fw"},options:i.a.uniqBy(i.a.concat(Qa.a.map(function(e){return{text:e,value:e}}),[{text:s.access_token_url,value:s.access_token_url}]),"value"),inline:!0,fluid:!0}))),("accessCode"===w||"authorizationCode"===w||"implicit"===w)&&!t&&r.a.createElement("div",{className:"mb-4"},r.a.createElement(Kt.a,{value:d.redirectUri,label:{basic:!0,className:"Label-fw",children:r.a.createElement("div",null,"Callback URL"," ",r.a.createElement("span",{className:"FormInputTip"},r.a.createElement(Ga.a,{trigger:r.a.createElement(L.a,{name:"question",size:"small"}),content:"Enter this in the application settings of your API provider.",size:"small",wide:"very"})))},readOnly:!0,fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(pn,{value:u,onChange:function(e,t){var n=t.value;b("set","authorization_method",n)},label:{content:"Client Authentication",basic:!0,className:"Label-fw"},options:[{text:"Send as Basic Auth header",value:"header"},{text:"Send client credentials in body",value:"body"}],inline:!0,fluid:!0})))},onOpen:function(){i.a.isEmpty(c.credentials)||b("set",[],c.credentials||{})}})}}]),t}(),dr=Object(s.inject)(function(e){var t=e.oauthTokenStore,n=e.userService,a=e.projectService,r=i.a.get(n,"authorizedUser.id"),o=i.a.get(a,"current.id");return{tokenStore:t.getOrRegisterInstance(r,o)}})(Object(s.observer)(pr));function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mr(){return(mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var hr=Object(s.inject)(function(e,t){var n=e.appStore,a=t.id,r=t.forceOpen;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){fr(e,t,n[t])})}return e}({},n.injectUi("EntityEditorGroup-".concat(a),{forceOpen:r}))})(Object(s.observer)(function(e){var t,n=e.id,a=e.name,o=e.className,c=void 0===o?"":o,l=e.children,s=e.contentFactory,u=e.contentClassName,p=void 0===u?"":u,d=e.padded,f=e.active,m=e.warning,h=e.error,b=e.subtitle,v=e.defaultOpen,g=e.ui,E=e.updateUi,O=e.actions,w=void 0===O?[]:O,j=e.tipFactory,S=e.onToggle,k=e.forceOpen;S?k&&(t=!0):(g.open||!g.hasOwnProperty("open")&&(v||g.forceOpen))&&(t=!0);var x=i.a.map(w,function(e,t){return r.a.createElement("div",{className:"EntityEditorGroup-action",key:t},r.a.createElement(q.a,mr({basic:!0,compact:!0,size:"mini"},e)))});return r.a.createElement("div",{id:n,className:y()("EntityEditorGroup",c,{"is-active":f,"is-open":t})},r.a.createElement("div",{className:"EntityEditorGroup-header flex items-center",onClick:function(e){t&&"button"===i.a.get(e,"target.tagName","").toLowerCase()||(E("set",["open"],!t),S&&S(!t))}},r.a.createElement("div",{className:"EntityEditorGroup-toggle"},r.a.createElement(L.a,{name:y()("caret",t?"down":"right")})),r.a.createElement("div",{className:"EntityEditorGroup-name"},a),i.a.isEmpty(b)?null:r.a.createElement("div",{className:"EntityEditorGroup-subtitle"},b),r.a.createElement("div",{className:"EntityEditorGroup-actions flex items-center"},x),f?r.a.createElement("div",{className:"EntityEditorGroup-status c-positive"},r.a.createElement(L.a,{name:"check"})):null,m?r.a.createElement("div",{className:"EntityEditorGroup-status c-warning"},r.a.createElement(L.a,{name:"exclamation circle"})):null,h?r.a.createElement("div",{className:"EntityEditorGroup-status c-error"},r.a.createElement(L.a,{name:"exclamation circle"})):null,r.a.createElement("div",{className:"flex-1"}),j?r.a.createElement(Ga.a,{trigger:r.a.createElement("div",null,r.a.createElement(L.a,{className:"c-muted",name:"question circle"})),size:"small",position:"top center",hoverable:!0,wide:!0},j()):null),r.a.createElement("div",{className:"EntityEditorGroup-content"},r.a.createElement("div",{className:y()(p,{"p-3":d})},t?l||s():null)))}));var yr=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{editor:n.getEditor({id:a})}})(Object(s.observer)(function(e){var t,n,a,o=e.name,c=e.editor,l=void 0===c?{}:c,s=e.className,u=void 0===s?"":s,p=e.showEmptyMessage,d=l.currentStepPathParams,f=!i.a.isEmpty(d);if(!f&&!p)return null;var m,h=0;return i.a.forEach(d,function(e){(i.a.isUndefined(e)||"string"==typeof e&&i.a.isEmpty(e))&&(h+=1)}),h>0?(a=!0,t="".concat(h," path ").concat(xe()("param",h)," not set")):n=!0,f?m=i.a.map(d,function(e,t){return r.a.createElement(Kt.a,{key:t,value:i.a.isUndefined(e)?"":"".concat(e),className:"EntityEditorGroup-input",placeholder:"value",onChange:function(e){var n=Object(ae.a)(e.target.value,e.target.value),a=i.a.cloneDeep(d);i.a.set(a,t,i.a.isObject(n)&&i.a.isEmpty(n)?"":n),l.updateCurrentStepPathParams(a)},label:{content:t,basic:!0,className:"Label-fw"},fluid:!0})}):p&&(m=r.a.createElement("div",{className:"p-4"},p)),r.a.createElement(hr,{id:"used-path-params",className:"PathParamEditor ".concat(u),name:o||"Path Params",active:n,warning:a,subtitle:t,forceOpen:a,defaultOpen:!0,contentFactory:function(){return r.a.createElement("div",null,m)}})})),br=n(447),vr={releasing:"/platform/versioning/releases",versioning:"/platform/versioning/versions",embedding:"/documentation/embed-your-hub",auth0:"/documentation/authorizations/auth0","/documentation/variables-hubs":"/documentation/variables-hubs","custom-css":"/documentation/design/custom-css","$.ctx":"/testing/using-variables/context","contract-testing":"/testing/leveraging-openapi/contract-testing","referencing-other-scenarios":"/testing/referencing-other-scenarios","fair-use-billing":"/platform/getting-started/billing#fair-use-billing-policy","run-a-simple-mock-server":"/mocking/introduction#run-a-simple-mock-server","run-in-terminal":"/testing/running-tests/in-the-terminal","sending-http-requests":"/modeling/modeling-with-openapi/sending-http-requests"},gr=function(e){var t=e.className,n=e.feature,a=e.children;if(!n||!vr[n])return null;var o="https://docs.stoplight.io"+(vr[n]||"");return r.a.createElement(D.a,{className:y()("truncate",t),to:o},a||r.a.createElement("span",null,r.a.createElement(_e.Icon,{className:"text-sm",icon:br.faBook}),r.a.createElement("span",{className:"ml-1"},"Learn More")))};var Er=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{editor:n.getEditor({id:a})}})(Object(s.observer)(function(e){var t,n=e.name,a=e.editor,o=void 0===a?[]:a,c=e.className,l=void 0===c?"":c,s=o.currentPopulatedCtxVariables;if(i.a.isEmpty(s))return null;var u,p,d=0;return i.a.forEach(s,function(e){(i.a.isUndefined(e)||"string"==typeof e&&i.a.isEmpty(e))&&(d+=1)}),d>0?(p=!0,t="".concat(d," ").concat(xe()("variable",d)," not set")):u=!0,r.a.createElement(hr,{id:"used-ctx",className:"CtxVariableEditor ".concat(l),name:n||"$.ctx",active:u,warning:p,subtitle:t,forceOpen:p,defaultOpen:!0,tipFactory:function(){return r.a.createElement("div",null,"$.ctx makes it easy to pass data between steps. These inputs will display the last $.ctx values saved in this scenario. You can also edit them and re-run this step for easy debugging.",r.a.createElement("br",null),r.a.createElement(gr,{className:"mt-2 d-b",feature:"$.ctx"}))},contentFactory:function(){return r.a.createElement("div",null,i.a.map(s,function(e,t){return r.a.createElement(Kt.a,{key:t,value:Object(ae.b)(e,0),className:"EntityEditorGroup-input",placeholder:"value",onChange:function(e){var n=Object(ae.a)(e.target.value,e.target.value),a=i.a.cloneDeep(s);i.a.set(a,t,i.a.isObject(n)&&i.a.isEmpty(n)?"":n),o.updateCurrentCtxVariables(a)},label:{content:t,basic:!0,className:"Label-fw"},fluid:!0})}))}})})),Or=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{currentEditor:n.getEditor({id:a})}})(Object(s.observer)(function(e){var t=e.name,n=e.currentEditor,a=e.className,o=e.showEmptyMessage,c=n.currentPopulatedEnvVariables,l=[],s=i.a.get(n,"currentStep.data.input.auth",{});if("basic"===s.type){var u=s.password.match(/{\$\$\.env\.(.+)}/);u&&l.push(u[1])}var p=!i.a.isEmpty(c);if(!p&&!o)return null;var d,f,m,h,y=i.a.cloneDeep(c),b=0;return i.a.forEach(c,function(e){(i.a.isUndefined(e)||"string"==typeof e&&i.a.isEmpty(e))&&(b+=1)}),b>0?(m=!0,d="".concat(b," ").concat(xe()("variable",b)," not set")):f=!0,p?h=i.a.map(c,function(e,t){return r.a.createElement(Kt.a,{key:t,value:Object(ae.b)(e,0),className:"EntityEditorGroup-input",placeholder:"value",type:i.a.includes(l,t)?"password":"text",onChange:function(e,a){var r=a.value,o=Object(ae.a)(r,r);i.a.isObject(o)&&i.a.isEmpty(o)&&(o=""),i.a.set(y,t,o),n.updateVariables(y)},label:{content:t,basic:!0,className:"Label-fw"},fluid:!0})}):o&&(h=r.a.createElement("div",{className:"p-4"},o)),r.a.createElement(hr,{id:"used-env",className:"EnvVariableEditor ".concat(a),name:t||"$$.env",active:f,warning:m,subtitle:d,forceOpen:m,defaultOpen:!0,contentFactory:function(){return r.a.createElement("div",null,h)}})}));function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jr=function(e){var t=e.editorId,n=e.standalone,a=e.currentEnv,o=e.updateVariables,i=e.oauth2,c=e.modeling,l=[];return n&&l.push(r.a.createElement(Ja,{key:"skipPrism",className:"mt-4",checked:a.skipPrism,onChange:function(){o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){wr(e,t,n[t])})}return e}({},a,{skipPrism:!a.skipPrism}))},label:"Send requests directly from the browser (CORS must be enabled)",labelPosition:"left",labelStyle:{color:"black"},tip:r.a.createElement("div",null,"Disabling this option will proxy HTTP requests through Prism in order to bypass Cross Origin Resource Sharing (CORS). ",r.a.createElement(gr,{feature:"sending-http-requests"})),inline:!0})),l.push(r.a.createElement(yr,{key:"1",editorId:t,name:"Path Params",className:"text-sm mt-4"})),c||l.push(r.a.createElement(Er,{key:"2",editorId:t,name:"$.ctx",className:"text-sm mt-4"})),l.push(r.a.createElement(Or,{key:"3",editorId:t,name:"$$.env",className:"text-sm mt-4",showEmptyMessage:"No $$.env variables are being used in this request."})),i&&l.push(r.a.createElement("div",{key:"4",className:"mt-4"},r.a.createElement(dr,{oauth2:i,readOnly:!0}))),l},Sr=n(1372),kr=n.n(Sr),xr=n(1502),Pr=n(1501),Nr=Object(s.inject)(function(e,t){var n=e.oauthTokenStore,a=e.userService,r=e.projectService,o=i.a.get(a,"authorizedUser.id"),c=i.a.get(r,"current.id");return{tokenStore:n.getOrRegisterInstance(o,c)}})(Object(s.observer)(function(e){var t=e.ui,n=void 0===t?{}:t,a=e.uiScope,o=e.updateUi,c=e.userId,l=e.handleUpdate,s=e.currentVariables,u=e.activeToken,p=e.input,d=void 0===p?{}:p,f=e.config,m=void 0===f?{}:f,h=e.editor,b=e.tokenStore,v=b.tokenList;return r.a.createElement("div",null,r.a.createElement(dr,{oauth2:m.oauth2}),r.a.createElement(hr,{id:"oath-Tokens",className:"text-sm mt-6",name:"Tokens",active:u,error:!u,forceOpen:!u,subtitle:u?null:"No active token",contentFactory:function(){return i.a.isEmpty(v)?r.a.createElement("div",{className:"text-sm p-4 text-muted"},"You have no tokens"):r.a.createElement("div",{className:"p-4"},r.a.createElement(xr.a,{basic:"very",tableData:v,compact:"very",headerRow:r.a.createElement(xr.a.Row,null,r.a.createElement(xr.a.HeaderCell,null),r.a.createElement(xr.a.HeaderCell,null,"Name"),r.a.createElement(xr.a.HeaderCell,null,"Value"),r.a.createElement(xr.a.HeaderCell,null,"Scope"),r.a.createElement(xr.a.HeaderCell,null,"Created At"),r.a.createElement(xr.a.HeaderCell,null)),renderBodyRow:function(e,t){var i=u===e.access_token;return r.a.createElement(xr.a.Row,{key:t},r.a.createElement(xr.a.Cell,{className:"oauth-add"},r.a.createElement(Pr.a,{className:i?"active-token":null,trigger:r.a.createElement("div",{disabled:!0,className:y()("text-sm px-2 py-1/2 text-white rounded",i?"bg-green cursor-default":"bg-blue cursor-pointer hover:opacity-100 opacity-85")},i?"Active":"Set Active")},r.a.createElement(Pr.a.Menu,null,r.a.createElement(Pr.a.Item,{text:"Add To Headers",onClick:function(){l("set",["input"],Object(Qa.c)(d,{access_token:e.access_token,useHeader:!0,type:"oauth2"},s)),h&&h.updateVariables({oauth_access_token:e.access_token},{preserveShared:!0}),we.a.success("Access token added to headers.")}}),r.a.createElement(Pr.a.Item,{text:"Add To Query",onClick:function(){l("set",["input"],Object(Qa.c)(d,{access_token:e.access_token,type:"oauth2"},s)),h&&h.updateVariables({oauth_access_token:e.access_token},{preserveShared:!0}),we.a.success("Access token added to query.")}})))),r.a.createElement(xr.a.Cell,null,e.name),r.a.createElement(xr.a.Cell,null,r.a.createElement(Ga.a,{size:"mini",trigger:r.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),Se()(e.access_token),o("set",a.concat(["copy"]),"Copied!")}},"****".concat(e.access_token.slice(-4))," "),content:n.copy,onClose:function(){return o("set",a.concat(["copy"]),"Click to copy token value to clipboard")},onOpen:function(){return o("set",a.concat(["copy"]),"Click to copy token value to clipboard")},inverted:!0})),r.a.createElement(xr.a.Cell,null,e.scope),r.a.createElement(xr.a.Cell,null,r.a.createElement(kr.a,{date:e.created_at,minPeriod:60})),r.a.createElement(xr.a.Cell,{textAlign:"right"},r.a.createElement(q.a,{icon:"trash",color:"red",size:"tiny",onClick:function(){if(b&&window.confirm("Are you sure you want to delete this token?")){var t=b.remove(e.id,{userId:c});window.Electron&&t&&t.then(function(){we.a.warning("Token removed")}).catch(function(e){we.a.error("Error removing token: ".concat(String(e)))})}}})))}}))}}))}));function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Tr(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(){return(Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Lr=function(e){return r.a.createElement(pn,Ar({},e,{header:"Signature Method",options:[{text:"HMAC-SHA1",value:"HMAC-SHA1"},{text:"HMAC-SHA256",value:"HMAC-SHA256"},{text:"PLAINTEXT",value:"PLAINTEXT"}],defaultValue:"HMAC-SHA1",placeholder:"OAuth1 Signature Method",size:"tiny"}))},Ur=function(e){return r.a.createElement(pn,Ar({},e,{options:[{text:"No Auth",value:"none"},{text:"Basic Auth",value:"basic"},{text:"Digest Auth",value:"digest"},{text:"OAuth 1.0",value:"oauth1"},{text:"OAuth 2.0",value:"oauth2"},{text:"AWS Signature",value:"aws"}],placeholder:"Auth Type",size:"tiny"}))},Mr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Tr(this,(e=Ir(t)).call.apply(e,[this].concat(o)))).renderAws=function(){var e=n.props,t=e.input,a=void 0===t?{}:t,o=e.handleUpdate,c=e.readOnly,l=a.auth,s=void 0===l?{}:l;return r.a.createElement("div",{className:"text-sm"},r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["accessKey"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","accessKey"],n)},readOnly:c},label:{content:"Access Key",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["secretKey"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","secretKey"],n)},readOnly:c},label:{content:"Secret Key",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["region"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","region"],n)},readOnly:c},label:{content:"AWS Region",basic:!0,className:"Label-fw"},placeholder:"for example, `us-east-1`",fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["service"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","service"],n)},readOnly:c},label:{content:"Service Name",basic:!0,className:"Label-fw"},placeholder:"for example, `sqs`",fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["sessionToken"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","sessionToken"],n)},readOnly:c},label:{content:"Session Token",basic:!0,className:"Label-fw"},placeholder:"optional",fluid:!0})))},n.renderBasicAuth=function(){var e=n.props,t=e.input,a=void 0===t?{}:t,o=e.handleUpdate,c=e.ui,l=void 0===c?{}:c,s=e.uiScope,u=e.updateUi,p=e.readOnly,d=a.auth,f=void 0===d?{}:d;return r.a.createElement("div",{className:"text-sm max-w-md"},r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(f,["username"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","username"],n)},readOnly:p},label:{content:"Username",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-3"},r.a.createElement(Kt.a,{input:{type:l.showPassword?"text":"password",value:i.a.get(f,["password"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","password"],n)},readOnly:p},label:{content:"Password",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",null,r.a.createElement(Va.a,{label:"Show Password",value:String(l.showPassword),onChange:function(e,t){u("set",s.concat(["showPassword"]),t.checked)},disabled:p})))},n.renderOAuth1=function(){var e=n.props,t=e.input,a=void 0===t?{}:t,o=e.handleUpdate,c=e.readOnly,l=a.auth,s=void 0===l?{}:l;return r.a.createElement("div",{className:"text-sm max-w-md"},r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["consumerKey"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","consumerKey"],n)},readOnly:c},label:{content:"Consumer Key",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["consumerSecret"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","consumerSecret"],n)},readOnly:c},label:{content:"Consumer Secret",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["token"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","token"],n)},readOnly:c},label:{content:"Token",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["tokenSecret"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","tokenSecret"],n)},readOnly:c},label:{content:"Token Secret",basic:!0,className:"Label-fw"},fluid:!0})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Kt.a,{input:{value:i.a.get(s,["nonceLength"]),onChange:function(e,t){var n=t.value;o("set",["input","auth","nonceLength"],n)},readOnly:c},label:{content:"Nonce Length",basic:!0,className:"Label-fw"},placeholder:"if blank, generates a 32 character nonce",fluid:!0})),r.a.createElement("div",{className:"mb-3"},r.a.createElement(Lr,{value:i.a.get(s,["signatureMethod"]),onChange:function(e){o("set",["input","auth","signatureMethod"],e)}})),r.a.createElement("div",{className:"mb-2"},r.a.createElement(Ja,{label:"Add as header",disabled:c,checked:i.a.get(s,["useHeader"]),onChange:function(e){e?o("set",["input","auth","useHeader"],e):o("unset",["input","auth","useHeader"])}})),r.a.createElement("div",null,r.a.createElement(Ja,{label:"Encode OAuth Signature",disabled:c,checked:i.a.get(s,["encode"]),onChange:function(e){e?o("set",["input","auth","encode"],e):o("unset",["input","auth","encode"])}})))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(t,r.a.Component),function(e,t,n){t&&_r(e.prototype,t),n&&_r(e,n)}(t,[{key:"render",value:function(){var e,t=this.props,n=t.input,a=void 0===n?{}:n,o=t.handleUpdate,i=t.submitting,c=t.currentVariables,l=t.readOnly,s=t.ui,u=t.uiScope,p=t.updateUi,d=t.userId,f=t.activeToken,m=t.editor,h=t.config,y=a.auth,b=void 0===y?{}:y,v=!1;switch(b.type){case"basic":v=!0,e=this.renderBasicAuth();break;case"digest":e=r.a.createElement("div",{className:"text-sm"},"Coming soon.");break;case"oauth1":v=!0,e=this.renderOAuth1();break;case"oauth2":e=r.a.createElement(Nr,{ui:s,uiScope:u,updateUi:p,userId:d,input:a,config:h,editor:m,activeToken:f,currentVariables:c,handleUpdate:o});break;case"aws":v=!0,e=this.renderAws();break;default:e=null}return r.a.createElement("div",null,r.a.createElement("div",{className:"flex content-center ".concat(b.type?"mb-6":"")},r.a.createElement(Ur,{className:"mr-6",value:b.type,disabled:l,onChange:function(e){switch(e){case"basic":o("set",["input","auth"],{type:"basic",username:"",password:""});break;case"digest":o("set",["input","auth"],{type:"digest"});break;case"oauth1":o("set",["input","auth"],{type:"oauth1",consumerKey:"",consumerSecret:"",token:"",tokenSecret:"",nonceLength:"",signatureMethod:"HMAC-SHA1",encode:!0});break;case"oauth2":o("set",["input","auth"],{type:"oauth2"});break;case"aws":o("set",["input","auth"],{type:"aws"});break;default:o("unset",["input","auth"])}}}),v?r.a.createElement(q.a,{disabled:i,onClick:function(){o("set",["input"],Object(Qa.c)(a,b,c))},compact:!0,basic:!0,size:"tiny"},"Update Request"):null),e)}}]),t}(),Br=Object(s.inject)(function(e,t){var n=e.userService,a=e.projectService;return{projectId:i.a.get(a,"current.id"),userId:i.a.get(n,"authorizedUser.id")}})(Object(s.observer)(Mr)),Hr=n(114),qr=n(71);function Dr(){return(Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var zr=function(e){var t=e.locations,n=Fr(e,["locations"]);return r.a.createElement(pn,Dr({placeholder:"choose a location",options:i.a.map(t,function(e){return{text:e,value:e}})},n))},$r=function(e){var t=e.step,n=e.active,a=e.onClick,o=i.a.get(t,"after.transforms"),c="Captures";return i.a.isEmpty(o)||(c=r.a.createElement("span",null,"Captures"," ",r.a.createElement("b",null,r.a.createElement("span",{className:"ml-2 text-active"},"[",o.length,"]")))),r.a.createElement(it.a.Item,{name:"captures",active:n,onClick:a},c)},Vr=function(e){var t=e.logicLocations,n=e.fields,a=void 0===n?[]:n,o=e.handleUpdate,c=e.readOnly;return r.a.createElement("div",null,r.a.createElement("div",{className:"".concat(i.a.isEmpty(a)?"":"mb-3")},r.a.createElement(q.a,{onClick:function(){return o("push",[],{target:"$.ctx",source:"output.body"})},basic:!0,disabled:c,size:"tiny"},"Add Capture"),r.a.createElement("span",{className:"c-muted ml-2"},r.a.createElement(Ga.a,{trigger:r.a.createElement(L.a,{name:"question circle"}),size:"small",position:"top center",hoverable:!0,wide:!0},"Save output values to the temporary $.ctx object to re-use them in subsequent steps, within a single run.",r.a.createElement("br",null),r.a.createElement(gr,{className:"mt-2 d-b",feature:"referencing-other-scenarios"})))),i.a.map(a,function(e,n){var i=Object(qr.g)({locations:t,path:e.target}),l=i.location,s=i.path,u=Object(qr.g)({locations:t,path:e.source}),p=u.location,d=u.path;return r.a.createElement("div",{key:n,className:"mt-2 text-sm"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(zr,{className:"pr-2",disabled:c,value:l,onChange:function(e){o("set",[n,"target"],Object(Hr.a)([e,s]))},placeholder:"target location",locations:t,search:!0}),r.a.createElement(Kt.a,{className:"flex-1",input:{value:s,readOnly:c,onChange:function(e,t){var a=t.value;o("set",[n,"target"],Object(Hr.a)([l,a]))}},placeholder:"path to property to save, ie `userId`",fluid:!0}),r.a.createElement("div",{className:"ml-3 mr-3 font-bold"},"="),r.a.createElement(zr,{className:"pr-2",disabled:c,value:p,onChange:function(e){o("set",[n,"source"],Object(Hr.a)([e,d]))},placeholder:"source location",locations:t,search:!0}),r.a.createElement(Kt.a,{className:"flex-1",input:{value:d,readOnly:c,onChange:function(e,t){var a=t.value;o("set",[n,"source"],Object(Hr.a)([p,a]))}},placeholder:"path to property to capture, ie `users[0].id`",fluid:!0}),r.a.createElement("div",{className:"ml-3"},r.a.createElement(q.a,{icon:"trash",disabled:c,onClick:function(){1===a.length?o("unset",[]):o("pull",[],n)},size:"tiny"}))))}))},Wr=n(1375),Kr=n.n(Wr),Jr=[{text:"Shell",value:"shell",mode:"bash",codechoice:"shell",libraries:[{text:"cURL",librarychoice:"curl",value:"curl"},{text:"HTTPie",librarychoice:"httpie",value:"httpie"},{text:"Wget",librarychoice:"wget",value:"wget"}]},{text:"Go",value:"go",mode:"go",codechoice:"go",librarychoice:null},{text:"Java",value:"java",mode:"java",codechoice:"java",libraries:[{text:"Unirest",librarychoice:"unirest",value:"unirest"},{text:"OkHttp",librarychoice:"okhttp",value:"okhttp"}]},{text:"Javascript",value:"javascript",mode:"javascript",codechoice:"javascript",libraries:[{text:"XMLHttpRequest",librarychoice:"xmlhttprequest",value:"xmlhttprequest"},{text:"jQuery",librarychoice:"jquery",value:"jquery"}]},{text:"Node",value:"node",mode:"javascript",codechoice:"node",libraries:[{text:"Native",librarychoice:"native",value:"native"},{text:"Request",librarychoice:"request",value:"request"},{text:"Unirest",librarychoice:"unirest",value:"unirest"}]},{text:"Obj-C",value:"objc",mode:"objectivec",codechoice:"objc",librarychoice:null},{text:"PHP",value:"php",mode:"php",codechoice:"php",libraries:[{text:"ext-curl",librarychoice:"curl",value:"curl"},{text:"pecl/http v1",librarychoice:"http1",value:"http1"},{text:"pecl/http v2",librarychoice:"http2",value:"http2"}]},{text:"Python",value:"python",mode:"python",codechoice:"python",libraries:[{text:"Python 3",librarychoice:"python3",value:"python3"},{text:"Requests",librarychoice:"requests",value:"requests"}]},{text:"Powershell",value:"powershell",mode:"powershell",codechoice:"powershell",libraries:[{text:"WebRequest",librarychoice:"webrequest",value:"webrequest"},{text:"RestMethod",librarychoice:"restmethod",value:"restmethod"}]},{text:"Ruby",value:"ruby",mode:"ruby",codechoice:"ruby",librarychoice:null},{text:"Swift",value:"swift",mode:"swift",codechoice:"swift",librarychoice:null},{text:"C#",value:"csharp",mode:"csharp",codechoice:"csharp",librarychoice:null},{text:"C",value:"c",mode:"cpp",codechoice:"c",librarychoice:null}];function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qr=Object(s.inject)(function(e,t){var n=e.appStore,a=t.editorId;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Gr(e,t,n[t])})}return e}({},n.injectUi("codegen-".concat(a)))})(Object(s.observer)(function(e){var t,n=e.className,a=e.updateUi,o=e.ui,c=e.data,l=void 0===c?{}:c,s=i.a.get(o,"selected")||i.a.head(Jr),u=s.libraries,p=s.librarychoice,d=s.codechoice,f=s.mode,m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.method,r=t.url,o=t.headers,c=void 0===o?{}:o,l=t.body,s=void 0===l?{}:l,u=t.auth,p=void 0===u?{}:u,d=t.params,f=void 0===d?{}:d,m=t.schemes,h=void 0===m?[]:m,y={},b=[],v=r,g={};if(!a||i.a.isEmpty(v))return{error:"Enter a valid URL, and request method, to see code generation"};if(!i.a.isEmpty(f)){var E=i.a.values(f);if(E.length!==i.a.without(E,!1,null,"",void 0,NaN).length)return{error:"One or more variables not set"}}i.a.isEmpty(c)||(b=i.a.map(c,function(e,t){if(e)return{name:t,value:e}}),i.a.has(c,"Content-Type")&&i.a.set(g,"mimeType",c["Content-Type"]));var O=Object(B.b)(p,f);if("basic"===O.type&&O.username){var w=window.btoa("".concat(O.username,":").concat(O.password));b.push({name:"Authorization",value:"Basic ".concat(w)})}if(!i.a.isEmpty(s))if(i.a.isObject(s)&&"application/x-www-form-urlencoded"===i.a.get(c,"Content-Type")){var j=i.a.map(s,function(e,t){return{name:t,value:e}});i.a.set(g,"params",j)}else i.a.set(g,"text",Object(ae.b)(Object(ae.a)(s),0));for(var S in f)f[S]=String(f[S]);i.a.set(y,"method",a.toUpperCase()),i.a.set(y,"url",Object(F.l)(Object(ae.b)(v),f)),i.a.set(y,"headers",Object(B.b)(i.a.compact(b),f)),i.a.set(y,"postData",Object(B.b)(g,f)),/^[a-z]+:\/\//i.test(y.url)||(y.url=(h[0]||"http")+"://"+y.url);try{e=new Kr.a(y);var k=n.codechoice,x=n.librarychoice;e=e.convert(k,x)}catch(e){return console.error("code generation error",{props:t,options:n,err:e}),{error:"Could not generate code. More information in the developer console."}}return e}(l,{codechoice:d,librarychoice:p}),h=i.a.has(m,"error");return t=h?r.a.createElement("div",{className:"c-muted p-2"},m.error):r.a.createElement("div",{className:"bg-white"},r.a.createElement(ue,{mode:f},m)),r.a.createElement("div",{className:y()("CodeGenerator",n)},r.a.createElement("div",{className:"flex mb-6 items-end"},r.a.createElement("div",{className:"flex items-center w-1/2"},r.a.createElement("div",{className:"flex-1"},r.a.createElement("div",{className:"font-bold mb-2"},"Language"),r.a.createElement(nn.a,{value:s.value,options:Jr,onChange:function(e,t){var n=t.value,r=i.a.find(Jr,function(e){return e.value===n});a("set","selected",r)},selection:!0,search:!0,fluid:!0})),u&&r.a.createElement("div",{className:"flex-1 ml-4"},r.a.createElement("div",{className:"font-bold mb-2"},"Library"),r.a.createElement(nn.a,{className:"flex-1",value:i.a.get(s,"librarychoice")||i.a.get(s,"libraries.0.value"),options:u,onChange:function(e,t){var n=t.value,r=i.a.find(u,function(e){return e.value===n});a("set","selected.librarychoice",r.librarychoice)},fluid:!0,selection:!0,search:!0}))),!h&&r.a.createElement("div",{className:"ml-4"},r.a.createElement(q.a,{title:"Copy to clipboard",icon:"copy",onClick:function(){try{Se()(m),we.a.success("Copied!")}catch(e){we.a.error("Error copying to clipboard: ".concat(e.message))}}}))),t)}));var Xr=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId,r=n.getEditor({id:a});return{vars:{env:r.currentPopulatedEnvVariables,ctx:r.currentPopulatedCtxVariables,path:r.currentStepPathParams},specs:r.connectedSpecs}})(Object(s.observer)(function(e){var t=e.step,n=e.vars,a=e.specs,o=i.a.cloneDeep(t.input);if(!o)return null;var c=Object(F.b)({url:o.url,params:o.query}).url,l={};i.a.forEach(n,function(e,t){i.a.isEmpty(e)||i.a.forEach(e,function(e,n){var a;switch(t){case"ctx":a="$.ctx.".concat(n);break;case"env":a="$$.env.".concat(n);break;default:a=n}l[a]=e})}),i.a.set(o,"params",l),i.a.set(o,"url",c);var s=a.reduce(function(e,t){return(t.data.schemes||[]).forEach(function(t){return!e.includes(t)&&e.push(t)}),e},[]);return i.a.set(o,"schemes",s),r.a.createElement(Qr,{className:"text-sm",data:o})})),Yr=function(e){var t=e.step,n=e.active,a=e.onClick,o=i.a.get(t,"input.headers"),c="Headers";return i.a.isEmpty(o)||(c=r.a.createElement("span",null,"Headers"," ",r.a.createElement("b",null,r.a.createElement("span",{className:"ml-2 text-active"},"[",i.a.size(o),"]")))),r.a.createElement(it.a.Item,{name:"headers",active:n,onClick:a},c)},Zr=function(e){var t=e.step,n=e.handleUpdate,a=e.readOnly;return[r.a.createElement(Ma,{key:"headersList",fields:i.a.get(t,"headers"),handleUpdate:function(e,t,a){n(e,["input","headers"].concat(t),a)},addText:"Add Header",namePlaceholder:"header name",valuePlaceholder:"header value",size:"tiny",readOnly:a})]},eo=function(e){var t=e.step,n=e.active,a=e.onClick,o=i.a.get(t,"input.query"),c="Query";return i.a.isEmpty(o)||(c=r.a.createElement("span",null,"Query"," ",r.a.createElement("b",null,r.a.createElement("span",{className:"ml-2 text-active"},"[",i.a.size(o),"]")))),r.a.createElement(it.a.Item,{name:"query",active:n,onClick:a},c)},to=function(e){var t=e.step,n=e.handleUpdate,a=e.readOnly;return[r.a.createElement(Ma,{key:"queryList",fields:i.a.get(t,"query",{}),handleUpdate:function(e,t,a){n(e,["input","query"].concat(t),a)},addText:"Add Query",namePlaceholder:"query name",valuePlaceholder:"query value",size:"tiny",readOnly:a})]};function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ao=function(e){var t,n=e.step,a=e.active,o=e.onClick,c="Scripts";return i.a.isEmpty(i.a.get(n,"before.script"))||(t=!0),i.a.isEmpty(i.a.get(n,"after.script"))||(t=!0),t&&(c=r.a.createElement("span",null,c," ",r.a.createElement("b",null,r.a.createElement("span",{className:"ml-2 text-active"},r.a.createElement(L.a,{name:"check"}))))),r.a.createElement(it.a.Item,{name:"scripts",active:a,onClick:o},c)},ro=Object(s.inject)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){no(e,t,n[t])})}return e}({},e.appStore.injectUi("scenario-scripts-tab"))})(Object(s.observer)(function(e){var t,n=e.scenarioId,a=e.stepIndex,o=e.step,c=e.handleUpdate,l=e.ui,s=void 0===l?{}:l,u=e.updateUi,p=e.readOnly,d=e.autocompleteScopes,f=s.activeItem,m=void 0===f?"after":f,h=i.a.get(o,"before.script",""),y=i.a.get(o,"after.script",""),b=function(e,t){var n=t.name;u("set",["activeItem"],n)};switch(m){case"before":t=r.a.createElement(Na,{name:"".concat(n,"-").concat(a,"-before"),mode:"javascript",readOnly:p,autocompleteScopes:d,input:{value:h,onChange:function(e){i.a.isEmpty(e)?c("unset",["before","script"]):c("set",["before","script"],e)}}});break;case"after":t=r.a.createElement(Na,{name:"".concat(n,"-").concat(a,"-after"),mode:"javascript",readOnly:p,autocompleteScopes:d,input:{value:y,onChange:function(e){i.a.isEmpty(e)?c("unset",["after","script"]):c("set",["after","script"],e)}}});break;default:t=r.a.createElement("div",null,"select an option above")}var v="Before";i.a.isEmpty(h)||(v=r.a.createElement("span",null,v," ",r.a.createElement("span",{className:"ml-2 text-active"},r.a.createElement(L.a,{name:"check"}))));var g="After";return i.a.isEmpty(y)||(g=r.a.createElement("span",null,g," ",r.a.createElement("span",{className:"ml-2 text-active"},r.a.createElement(L.a,{name:"check"})))),r.a.createElement("div",null,r.a.createElement("div",{className:"mb-6 flex items-center"},r.a.createElement("div",null,r.a.createElement(it.a,{secondary:!0,pointing:!0,size:"tiny"},r.a.createElement(it.a.Item,{header:!0},"Step Stage"),r.a.createElement(it.a.Item,{name:"before",active:"before"===m,onClick:b},v),r.a.createElement(it.a.Item,{name:"after",active:"after"===m,onClick:b},g))),r.a.createElement("div",{className:"ml-6"},r.a.createElement(q.a,{compact:!0,size:"tiny",onClick:function(){u("set",["showCheatsheet"],!s.showCheatsheet)},basic:!0},s.showCheatsheet?"Hide Cheatsheet":"Show Cheatsheet"),r.a.createElement("span",{className:"c-muted ml-2"},r.a.createElement(Ga.a,{trigger:r.a.createElement(L.a,{name:"question circle"}),size:"small",position:"top center",hoverable:!0,wide:!0},r.a.createElement("a",{className:"d-b",href:"https://help.stoplight.io/scenarios/overview/scripting",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(L.a,{name:"book"})," Learn more about scripting."))))),s.showCheatsheet?r.a.createElement(ue,{className:"ScenarioEditor-cheatsheet mb-6",mode:"javascript",immediate:!0},"// save back to your current environment\n$$.env.set('apiKey', output.body.get('apiKey'));\n\n// add a test (you can also make assertions in the tests UI tab)\ntests['it should return a 200 status code'] = output.status.get() === 200;\n\n// use lodash\ntests['test some object equality'] = _.isEqual({foo: 'bar'}, output.body.get());\n\n// share temporary data with subsequent steps by setting on the ctx object\n$.ctx.set('targetId', _.random(1, 100));\n\n// manipulate the request in a before script\ninput.headers.set('Authorization', 'Bearer ' + $$.env.get('apiKey'));\ninput.method.set('post');"):null,t)})),oo=n(1509),io=n(4);function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function uo(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function po(e){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,po(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(t,r.a.Component),function(e,t,n){t&&so(e.prototype,t),n&&so(e,n)}(t,[{key:"render",value:function(){var e,t=this.props,n=t.method,a=void 0===n?"":n,o=t.url,c=t.codes,l=void 0===c?[]:c,s=t.endpoint,u=t.connectedSpecs,p=t.ui,d=void 0===p?{}:p,f=t.updateUi,m=void 0===f?{}:f,h=d.activeCode||l[0],y=[];if(h&&s){var b=i.a.find(u,{id:s.specId})||{};if(b){e=Object(Wn.i)({spec:Object(io.A)(b),method:a,path:s.path,code:h});var v=r.a.createElement("b",null,b.local?b.filePath:b.name);y.push(r.a.createElement("div",{key:"response"},r.a.createElement("span",{className:"mr-2 c-positive"},r.a.createElement(L.a,{name:"check"})),"Response codes found in ",v))}}else i.a.isEmpty(u)?y.push(r.a.createElement("div",{key:"endpoint"},r.a.createElement("span",{className:"mr-2 c-muted"},r.a.createElement(L.a,{name:"circle outline"})),r.a.createElement("b",null,"No OAS2 files connected."),r.a.createElement("br",null),r.a.createElement("br",null),"Connect a file in the ",r.a.createElement("b",null,"Contract Test Settings")," for this scenario collection, accessible via the Swagger/OAS link in the editor sidebar.")):y.push(r.a.createElement("div",{key:"endpoint"},r.a.createElement("span",{className:"mr-2 c-negative"},r.a.createElement(L.a,{name:"remove"})),r.a.createElement("b",null,i.a.toUpper(a)," ",o)," ","did NOT match any operations in the connected OAS2 specifications."));return i.a.isEmpty(l)?r.a.createElement("div",null,y):r.a.createElement("div",null,y,r.a.createElement(it.a,{items:l.map(function(e){return{key:e,name:e,active:e===h,onClick:function(){m("set","activeCode",e)}}}),secondary:!0}),r.a.createElement(Xe,{name:"contract-test",schema:e}))}}]),t}(),ho=Object(s.inject)(function(e,t){var n=e.appStore,a=t.scenarioId,r=t.stepId;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){co(e,t,n[t])})}return e}({},n.injectUi("scenario-step-contract-test-".concat(a,"-").concat(r)))})(Object(s.observer)(mo));function yo(){return(yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var bo=function(e){return r.a.createElement(pn,yo({placeholder:"choose an operation",options:[{text:"equals",value:"eq"},{text:"greater than",value:"gt"},{text:"greater than or equals",value:"gte"},{text:"less than",value:"lt"},{text:"less than or equals",value:"lte"},{text:"not equal",value:"ne"},{text:"exists",value:"exists"},{text:"length equals",value:"length"},{text:"contains",value:"contains"},{text:"validate pass",value:"validate.pass"},{text:"validate fail",value:"validate.fail"}]},e))},vo=function(e){var t=e.step,n=e.active,a=e.onClick,o=i.a.get(t,"after")||{},c="Tests",l=[];if(!i.a.isEmpty(o.assertions)){var s=i.a.find(o.assertions,{op:"validate.contract"});l.push(r.a.createElement("span",{key:"1"},"[",o.assertions.length,"]")),s&&l.push(r.a.createElement("span",{key:"2",className:"ml-2 text-active"},r.a.createElement(L.a,{name:"flask"})))}return i.a.isEmpty(l)||(c=r.a.createElement("span",null,"Tests"," ",r.a.createElement("b",null,r.a.createElement("span",{className:"ml-2 text-active"},l)))),r.a.createElement(it.a.Item,{name:"tests",active:n,onClick:a},c)},go=function(e){var t,n=e.scenarioId,a=e.stepId,o=e.input,c=void 0===o?{}:o,l=e.fields,s=void 0===l?[]:l,u=e.handleUpdate,p=e.connectedSpecs,d=e.variables,f=e.logicLocations,m=e.readOnly,h=s.map(function(e,t){var n=Object(qr.g)({locations:f,path:e.target}),a=n.location,o=n.path,c=!!a.match(/status|time/),l=!!(e&&e.op&&e.op.match(/exists/)),p=i.a.isUndefined(e.expected)?"":e.expected;return"string"==typeof p&&i.a.isNumber(Object(ae.a)(p))&&(p='"'.concat(p,'"')),i.a.isNumber(Object(ae.a)(p))&&(p=String(p)),p=Object(ae.b)(p),r.a.createElement("div",{key:t,className:"mt-2"},r.a.createElement("div",{className:"flex"},r.a.createElement(zr,{className:"pr-2",disabled:m,value:a,onChange:function(e){var n;n=e.match(/status|time/)?[e]:[e,o],u("set",[t,"target"],Object(Hr.a)(n))},locations:f,search:!0}),r.a.createElement(Kt.a,{className:"flex-1 pr-2",input:{value:"".concat(o),readOnly:m,onChange:function(e,n){var r=n.value;u("set",[t,"target"],Object(Hr.a)([a,r]))}},disabled:c,placeholder:c?"n/a":"path to property ie `data[0].id`",fluid:!0}),r.a.createElement(bo,{className:"pr-2",disabled:m,value:e.op,onChange:function(e){u("set",[t,"op"],e),e.match(/exists/)&&u("unset",[t,"expected"])}}),r.a.createElement(Kt.a,{className:"flex-1",input:{value:"".concat(p),readOnly:m,onChange:function(e,n){var a=n.value,r=a?Object(ae.a)(a,a):"";a&&'"'===a.charAt(0)&&(r=String(r)),u("set",[t,"expected"],r)}},disabled:l,placeholder:l?"n/a":"expected value",fluid:!0}),r.a.createElement("div",{className:"ml-3"},r.a.createElement(q.a,{icon:"trash",disabled:m,onClick:function(){1===s.length?u("unset",[]):u("pull",[],t)},size:"tiny"}))))}),y=i.a.get(c,"method"),b=i.a.get(c,"url"),v=Object(Wn.g)({specs:p,method:y,url:b,variables:{env:d}});return v&&(t=v.responses||[]),r.a.createElement("div",null,r.a.createElement("div",{className:"".concat(i.a.isEmpty(s)?"":"mb-3")},r.a.createElement(q.a,{onClick:function(){return u("push",[],{target:"output.status",op:"eq",expected:200})},basic:!0,disabled:m,size:"tiny"},"Add Assertion")),r.a.createElement("div",{className:"mb-4 text-sm"},h),r.a.createElement("div",{className:"AssertionList-contract text-sm"},r.a.createElement("div",{className:"flex content-center mb-6"},r.a.createElement(oo.a,{as:"h4"},"Contract Testing"),r.a.createElement("div",{className:"c-muted ml-2",style:{position:"relative",top:-1}},r.a.createElement(Ga.a,{trigger:r.a.createElement(L.a,{name:"question circle"}),size:"small",position:"top center",hoverable:!0,wide:!0},i.a.isEmpty(p)?r.a.createElement("div",null,"You must connect an API spec to use this feature."):r.a.createElement("div",null,r.a.createElement("div",null,"When this step is run, Stoplight will search your connected API Specs for an endpoint that matches this request."),r.a.createElement("div",{className:"mt-2"},"If found, Stoplight will use the JSON schema responses defined on the endpoint to contract test your API response automatically.")),r.a.createElement(gr,{className:"d-b mt-2",feature:"contract-testing"})))),r.a.createElement(ho,{stepId:a,endpoint:v,method:y,url:b,codes:t,connectedSpecs:p,scenarioId:n})))},Eo=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{variables:n.getEditor({id:a}).currentEnv}})(Object(s.observer)(function(e){var t=e.collectionId,n=e.scenarioId,a=e.step,o=e.connectedSpecs,c=e.handleUpdate,l=e.variables,s=e.logicLocations,u=e.readOnly;return r.a.createElement(go,{variables:l,collectionId:t,scenarioId:n,stepId:a.id,input:a.input,fields:i.a.get(a,"after.assertions"),connectedSpecs:o,handleUpdate:function(e,t,n){c(e,["after","assertions"].concat(t),n)},logicLocations:s,readOnly:u})}));function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wo=["output.headers","output.body","output.status","output.time","$.ctx","$$.env","$$.response.headers","$$.response.body","$$.response.status"],jo=function(e){e.editor;var t=e.step,n=(e.config,e.currentTab),a=e.onClick,o=e.whitelist,c=(t||{}).input||{},l=c.auth,s=void 0===l?{}:l,u=c.body,p=(c.method,"Auth");s.type&&"none"!==s.type&&(p=r.a.createElement("span",null,"Auth",r.a.createElement("span",{className:"ml-2 text-active font-bold"},"[",s.type,"]")));var d="Body";return i.a.isEmpty(u)||(d=r.a.createElement("span",null,"Body",r.a.createElement("span",{className:"ml-2 text-active"},r.a.createElement(L.a,{name:"check"})))),r.a.createElement(it.a,{style:{marginTop:0},tabular:!0,attached:"top",size:"tiny"},i.a.includes(o,"settings")&&r.a.createElement(it.a.Item,{name:"settings",active:"settings"===n,onClick:a}),i.a.includes(o,"headers")&&r.a.createElement(Yr,{step:t,active:"headers"===n,onClick:a}),i.a.includes(o,"query")&&r.a.createElement(eo,{step:t,active:"query"===n,onClick:a}),i.a.includes(o,"body")&&r.a.createElement(it.a.Item,{name:"body",active:"body"===n,onClick:a},d),i.a.includes(o,"auth")&&r.a.createElement(it.a.Item,{name:"auth",className:"auth",active:"auth"===n,onClick:a},p),i.a.includes(o,"code-generation")&&r.a.createElement(it.a.Item,{name:"code-generation",active:"code-generation"===n,onClick:a},"Code Generation"),i.a.includes(o,"tests")&&r.a.createElement(vo,{step:t,active:"tests"===n,onClick:a}),i.a.includes(o,"captures")&&r.a.createElement($r,{step:t,active:"captures"===n,onClick:a}),i.a.includes(o,"scripts")&&r.a.createElement(ao,{step:t,active:"scripts"===n,onClick:a}))};jo=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{editor:n.getEditor({id:a})}})(Object(s.observer)(jo));var So=function(e){var t,n=e.id,a=e.editorId,o=e.collectionId,c=e.scenarioId,l=e.step,s=void 0===l?{}:l,u=e.stepIndex,p=e.editor,d=e.modeling,f=e.handleUpdate,m=e.ui,h=void 0===m?{}:m,y=e.updateUi,b=e.connectedSpecs,v=void 0===b?[]:b,g=e.autocompleteScopes,E=void 0===g?{}:g,O=e.config,w=void 0===O?{}:O,j=e.readOnly,S=e.standalone;switch(e.currentTab){case"headers":t=r.a.createElement(Zr,{step:s.input,modeling:d,handleUpdate:f});break;case"query":t=r.a.createElement(to,{step:s.input,editorId:a,handleUpdate:f});break;case"settings":t=r.a.createElement(jr,{editorId:a,oauth2:"oauth2"===i.a.get(s.input,"auth.type")&&w.oauth2,currentEnv:p.currentEnv,updateVariables:function(e){return p.updateVariables(e)},modeling:d,standalone:S});break;case"auth":t=r.a.createElement(Br,{editor:p,currentVariables:p.currentEnv,activeToken:i.a.get(p.currentPopulatedEnvVariables,"oauth_access_token"),config:w,ui:h.auth,uiScope:["auth"],input:s.input,updateUi:y,handleUpdate:f});break;case"body":t=r.a.createElement($a,{id:n,input:s.input,handleUpdate:f});break;case"tests":t=r.a.createElement(Eo,{step:s,editorId:a,handleUpdate:f,collectionId:o,scenarioId:c,connectedSpecs:v,logicLocations:wo,readOnly:j});break;case"captures":t=r.a.createElement(Vr,{fields:i.a.get(s,"after.transforms"),handleUpdate:function(e,t,n){f(e,["after","transforms"].concat(t),n)},logicLocations:wo,readOnly:j});break;case"scripts":t=r.a.createElement(ro,{scenarioId:c,stepIndex:u,step:s,handleUpdate:f,readOnly:j,autocompleteScopes:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Oo(e,t,n[t])})}return e}({http:!0},E)});break;case"code-generation":t=r.a.createElement(Xr,{editorId:a,step:s});break;default:t=r.a.createElement("div",{className:"c-muted"},"Choose a tab to add request input.")}return r.a.createElement(Kn.a,{attached:"bottom"},t)};So=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{editor:n.getEditor({id:a})}})(Object(s.observer)(So));var ko=Object(s.observer)(function(e){var t=e.id,n=e.editorId,a=e.collectionId,o=e.scenarioId,i=e.step,c=void 0===i?{}:i,l=e.stepIndex,s=(e.editor,e.standalone),u=e.modeling,p=e.handleUpdate,d=e.ui,f=void 0===d?{}:d,m=e.updateUi,h=e.connectedSpecs,y=void 0===h?[]:h,b=e.autocompleteScopes,v=void 0===b?{}:b,g=e.config,E=void 0===g?{}:g,O=e.readOnly,w=e.whitelist,j=void 0===w?[]:w,S=e.currentTab,k=e.handleChangeTab;return[r.a.createElement(jo,{key:"items",editorId:n,step:c,config:E,whitelist:j,currentTab:S,onClick:function(e,t){var n=t.name;return k(n)}}),r.a.createElement(So,{key:"content",id:t,editorId:n,collectionId:a,scenarioId:o,standalone:s,step:c,stepIndex:l,modeling:u,handleUpdate:p,ui:f,updateUi:m,connectedSpecs:y,autocompleteScopes:v,config:E,readOnly:O,whitelist:j,currentTab:S})]}),xo=n(325);function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Co(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Io=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Co(this,_o(t).call(this,e))).resetComponent=function(){n.setState({results:[]})},n.handleResultSelect=function(e,t){var a=n.props,r=a.handleResultSelect,o=a.operations,i=a.valueProp,c=a.onChange,l=t.title,s=o[t.key];s&&(r&&r(s),i&&(l=s[i]||l)),c&&!r&&c(e,{value:l}),n.setState({value:l})},n.handleSearchChange=function(e,t){var a=n.props,r=a.operations,o=a.onChange,c=a.protectedExpression;if((o&&o(e,{value:t}),c)&&new RegExp(c,"i").test(t))return;var l=new RegExp(i.a.escapeRegExp(t),"i");n.buildResults({operations:r,isMatch:function(e,t){return l.test(e.path)||l.test(e.url)||l.test(e.method)||l.test(e.summary)||l.test(e.operationId)||l.test(t.title)||l.test(t.description)}})},n.buildResults=function(e){var t,a=e.operations,r=e.isMatch,o=e.all;for(var c in a)if(a[c]){var l=a[c],s={key:c,title:"".concat(i.a.toUpper(l.method)," ").concat(l.path),description:"".concat(l.operationId?"".concat(l.operationId," - "):"").concat(l.summary||l.description||"")};l.specId?(o||r(l,s))&&(i.a.get(t,[l.specId,"results"])?t[l.specId].results.push(s):(t||(t={}),t[l.specId]={name:l.specName,results:[s]})):(t||(t=[]),t.push(s))}n.setState({results:t})},n.state={results:[],value:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&To(e,t)}(t,r.a.Component),function(e,t,n){t&&No(e.prototype,t),n&&No(e,n)}(t,[{key:"componentWillMount",value:function(){this.buildResults({operations:this.props.operations,all:!0})}},{key:"render",value:function(){var e=this.state,t=e.results,n=e.value,a=this.props,o=a.value,c=a.className,l=a.placeholder,s=a.label,u=a.required,p=a.tip,d=a.readOnly,f=o||n||i.a.get(t,[0,"title"])||i.a.get(t,[Object.keys(t)[0],"results",0,"title"]);return r.a.createElement("div",{className:c},r.a.createElement(tn.a,{label:s,required:u,tip:p}),r.a.createElement(xo.a,{minCharacters:0,placeholder:l,value:f,results:t,onSearchChange:this.handleSearchChange,onResultSelect:this.handleResultSelect,readOnly:d,showResultsOnClick:!0}))}}]),t}(),Ro=function(e){var t=e.value,n=e.label,a=e.placeholder,o=e.endpoints,i=e.onChange,c=e.handleResultSelect,l=e.readOnly;return _.isEmpty(o)?r.a.createElement("div",{className:"flex-1 pl-2"},r.a.createElement(Kt.a,{className:"flex-1",label:n,value:t,readOnly:l,placeholder:a,onChange:function(e,t){var n=t.value;return i(n)},fluid:!0})):r.a.createElement("div",{className:"flex-1 pl-2"},r.a.createElement(Io,{label:n,value:t,valueProp:"url",operations:o,placeholder:a,protectedExpression:/\?/,onChange:function(e,t){var n=t.value;return i(n)},handleResultSelect:function(e){return c(e)},readOnly:l}))},Ao=function(e){var t=e.value,n=e.label,a=e.onChange,o=e.readOnly;return r.a.createElement("div",{className:"pr-2"},r.a.createElement(pn,{readOnly:o,label:n,value:t,onChange:function(e){return a(e)},options:[{text:"GET",value:"get"},{text:"PUT",value:"put"},{text:"POST",value:"post"},{text:"PATCH",value:"patch"},{text:"DELETE",value:"delete"}],placeholder:"Choose one"}))},Lo=function(e){var t=e.value,n=e.hosts,a=e.label,o=e.onChange,i=e.readOnly,c=_.uniqBy([{text:t,value:t}].concat(n.map(function(e){return{text:e,value:e}})),"value");return r.a.createElement("div",{className:"pl-2 pr-2",style:{maxWidth:350}},r.a.createElement(pn,{className:"ScenarioStepInput-hosts",label:a,placeholder:"target host",value:t,options:c,onChange:function(e){return o(e)},disabled:i,allowAdditions:!0,search:!0}))};function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Bo(e,t,n[t])})}return e}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ho(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qo(e,t){return!t||"object"!==Uo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zo=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=qo(this,(e=Do(t)).call.apply(e,[this].concat(o)))).handleChangeTab=function(e){var t=n.props,a=(t.ui,t.updateUi),r=t.tabWhitelist,o=e;e&&i.a.includes(r,e)||(o=i.a.first(r)),a("set","currentTab",o)},n.currentTarget=function(){var e=n.props,t=e.hosts,a=e.step,r={},o=i.a.get(a,"input.url","");if(!i.a.isEmpty(t)){var c=Object(F.d)(o);i.a.isEmpty(c)||(r.currentHost="".concat(c.protocol,"//").concat(c.host),r.currentPath="".concat(c.pathname).concat(c.search))}return r.currentUrl=r.currentHost?r.currentPath:o,r},n.renderHeaderElems=function(){var e=n.props.headerElems;return(void 0===e?[]:e).map(function(e,t){return r.a.createElement("div",{key:e.key||t,className:"flex mr-3"},e.render())})},n.handleAddQuery=function(){var e=n.props,t=e.handleUpdate,a=(e.ui,e.updateUi,e.step);n.handleChangeTab("query");var r=i.a.get(a,"input.query")||{},o=i.a.keys(r).length;t("set",["input","query"],Mo({},r,{"":""})),setTimeout(function(){var e=document.getElementById("FormInputMapKey-".concat(o));e&&e.focus()},200)},n.handleOperationSelect=function(e){var t=n.props,a=t.connectedSpecs,r=t.editor,o=t.modeling,c=t.readOnly,l=t.handleUpdate,s=t.updateHostOnSearch,u=void 0===s||s,p=t.standalone,d=t.step,f=void 0===d?{}:d;if(c)l("set",["input.url"],e.path);else{var m=i.a.find(a,{id:e.specId});if(m||(m=i.a.first(a)),m){var h=Object(Wn.e)({spec:m,updateHostOnSearch:u,basePath:i.a.get(m,"data.basePath"),method:e.method,path:e.path,pathParamsToCtx:!p})||{},y=h.input,b=h.name;i.a.isEmpty(y)||l("set",["input"],y),b&&i.a.isEmpty(f.name)&&l("set",["name"],b),r.updateCurrentStepPathParams(y.params),o&&r.resetStepResults(),n.handleChangeTab()}}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}(t,r.a.Component),function(e,t,n){t&&Ho(e.prototype,t),n&&Ho(e,n)}(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.step,n=e.handleUpdate,a=this.currentTarget().currentUrl,r=Object(F.i)(a);i.a.isEmpty(r)||(n("set",["input","url"],Object(F.k)(a).url),n("set",["input","query"],Mo({},r,i.a.get(t,"input.query",{}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.hosts,o=t.editorId,c=t.collectionId,l=t.scenarioId,s=t.step,u=t.stepIndex,p=t.modeling,d=t.handleUpdate,f=t.ui,m=t.updateUi,h=t.connectedSpecs,y=t.autocompleteScopes,b=t.config,v=t.readOnly,g=t.tabWhitelist,E=t.hideMethod,O=t.standalone,w=t.endpoints,j=this.currentTarget(),S=j.currentHost,k=j.currentPath,x=j.currentUrl,P=i.a.isEmpty(a),N=P||p;return r.a.createElement("div",{id:"tutorial-http-input",className:"ScenarioStepInput type-http"},r.a.createElement("div",{id:"tutorial-http-url",className:"ScenarioStepInput-methodUrl flex"},this.renderHeaderElems(),r.a.createElement("div",{className:"flex flex-1"},!E&&r.a.createElement(Ao,{label:O?null:"method",value:i.a.get(s,"input.method"),readOnly:v,onChange:function(e){return d("set",["input","method"],e)}}),P||p?null:r.a.createElement(Lo,{label:O?null:"host",value:S,hosts:a,readOnly:v,onChange:function(e){d("set",["input","url"],Object(F.c)("".concat(e,"/").concat(k)))}}),r.a.createElement(Ro,{value:N?i.a.get(s,"input.url"):x,label:O?null:N?"path":"url",placeholder:N?"/path":"http://api.myco.com/path",endpoints:w,onChange:function(t){"?"!==i.a.last(t)?d("set",["input","url"],N?t:Object(F.c)("".concat(S,"/").concat(t),{trimEnd:!1})):e.handleAddQuery()},handleResultSelect:function(t){return e.handleOperationSelect(t)},readOnly:v}))),r.a.createElement("div",{className:"mt-4"},r.a.createElement(ko,{id:n,editorId:o,collectionId:c,scenarioId:l,standalone:O,step:s,stepIndex:u,modeling:p,handleUpdate:d,ui:f,updateUi:m,connectedSpecs:h,autocompleteScopes:y,config:b,readOnly:v,whitelist:g,currentTab:f.currentTab||i.a.first(g),handleChangeTab:function(t){return e.handleChangeTab(t)}})))}}]),t}();zo.defaultProps={tabWhitelist:["settings","headers","query","auth","body","tests","captures","scripts","code-generation"]};var $o=Object(s.inject)(function(e,t){var n=e.appStore,a=e.collectionEditorStore,r=t.editorId,o=t.connectedSpecs,i=t.endpoints,c=a.getEditor({id:r});return Mo({},n.injectUi("http-step-".concat(r)),{editor:c,endpoints:i||c.endpoints,connectedSpecs:o||c.connectedSpecs})})(Object(s.observer)(zo)),Vo=n(61),Wo=n(130);function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(){return(Jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xo(e,t,n){return t&&Qo(e.prototype,t),n&&Qo(e,n),e}function Yo(e,t){return!t||"object"!==Ko(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ei(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ni=function(e){function t(){var e,n;Go(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Yo(this,(e=Zo(t)).call.apply(e,[this].concat(o)))).init=function(e){var t=e.id,n=e.$ref,a=e.localData,r=e.fileFilter,o=e.routeDataTargets,c=e.store,l=e.initialSource,s=e.targets,u=e.projectStore,p=e.context,d=e.force,f=i.a.get(u,"current.id"),m=i.a.get(u,"current.currentFilePathname",""),h=i.a.dropRight(i.a.split(m,"/"));c.initial({id:t,$ref:n,fileFilter:r,routeDataTargets:o,initialSource:l,targets:s,localData:a,currentProjectId:f,currentProjectPath:h,currentFilePath:m,context:p,force:d})},n.onChange=function(e){var t=e.builtRef,a=e.confirmed,r=e.onComplete,o=e.force,i=n.props,c=i.confirm,l=i.store;(o||r&&(!c||a)&&l.isComplete)&&(l.pristine(),r(t))},n.renderConfirm=function(){var e,t=n.props,a=t.store,o=t.$ref,c=t.confirm,l=t.onComplete,s=t.onRemove,u=a.isUrlLoading,p=a.isUrlValid,d=a.isComplete,f=a.builtRef,m=a.urlError,h=a.initializing,b=a.selectedSource,v="grey",g="",E="";u||h?(v="grey",g="Loading",e="spinner"):d?(v="green",g="Confirm",c||(e="check",E="")):(v="red",c?g="Incomplete":e="warning",E="Ref selection not complete.",m?(E=m,g="URL Error"):p||"external"!==b||(E="URL is invalid",g="Invalid Url"));var O={className:y()("RefBuilder-button",{"is-confirm":c,"is-simple":"check"===e||"warning"===e||"Incomplete"===g,"is-negative":"warning"===e||"Incomplete"===g,"is-positive":"check"===e}),icon:e,color:v,loading:u};c&&(O.content=g,O.tabIndex=2,O.disabled=!d||f===o,O.onClick=function(){return n.onChange({builtRef:f,confirmed:!0,onComplete:l})});var w=[],j=r.a.createElement(q.a,Jo({key:"cb"},O));return i.a.isEmpty(E)?w.push(j):w.push(r.a.createElement(Ga.a,{key:"cp",trigger:j,on:"hover",position:"top right"},E)),w.push(n.renderReferenceLink()),s&&w.push(r.a.createElement(q.a,{key:"delete",className:"RefBuilder-button",icon:"trash",onClick:s})),w},n.renderCurrentProject=function(){var e=n.props,t=e.store,a=e.size,o=t.targets,i=[];return"small"===a?(i.push(n.renderConfirm()),i.push(n.renderTargetSearch())):(i.push(n.renderTargetSearch()),i.push(n.renderConfirm())),r.a.createElement("div",{className:y()("RedBuilder-groups flex flex-wrap",{"flex-col":"small"===a})},r.a.createElement("div",{className:"RedBuilder-group flex-1 flex"},n.renderSourceDropdown(),n.renderFileSearch()),r.a.createElement("div",{className:y()("RedBuilder-group flex",{"flex-1":o})},i))},n.renderExternal=function(){var e=n.props,t=e.store,a=e.size,o=t.externalUrl,i=t.handleChange,c=t.fetchExternalUrl,l=t.targets,s=[];return"small"===a?(s.push(n.renderConfirm()),s.push(n.renderTargetSearch())):(s.push(n.renderTargetSearch()),s.push(n.renderConfirm())),r.a.createElement("div",{className:y()("RedBuilder-groups flex flex-wrap",{"flex-col":"small"===a})},r.a.createElement("div",{className:"RedBuilder-group flex-1 flex"},n.renderSourceDropdown(),r.a.createElement(Kt.a,{className:"RefBuilder-search flex-1",placeholder:"https://next.stoplight.io/",onChange:function(e,t){var n=t.value;i("externalUrl",n),c()},value:o||"",labelPosition:"left",input:{tabIndex:1},fluid:!0})),r.a.createElement("div",{className:y()("RedBuilder-group flex",{"flex-1":l})},s))},n.renderFileSearch=function(){var e=n.props.store,t=e.file,a=e.fileQuery,o=e.fileResults,c=e.loadFiles,l=e.handleChange,s=e.setQuery;return r.a.createElement(xo.a,{className:"RefBuilder-search flex-1",placeholder:i.a.get(t,"title")||"choose a file",value:a||"",results:o,onResultSelect:function(e,t){l("file",t)},onSearchChange:function(e,t){s("file",t)},onBlur:function(){setTimeout(function(){i.a.isEmpty(e.fileQuery)&&s("file",i.a.get(t,"title"))},200)},inputProps:{onFocus:function(){s("file",""),c()},tabIndex:1},minCharacters:0,category:!0,showNoResults:!0})},n.renderLocal=function(){return r.a.createElement("div",{className:"flex flex-wrap"},n.renderSourceDropdown(),n.renderTargetSearch({force:!0}),n.renderConfirm())},n.renderReferenceLink=function(){var e=n.props,t=e.store,a=e.routerStore,o=t.isComplete,i=t.initializing,c=t.referenceLink,l={className:"RefBuilder-button reference-link",icon:"book",tabIndex:2,onClick:function(){if(Object(F.j)(c))window.open(c,"_blank");else{var e=Wo.URI.parse(c);a.push({pathname:e.path,search:e.query})}},disabled:i||!o},s=r.a.createElement(q.a,Jo({key:"rb"},l));return r.a.createElement(Ga.a,{key:"rp",trigger:s,on:"hover",position:"top right"},"Go to reference.")},n.renderSource=function(){var e;switch(n.props.store.source){case"local":case"shared":e=n.renderLocal();break;case"currentProject":e=n.renderCurrentProject();break;case"external":e=n.renderExternal()}return e},n.renderSourceDropdown=function(){var e=n.props.store,t=e.source,a=e.sourceOptions,o=e.handleChange;return r.a.createElement(nn.a,{key:"source-dropdown",className:"RefBuilder-dropdown",value:t,options:a,onChange:function(e,n){var a=n.value;a!==t&&o("source",a)},fluid:!0,selection:!0})},n.renderTargetSearch=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force,t=n.props,a=t.store;if(t.targets||e){var o=a.file,c=a.externalUrl,l=a.fileQuery,s=a.handleChange,u=a.isTargetLoading,p=a.isUrlValid,d=a.loadSpecData,f=a.setQuery,m=a.source,h=a.target,y=a.targetResults,b=a.targetQuery,v="currentProject"===m&&!l||"external"===m&&(!c||!p);return"md"===Object(F.f)({file:i.a.get(o,"title")}).language?null:r.a.createElement(xo.a,{key:"target-search",className:"RefBuilder-search flex-1",placeholder:i.a.get(h,"title")||"choose a target",value:b||"",results:y,onResultSelect:function(e,t){s("target",t)},onSearchChange:function(e,t){f("target",t)},onBlur:function(){setTimeout(function(){i.a.isEmpty(a.targetQuery)&&f("target",i.a.get(h,"title"))},200)},inputProps:{onFocus:function(){f("target",""),d()},tabIndex:1},noResultsMessage:u?"Loading Targets ...":"No results found.",disabled:v,minCharacters:0,showNoResults:!0,category:!0,fluid:!0})}},n}return ei(t,r.a.Component),Xo(t,[{key:"componentWillMount",value:function(){this.init(this.props)}},{key:"componentWillUpdate",value:function(e){var t=e.$ref,n=e.store,a=e.onComplete,r=n.builtRef,o=n.dirty;this.props.id!==e.id?this.init(e):i.a.isEqual(t,r)||o&&this.onChange({builtRef:r,onComplete:a})}},{key:"render",value:function(){var e,t=this.props,n=t.store,a=t.className,o=t.size,i=void 0===o?"large":o,c=n.source,l=n.errorMessage;return l&&(e=r.a.createElement("p",{className:"RefBuilder-error pt-3"},l)),r.a.createElement("div",{className:y()("RefBuilder","is-".concat(i),"is-".concat(c),a)},this.renderSource(),e)}}]),t}();ni.propTypes={id:m.a.oneOfType([m.a.string,m.a.number]).isRequired,size:m.a.oneOf(["large","medium","small"]),$ref:m.a.string,localData:m.a.object,context:m.a.bool,fileFilter:m.a.object,routeDataTargets:m.a.object,store:m.a.object,initialSource:m.a.oneOf(["local","external","currentProject"]),targets:m.a.oneOfType([m.a.bool,m.a.string])};var ai=Object(s.inject)(function(e,t){var n=e.projectStore,a=e.routerStore,r=e.refBuilderStore,o=t.id;return{projectStore:n,routerStore:a,store:r.register(o)}})(Object(s.observer)(ni)),ri=function(e){function t(e){var n;return Go(this,t),(n=Yo(this,Zo(t).call(this,e))).state={id:n.props.id||Object(Vo.a)()},n}return ei(t,r.a.Component),Xo(t,[{key:"render",value:function(){var e=this.state.id;return r.a.createElement(ai,Jo({},this.props,{id:this.props.id||e}))}}]),t}();function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ii(e,t,n[t])})}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ci=["output.headers","output.body","output.status","output.time","$.ctx","$$.env","$$.response.headers","$$.response.body","$$.response.status"];var li=Object(s.inject)(function(e){var t=e.routerStore,n=e.appStore;e.collectionEditorStore;return oi({routerStore:t},n.injectUi("ref-step"))})(Object(s.observer)(function(e){var t=e.id,n=(e.editorId,e.collection),a=e.scenarioId,o=e.step,c=void 0===o?{}:o,l=e.ui,s=void 0===l?{}:l,u=e.updateUi,p=e.headerElems,d=void 0===p?[]:p,f=e.handleUpdate,m=e.readOnly,h=e.autocompleteScopes,y=void 0===h?{}:h,b="undefined"!=typeof window?window.location.pathname:"";a&&"undefined"!==a&&"/"===(b=b.replace(new RegExp("/".concat(a,"$")),"")).charAt(0)&&(b=b.substring(1));var v,g=i.a.get(c,["input","$ref"]),E=s.hasOwnProperty("inputTab")?s.inputTab:"captures",O=function(e,t){var n=t.name;u("set",["inputTab"],n===E?null:n)};switch(E){case"captures":v=r.a.createElement(Vr,{fields:i.a.get(c,"after.transforms"),handleUpdate:function(e,t,n){f(e,["after","transforms"].concat(t),n)},logicLocations:ci,readOnly:m});break;case"scripts":v=r.a.createElement(ro,{step:c,handleUpdate:f,readOnly:m,autocompleteScopes:oi({ref:!0},y)});break;default:v=r.a.createElement("div",null,"Please select a tab.")}return r.a.createElement("div",{className:"ScenarioStepInput type-ref"},m?r.a.createElement(Vn.a,{info:!0,size:"small"},r.a.createElement(L.a,{name:"info"})," This editor is in read only mode."):null,r.a.createElement("div",{className:"ScenarioStepInput-methodUrl flex"},d.map(function(e,t){return r.a.createElement("div",{key:e.key||t,className:"mr-3"},e.render())}),r.a.createElement("div",{className:"flex flex-1 items-center"},r.a.createElement(ri,{id:t,className:"flex-1",localData:n,initialSource:"local",$ref:g||"",fileFilter:{scenario:[/scenario/]},routeDataTargets:{scenario:["scenarios","utilities"]},targets:!0,onComplete:function(e){var t=i.a.split(e,"/");f("set",["input"],{name:"".concat(i.a.last(t)," - ").concat(t[i.a.size(t)-2]),$ref:e})}}))),r.a.createElement(it.a,{id:"tutorial-scenario-input",attached:"top",tabular:!0,size:"small"},r.a.createElement($r,{step:c,active:"captures"===E,onClick:O}),r.a.createElement(ao,{step:c,active:"scripts"===E,onClick:O})),r.a.createElement(Kn.a,{attached:"bottom"},v))}));function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ui(e,t,n[t])})}return e}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pi=Object(s.inject)(function(e){var t=e.routerStore,n=e.appStore;e.collectionEditorStore;return si({routerStore:t},n.injectUi("script-step"))})(Object(s.observer)(function(e){var t,n=e.id,a=e.step,o=void 0===a?{}:a,c=e.ui,l=void 0===c?{}:c,s=(e.updateUi,e.handleUpdate),u=e.autocompleteScopes,p=void 0===u?{}:u,d=e.readOnly,f=i.a.get(o,["input","script"],""),m=l.hasOwnProperty("inputTab")?l.inputTab:"script";switch(m){case"script":t=r.a.createElement(Na,{name:n,mode:"javascript",readOnly:d,autocompleteScopes:si({script:!0},p),input:{value:f,onChange:function(e){i.a.isEmpty(e)?s("unset",["input","script"]):s("set",["input","script"],e)}}});break;default:t=r.a.createElement("div",null,"Please select a tab.")}return r.a.createElement("div",{className:"ScenarioStepInput type-script"},d?r.a.createElement(Vn.a,{info:!0,size:"small"},r.a.createElement(L.a,{name:"info"})," This editor is in read only mode."):null,r.a.createElement(it.a,{id:"tutorial-scenario-input",attached:"top",tabular:!0,size:"small"},r.a.createElement(it.a.Item,{name:"scripts",active:!0},"Script")),r.a.createElement(Kn.a,{attached:"bottom"},t))}));function di(){return(di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){mi(e,t,n[t])})}return e}function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hi,yi,bi,vi,gi,Ei,Oi=function(e){var t,n=e.editor,a=e.editorId,o=e.type,c=e.step,l=void 0===c?{}:c,s=e.autocompleteScopes,u=void 0===s?{}:s,p="".concat(a,":").concat(i.a.join(i.a.get(n,"currentPath",["noop"]),":"));if(!l)return r.a.createElement(Vn.a,{negative:!0,compact:!0},"Step not found.");switch(o||l.type){case"http":t=r.a.createElement($o,di({},e,{id:p,autocompleteScopes:fi({step:!0},u)}));break;case"ref":t=r.a.createElement(li,di({},e,{id:p,autocompleteScopes:fi({step:!0},u)}));break;case"script":t=r.a.createElement(pi,di({},e,{id:p,autocompleteScopes:fi({step:!0},u)}));break;default:t=i.a.isEmpty(l)?r.a.createElement(Vn.a,{negative:!0},"Step does not exist."):r.a.createElement(Vn.a,{negative:!0},"Invalid step type ",o||l.type,".")}return t};function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ji(){return(ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ki(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xi(e,t,n){return t&&ki(e.prototype,t),n&&ki(e,n),e}function Pi(e,t){return!t||"object"!==wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ti=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Ii=function(e){e.data;var t=e.keyName,n=e.value;return r.a.createElement("li",{className:"string itemNode",onClick:function(e){e.stopPropagation()}},r.a.createElement("label",null,t,":"),r.a.createElement("span",null,n))},Ri=function(e){e.data;var t=e.keyName,n=e.value;return r.a.createElement("li",{className:"number itemNode",onClick:function(e){e.stopPropagation()}},r.a.createElement("label",null,t,":"),r.a.createElement("span",null,n))},Ai=function(e){e.data;var t=e.keyName;e.value;return r.a.createElement("li",{className:"null itemNode",onClick:function(e){e.stopPropagation()}},r.a.createElement("label",null,t,":"),r.a.createElement("span",null,"null"))},Li=function(e){e.data;var t=e.keyName,n=e.value?"true":"false";return r.a.createElement("li",{className:"boolean itemNode",onClick:function(e){e.stopPropagation()}},r.a.createElement("label",null,t,":"),r.a.createElement("span",null,n))},Ui=function(e,t){var n,a=Ti(t),o=e+Date.now();return"Object"===a?n=r.a.createElement(qi,{data:t,keyName:e,key:o}):"Array"===a?n=r.a.createElement(Hi,{data:t,keyName:e,key:o}):"String"===a?n=r.a.createElement(Ii,{keyName:e,value:t,key:o}):"Number"===a?n=r.a.createElement(Ri,{keyName:e,value:t,key:o}):"Boolean"===a?n=r.a.createElement(Li,{keyName:e,value:t,key:o}):"Null"===a?n=r.a.createElement(Ai,{keyName:e,value:t,key:o}):console.error("How did this happen?",a),n};function Mi(e){var t,n;return n=t=function(t){function n(){var e,t;Si(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Pi(this,(e=Ni(n)).call.apply(e,[this].concat(r)))).state={expanded:t.props.initialExpanded},t.handleClick=function(e){e.stopPropagation(),t.setState({expanded:!t.state.expanded})},t}return Ci(n,r.a.Component),xi(n,[{key:"componentWillReceiveProps",value:function(){this.renderedChildren=[],this.itemString=!1,this.needsChildNodes=!0}},{key:"render",value:function(){return r.a.createElement(e,ji({handleClick:this.handleClick},this.props,this.state))}}]),n}(),t.defaultProps={data:[],initialExpanded:!1},n}var Bi=function(e){var t=[],n=e.data;for(var a in n)n.hasOwnProperty(a)&&t.push(Ui(a,n[a]));return t},Hi=Mi((bi=yi=function(e){function t(){var e,n;Si(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Pi(this,(e=Ni(t)).call.apply(e,[this].concat(r)))).getChildNodes=function(){if(n.props.expanded&&n.needsChildNodes){var e=Bi({data:n.props.data});n.needsChildNodes=!1,n.renderedChildren=e}return n.renderedChildren||[]},n.needsChildNodes=!0,n.renderedChildren=[],n.itemString=!1,n.getItemString=function(){if(!n.itemString){var e=1===n.props.data.length?" Item":" Items";n.itemString=n.props.data.length+e}return n.itemString},n}return Ci(t,r.a.Component),xi(t,[{key:"render",value:function(){var e=this.getChildNodes(),t={display:this.props.expanded?"block":"none"},n="array parentNode";return n+=this.props.expanded?" expanded":"",r.a.createElement("li",{className:n,onClick:this.props.handleClick},r.a.createElement("label",null,this.props.keyName),r.a.createElement("span",null,this.getItemString()),r.a.createElement("ol",{style:t},e))}}]),t}(),yi.displayName="JSONArrayNode",yi.propTypes={data:m.a.array,keyName:m.a.node,expanded:m.a.bool,handleClick:m.a.func},hi=bi))||hi,qi=Mi((Ei=gi=function(e){function t(){var e,n;Si(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Pi(this,(e=Ni(t)).call.apply(e,[this].concat(r)))).getChildNodes=function(){if(n.props.expanded&&n.needsChildNodes){var e=Bi({data:n.props.data});n.needsChildNodes=!1,n.renderedChildren=e}return n.renderedChildren||[]},n.getItemString=function(){if(!n.itemString){var e=n.props.data,t=0,a=" Items";for(var r in e)e.hasOwnProperty(r)&&(t+=1);1===t&&(a=" Item"),n.itemString=t+a}return n.itemString},n.itemString=!1,n.needsChildNodes=!0,n.renderedChildren=[],n}return Ci(t,r.a.Component),xi(t,[{key:"render",value:function(){var e=this.getChildNodes(),t={display:this.props.expanded?"block":"none"},n="object parentNode";return n+=this.props.expanded?" expanded":"",r.a.createElement("li",{className:n,onClick:this.props.handleClick},r.a.createElement("label",null,this.props.keyName,":"),r.a.createElement("span",null,this.getItemString()),r.a.createElement("ul",{style:t},e))}}]),t}(),gi.displayName="JSONObjectNode",gi.propTypes={data:m.a.object,keyName:m.a.node,expanded:m.a.bool,handleClick:m.a.func},vi=Ei))||vi,Di=function(e){function t(){return Si(this,t),Pi(this,Ni(t).apply(this,arguments))}return Ci(t,r.a.Component),xi(t,[{key:"render",value:function(){var e=this.props.data;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}var t,n=Ti(e);return t="Object"===n?r.a.createElement(qi,{data:e,keyName:"object",initialExpanded:!0}):"Array"===n?r.a.createElement(Hi,{data:e,initialExpanded:!0,keyName:"array"}):"Provided data is not a valid JSON.",r.a.createElement("ul",{className:"sl-json-tree"},t)}}]),t}();Di.propTypes={data:m.a.oneOfType([m.a.object,m.a.array,m.a.string])},Di.defaultProps={source:!1};var Fi=Di;function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Vi(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wi(e){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ji=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vi(this,Wi(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(t,r.a.Component),function(e,t,n){t&&$i(e.prototype,t),n&&$i(e,n)}(t,[{key:"getChildContext",value:function(){return{document:this.props.document,window:this.props.window}}},{key:"render",value:function(){return r.a.Children.only(this.props.children)}}]),t}();function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xi(e){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yi(e,t){return(Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ji.propTypes={document:m.a.object.isRequired,window:m.a.object.isRequired,children:m.a.element.isRequired},Ji.childContextTypes={document:m.a.object.isRequired,window:m.a.object.isRequired};var ec=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=function(e,t){return!t||"object"!==Gi(t)&&"function"!=typeof t?Zi(e):t}(this,(e=Xi(t)).call.apply(e,[this].concat(o)))).renderFrameContents=function(){var e;try{e=i.a.get(ea.a.findDOMNode(Zi(Zi(n))),"contentDocument")}catch(e){}if(e&&"complete"===e.readyState){var t=e.defaultView||e.parentView,a=r.a.createElement(Ji,{document:e,window:t},r.a.createElement("div",{className:"frame-content"},n.props.head,n.props.children));ea.a.render(a,e.body)}else setTimeout(n.renderFrameContents,0)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yi(e,t)}(t,r.a.Component),function(e,t,n){t&&Qi(e.prototype,t),n&&Qi(e,n)}(t,[{key:"componentDidMount",value:function(){this.renderFrameContents()}},{key:"componentDidUpdate",value:function(){this.renderFrameContents()}},{key:"componentWillUnmount",value:function(){var e=i.a.get(ea.a.findDOMNode(this),"contentDocument");e&&ea.a.unmountComponentAtNode(e.body)}},{key:"shouldComponentUpdate",value:function(e){return this.props.id!==e.id}},{key:"render",value:function(){var e=i.a.clone(this.props);return delete e.children,r.a.createElement("iframe",e)}}]),t}();ec.propTypes={id:m.a.string.isRequired,style:m.a.object,head:m.a.node};var tc=ec,nc=function(e){var t=e.className,n=void 0===t?"":t,a=e.name,o=e.value,i=e.contentType,c=void 0===i?"":i,l=e.uiCache,s=void 0===l?{}:l,u=e.uiCacheScope,p=void 0===u?[]:u,d=e.updateUiCache,f=e.shouldEncode,m=e.noTypeSelector,h=c.match("image"),y=c.match("html"),b="json";c.match("xml")?b="xml":y&&(b="renderHtml");var v,g,E,O=s.renderer||b;if(h){g=!0;var w=f?btoa(String.fromCharCode.apply(null,new Uint8Array(o))):o;v=r.a.createElement("div",null,r.a.createElement("img",{src:"data:".concat(c,";base64,").concat(w)}))}else if(y&&f)g=!0,v=r.a.createElement(tc,{id:"body-viewer",src:"about:blank",width:"100%",height:"1000",frameBorder:"0",sandbox:"allow-scripts allow-forms"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}));else switch(O){case"jsonExplorer":v=r.a.createElement(Fi,{data:o});break;case"renderHtml":v=r.a.createElement(tc,{id:"body-viewer",src:"about:blank",width:"100%",height:"1000",frameBorder:"0",sandbox:"allow-scripts allow-forms"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}));break;default:v=r.a.createElement(ka,{name:"".concat(a,"-").concat(O),mode:O,value:o,autogrow:!0,maxLines:40,noFill:!0,readOnly:!0,wordWrap:!0,lint:!1})}return g||m||(E=r.a.createElement("div",{className:"mb-6"},r.a.createElement(Pr.a,{options:[{text:"JSON",value:"json"},{text:"JSON Explorer",value:"jsonExplorer"},{text:"XML",value:"xml"},{text:"HTML",value:"html"},{text:"Rendered HTML",value:"renderHtml"},{text:"Plain",value:"text"}],value:O,onChange:function(e,t){d("set",p.concat("renderer"),t.value)},selection:!0,button:!0,basic:!0}))),r.a.createElement("div",{className:"HttpBodyViewer ".concat(n)},E,v)},ac=n(1497),rc=function(e){var t=e.className,n=void 0===t?"":t,a=e.fields,o=void 0===a?{}:a,c=e.sort,l=o;return c&&(l={},i.a.forEach(i.a.keys(o).sort(),function(e){l[e]=o[e]})),r.a.createElement("div",{className:"InputResultList ".concat(n)},i.a.map(l,function(e,t){return r.a.createElement("div",{key:t,className:"mb-2"},r.a.createElement("div",{className:"flex"},r.a.createElement(ac.a,{defaultValue:t,className:"flex-1",readOnly:!0}),r.a.createElement(ac.a,{defaultValue:e,className:"flex-1",readOnly:!0})))}))},oc=n(1505),ic=function(e){var t,n=e.title,a=e.items,o=void 0===a?[]:a;return t=i.a.isEmpty(o)?r.a.createElement("div",{className:"text-center font-bold"},"no results yet"):r.a.createElement(oc.a.Group,{size:"tiny",widths:o.length,items:o}),r.a.createElement("div",{className:"ScenarioStats"},n?r.a.createElement("div",{className:"SplitEditor-parsedTitle"},n):null,t)};function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc=Object(s.inject)(function(e,t){var n=e.appStore,a=t.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){cc(e,t,n[t])})}return e}({},n.injectUi("http-output-".concat(a)))})(Object(s.observer)(function(e){var t=e.id,n=e.ui,a=e.updateUi,o=e.className,c=void 0===o?"":o,l=e.result,s=void 0===l?{}:l,u=e.stats,p=void 0===u?[]:u;if(i.a.isEmpty(s))return null;var d,f=n.activeResultTab,m=void 0===f?"body":f,h=s.output||{},y=function(e,t){var n=t.name;a("set",["activeResultTab"],n)},b=h.headers?h.headers["Content-Type"]:"";switch(m){case"body":d=r.a.createElement("div",null,r.a.createElement(ic,{items:p}),r.a.createElement(nc,{name:"".concat(t,"-body"),contentType:b,value:Object(ae.b)(i.a.get(h,"body","")),uiCache:n.body,uiCacheScope:["body"],updateUiCache:a,noTypeSelector:!0}));break;case"headers":d=r.a.createElement(rc,{fields:i.a.get(h,"headers"),sort:!0});break;default:d=r.a.createElement("div",null,"Please select a tab.")}var v=String(i.a.get(h,"status")||"na"),g=v.charAt(0),E="text-active";"2"===g?E="c-positive":i.a.includes(["4","5"],g)&&(E="c-negative");var O=r.a.createElement("span",null,"Scenario Response ",r.a.createElement("span",{className:"ml-3 ".concat(E)},"[",v,"]")," ",h.time?r.a.createElement("span",{className:"c-muted ml-3"},h.time,"ms"):""),w=r.a.createElement("span",null,"Headers"," ",r.a.createElement("b",null,r.a.createElement("span",{className:"ml-2 text-active"},"[",i.a.size(i.a.get(h,"headers")||{}),"]"))),j=r.a.createElement(it.a,{pointing:!0,secondary:!0},r.a.createElement(it.a.Item,{name:"body",active:"body"===m,onClick:y},O),r.a.createElement(it.a.Item,{name:"headers",active:"headers"===m,onClick:y},w));return r.a.createElement("div",{className:"ScenarioOutput ".concat(c)},j,d)}));function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pc=Object(s.inject)(function(e,t){var n=e.appStore,a=t.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){sc(e,t,n[t])})}return e}({},n.injectUi("http-output-".concat(a)))})(Object(s.observer)(function(e){var t=e.id,n=e.ui,a=e.updateUi,o=e.className,c=e.result,l=void 0===c?{}:c,s=e.tabWhitelist,u=e.noTypeSelector;if(i.a.isEmpty(l))return null;var p=n.activeResultTab,d=void 0===p?"body":p,f=l.input||{},m=l.output||{},h=i.a.get(l,"before.assertions",[]).concat(i.a.get(l,"after.assertions",[]));l.logs;s&&!i.a.includes(s,d)&&(d="body");var b,v=function(e,t){var n=t.name;a("set",["activeResultTab"],n)},g=m.headers?m.headers["Content-Type"]:"";switch(d){case"body":b=r.a.createElement(nc,{name:"".concat(t,"-body"),contentType:g,value:Object(ae.b)(i.a.get(m,"body","")),uiCache:n.body,uiCacheScope:["body"],updateUiCache:a,noTypeSelector:u});break;case"headers":b=r.a.createElement(rc,{fields:i.a.get(m,"headers"),sort:!0});break;case"request":var E=i.a.map(f.headers||{},function(e,t){return"".concat(t,": ").concat(e)}).join("\n"),O="".concat((f.method||"get").toUpperCase()," ").concat(f.url,"\n\nHeaders:\n  ").concat(i.a.isEmpty(E)?"{}":E,"\n\nBody:\n  ").concat(Object(ae.b)(i.a.get(f,"body")||"undefined"),"\n  ");b=r.a.createElement("div",{className:"p-3"},r.a.createElement("div",{className:"c-muted mb-6"},"The http request as it was sent, after all transformations, scripts, and variable replacements were run."),r.a.createElement(ka,{name:"final-request",value:O,autogrow:!0,maxLines:50,noFill:!0,readOnly:!0,lint:!1}));break;case"tests":b=i.a.isEmpty(h)?r.a.createElement("div",{className:"c-muted"},'No tests. Use the tests tab above to add assertions. Use the\n            "tests" object in scripts for added flexibility.'):r.a.createElement("div",null,h.map(function(e,t){var n,a,o="circle";return e.pass?(n="passed",o="check"):e&&(n="failed",o="remove"),a="object"===uc(e.expected)?"[schema object not shown for now]":e.expected,r.a.createElement("div",{key:t,className:y()("AssertionResult flex items-center",n)},r.a.createElement("div",{className:"AssertionResult-icon"},r.a.createElement(L.a,{name:o})),r.a.createElement("div",{className:"AssertionResult-content flex-1"},r.a.createElement("div",null,e.target," ",r.a.createElement("b",{className:"ml-3 mr-3"},"[",e.op,"]")," ",a),e.msg?r.a.createElement("div",{className:"AssertionResult-message"},e.msg):null,e.details?r.a.createElement("div",{className:"AssertionResult-message"},e.details):null))}));break;case"capture":b=r.a.createElement("div",null,r.a.createElement("div",{className:"p-3"},r.a.createElement("div",{className:"c-muted mb-6"},"$.ctx ",r.a.createElement("i",null,"after")," step:"),r.a.createElement(ue,{mode:"json",immediate:!0},i.a.get(l,"ctx","{}"))),r.a.createElement("div",{className:"pt-3 pl-3 pr-3"},r.a.createElement("div",{className:"c-muted mb-6"},"$$.env ",r.a.createElement("i",null,"after")," step:"),r.a.createElement(ue,{mode:"json",immediate:!0},i.a.get(l,"env","{}"))));break;default:b=r.a.createElement("div",null,"Please select a tab.")}var w=String(i.a.get(m,"status")||"na"),j=w.charAt(0),S="text-active";"2"===j?S="c-positive":i.a.includes(["4","5"],j)&&(S="c-negative");var k,x,P=r.a.createElement("span",null,"Body ",r.a.createElement("span",{className:y()("ml-3",S)},"[",w,"]")," ",m.time?r.a.createElement("span",{className:"c-muted ml-3"},m.time,"ms"):""),N=r.a.createElement("span",null,"Headers"," ",r.a.createElement("b",null,r.a.createElement("span",{className:"ml-2 text-active"},"[",i.a.size(i.a.get(m,"headers")||{}),"]"))),C=r.a.createElement("span",null,"Original Request");l.passCount>0&&(k=r.a.createElement("span",{className:"c-positive ml-2"},r.a.createElement(L.a,{fitted:!0,name:"check"})," ",l.passCount)),l.failCount>0&&(x=r.a.createElement("span",{className:"c-negative ml-2"},r.a.createElement(L.a,{fitted:!0,name:"remove"})," ",l.failCount));var _=r.a.createElement("span",null,"Tests"," ",r.a.createElement("b",null,k," ",x)),T=r.a.createElement(it.a.Item,{name:"tests",active:"tests"===d,onClick:v},_);s&&!i.a.includes(s,d)&&(d="body");var I=r.a.createElement(it.a,{attached:"top",tabular:!0},!s||i.a.includes(s,"body")?r.a.createElement(it.a.Item,{name:"body",active:"body"===d,onClick:v},P):null,!s||i.a.includes(s,"headers")?r.a.createElement(it.a.Item,{name:"headers",active:"headers"===d,onClick:v},N):null,!s||i.a.includes(s,"tests")?T:null,!s||i.a.includes(s,"capture")?r.a.createElement(it.a.Item,{name:"capture",active:"capture"===d,onClick:v},"Capture"):null,!s||i.a.includes(s,"request")?r.a.createElement(it.a.Item,{name:"request",active:"request"===d,onClick:v},C):null);return r.a.createElement("div",{id:"tutorial-http-output",className:y()("HttpOutput",o)},I,r.a.createElement(Kn.a,{attached:"bottom"},b))}));function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(e){return(fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var mc=Object(s.inject)(function(e,t){var n=e.appStore,a=t.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){dc(e,t,n[t])})}return e}({},n.injectUi("script-output-".concat(a)))})(Object(s.observer)(function(e){var t=e.ui,n=e.updateUi,a=e.className,o=void 0===a?"":a,c=e.result,l=void 0===c?{}:c,s=e.tabWhitelist;if(i.a.isEmpty(l))return null;var u,p,d,f=t.activeResultTab,m=void 0===f?"tests":f,h=i.a.get(l,"before.assertions",[]).concat(i.a.get(l,"after.assertions",[])),b=function(e,t){var a=t.name;n("set",["activeResultTab"],a)};switch(m){case"tests":u=i.a.isEmpty(h)?r.a.createElement("div",{className:"c-muted"},'No tests. Use the "tests" object in your script to add test assertions.'):r.a.createElement("div",null,h.map(function(e,t){var n,a,o="circle";return e.pass?(n="passed",o="check"):e&&(n="failed",o="remove"),a="object"===fc(e.expected)?"[schema object not shown for now]":e.expected,r.a.createElement("div",{key:t,className:y()("AssertionResult flex items-center",n)},r.a.createElement("div",{className:"AssertionResult-icon"},r.a.createElement(L.a,{name:o})),r.a.createElement("div",{className:"AssertionResult-content flex-1"},r.a.createElement("div",null,e.target," ",r.a.createElement("b",{className:"ml-3 mr-3"},"[",e.op,"]")," ",a),e.msg?r.a.createElement("div",{className:"AssertionResult-message"},e.msg):null,e.details?r.a.createElement("div",{className:"AssertionResult-message"},e.details):null))}));break;case"capture":u=r.a.createElement("div",null,r.a.createElement("div",{className:"p-3"},r.a.createElement("div",{className:"c-muted mb-6"},"$.ctx ",r.a.createElement("i",null,"after")," step:"),r.a.createElement(ue,{mode:"json",immediate:!0},i.a.get(l,"ctx","{}"))),r.a.createElement("div",{className:"pt-3 pl-3 pr-3"},r.a.createElement("div",{className:"c-muted mb-6"},"$$.env ",r.a.createElement("i",null,"after")," step:"),r.a.createElement(ue,{mode:"json",immediate:!0},i.a.get(l,"env","{}"))));break;default:u=r.a.createElement("div",null,"Please select a tab.")}l.passCount>0&&(p=r.a.createElement("span",{className:"c-positive ml-2"},r.a.createElement(L.a,{fitted:!0,name:"check"})," ",l.passCount)),l.failCount>0&&(d=r.a.createElement("span",{className:"c-negative ml-2"},r.a.createElement(L.a,{fitted:!0,name:"remove"})," ",l.failCount));var v=r.a.createElement("span",null,"Tests"," ",r.a.createElement("b",null,p," ",d)),g=r.a.createElement(it.a.Item,{name:"tests",active:"tests"===m,onClick:b},v);s&&!i.a.includes(s,m)&&(m="body");var E=r.a.createElement(it.a,{attached:"top",tabular:!0},!s||i.a.includes(s,"tests")?g:null,!s||i.a.includes(s,"capture")?r.a.createElement(it.a.Item,{name:"capture",active:"capture"===m,onClick:b},"Capture"):null);return r.a.createElement("div",{id:"tutorial-script-output",className:y()("ScriptOutput",o)},E,r.a.createElement(Kn.a,{attached:"bottom"},u))})),hc=n(1503);function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(){return(bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vc(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ec(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Oc(e,t){return!t||"object"!==yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jc(e,t){return(jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Oc(this,wc(t).call(this,e))).buildPanels=function(e,t){var a=n.props,r=a.exclusive,o=a.ui,c=i.a.cloneDeep(o.panels)||{},l=n.isPanelActive(e,t);return r?c=gc({},e,!l):c[e]=!l,c},n.togglePanel=function(e,t){(0,n.props.updateUi)("set","panels",n.buildPanels(e,t))},n.isPanelActive=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.props.ui.panels,r=void 0===a?{}:a,o=t.defaultOpen;return!!i.a.get(r,e)||!i.a.has(r,e)&&o},n.renderPanel=function(e,t){var a,o,c=e.id||t,l=n.isPanelActive(c,e);return e.title&&(a=r.a.createElement(hc.a.Title,{key:"".concat(c,"-title"),active:l,onClick:e.onClick?function(){return e.onClick(c,e)}:function(){return n.togglePanel(c,e)}},i.a.isFunction(e.title)?e.title():r.a.createElement("div",{className:"flex items-center"},r.a.createElement(L.a,{name:"dropdown"}),r.a.createElement("div",{className:e.icon?"":"flex-1"},e.title),e.icon?r.a.createElement("div",{className:"ml-3"},r.a.createElement(L.a,e.icon)):null))),e.content&&l&&(o=r.a.createElement(hc.a.Content,{key:"".concat(c,"-content"),active:l},i.a.isFunction(e.content)?e.content():e.content)),[a,o]},i.a.isNil(e.defaultActiveIndex)||e.updateUi("set","panels",i.a.map([].concat(e.defaultActiveIndex),n.buildPanels)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jc(e,t)}(t,r.a.Component),function(e,t,n){t&&Ec(e.prototype,t),n&&Ec(e,n)}(t,[{key:"componentWillUpdate",value:function(e,t){if(e.id!==this.props.id){var n=e.defaultActiveIndex,a=void 0===n?[]:n,r=e.ui,o=e.updateUi;i.a.isEmpty(r.panels)&&o("set","panels",i.a.map([].concat(a),this.buildPanels))}}},{key:"render",value:function(){var e=this.props,t=e.panels,n=e.className,a=vc(e,["panels","className"]),o=i.a.omit(a,["defaultActiveIndex","id","ui","updateUi","clearUi"]);return r.a.createElement(hc.a,bc({className:y()("AccordionWrapper",n)},o),i.a.map(t,this.renderPanel))}}]),t}();Sc.propTypes={id:m.a.oneOfType([m.a.number,m.a.string]),panels:m.a.array,className:m.a.string,defaultOpen:m.a.bool,defaultActiveIndex:m.a.oneOfType([m.a.number,m.a.arrayOf(m.a.number)])};var kc=Object(s.inject)(function(e,t){var n=e.appStore,a=t.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){gc(e,t,n[t])})}return e}({},n.injectUi("Accordion-".concat(a)))})(Object(s.observer)(Sc)),xc=function(e){var t=e.index,n=e.parts,a=void 0===n?[]:n,o=e.loading,i=e.withBorder,c=e.className;return r.a.createElement("div",{className:y()("BarListItem flex items-center",c,{"is-loading":o,"with-border":i})},t?r.a.createElement("div",{className:"BarListItem-index"},t):null,r.a.createElement("div",{className:"BarListItem-loading fill-space"}),a.map(function(e,t){var n={};return e.bgColor&&(n.backgroundColor=e.bgColor,n.color="white"),r.a.createElement("div",{key:t,className:y()("BarListItem-part",e.className,{"d-n":e.hide,"is-padded":e.padded,"with-bg":e.bg,"with-border":e.border,"flex-1":e.fill}),style:n},e.elem())}))};function Pc(e,t){var n=function e(t){var n=i.a.get(t,"input.spec.steps"),a=i.a.get(t,"output.steps");if(i.a.isEmpty(a)||i.a.isEmpty(n))return[];var r=[];for(var o in n){var c=n[o],l=a[o];"ref"!==c.type?r.push({step:c,stepResult:l}):r=r.concat(e(l))}return r}(e),a=[],o=function(e){var o=n[e],i=o.step,c=o.stepResult,l=Object(qr.i)({stepResult:c});a.push({title:function(){return r.a.createElement(xc,{className:"ScenarioStepList-item",parts:[{fill:!0,bg:!0,padded:!0,elem:function(){var e,n=Object(qr.j)(i,{maxLength:4});return n&&n.name&&(e=r.a.createElement("div",{className:"ScenarioStepList-token ".concat(n.className)},n.name)),r.a.createElement("div",{className:"flex items-center ScenarioStepList-name"},r.a.createElement(L.a,{name:"dropdown"}),e,Object(qr.h)(i,{skipToken:!0,mappedScenarioNames:t}))}},{bg:!0,padded:!0,className:l.className,elem:function(){return l.status}}]})},content:function(){return r.a.createElement(pc,{id:"".concat(i.id,"-").concat(e),result:c})}})};for(var c in n)o(c);return a}var Nc=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.id;return{mappedScenarioNames:n.getEditor({id:a}).mappedNames}})(Object(s.observer)(function(e){var t=Pc(e.result,e.mappedScenarioNames);return r.a.createElement("div",null,r.a.createElement("div",{className:"SplitEditor-parsedTitle"},"Output Steps"),r.a.createElement(kc,{fluid:!0,exclusive:!1,panels:t}))}));function Cc(){return(Cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var _c=function(e){var t,n=e.id,a=e.type,o=e.result,i=void 0===o?{}:o;switch(a){case"scenario":t=r.a.createElement(lc,Cc({},e,{id:n,result:i}));break;case"http":t=r.a.createElement(pc,Cc({},e,{id:n,result:i}));break;case"script":t=r.a.createElement(mc,Cc({},e,{id:n,result:i}));break;case"ref":t=r.a.createElement(Nc,Cc({},e,{id:n,result:i}));break;default:t=r.a.createElement(Vn.a,{negative:!0},"Invalid step type ",a,".")}return t};function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ic=function(e){var t=e.className,n=e.log,a=void 0===n?{}:n,o=a.msg||[];return"string"==typeof o&&(o=[o]),r.a.createElement("div",{className:y()("ScenarioLog flex items-center",t)},r.a.createElement("div",{className:"ScenarioLog-meta"},r.a.createElement("div",{className:"c-".concat(a.type," font-bold")},a.code?a.code:a.type),r.a.createElement("div",{className:"c-muted"},a.source)),r.a.createElement("div",{className:"flex-1 ScenarioLog-messages"},i.a.map(o,function(e,t){var n=e,a=Object(ae.a)(e,e);return"object"===Tc(a)&&(n=r.a.createElement(ue,{mode:"json",immediate:!0},a)),r.a.createElement("div",{key:t,className:"ScenarioLog-message"},n)})))};function Rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ac=Object(s.inject)(function(e,t){var n=e.appStore,a=t.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Rc(e,t,n[t])})}return e}({},n.injectUi("".concat(a,":ScenarioLogs")))})(Object(s.observer)(function(e){var t,n=e.ui,a=e.updateUi,o=e.logs,c=void 0===o?[]:o,l=[],s={fatal:{logs:i.a.filter(c,{type:"fatal"}),className:"c-error",name:"Fatal"},error:{logs:i.a.filter(c,{type:"error"}),className:"c-error",name:"Error"},warn:{logs:i.a.filter(c,{type:"warn"}),className:"c-warn",name:"Warning"},info:{logs:i.a.filter(c,{type:"info"}),className:"text-active",name:"Info"}};for(var u in s){var p=s[u];if(!i.a.isEmpty(p.logs)){t=u;break}}var d=i.a.get(n,"isActive",t);i.a.forEach(s,function(e,t){i.a.isEmpty(e.logs)||l.push(r.a.createElement(it.a.Item,{key:t,active:t===d,onClick:function(){a("set","isActive",t)}},r.a.createElement("span",{className:"mr-3"},e.name),r.a.createElement("b",null,r.a.createElement("span",{className:e.className}," [",e.logs.length,"]"))))});var f=i.a.get(s,[d,"logs"]),m=i.a.map(f,function(e,t){return r.a.createElement(Ic,{key:t,log:e})});return[r.a.createElement(it.a,{key:"1",id:"tutorial-scenario-input",attached:"top",tabular:!0,size:"small"},l),r.a.createElement(Kn.a,{key:"2",attached:"bottom"},m)]}));function Lc(){return(Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Uc=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{editor:n.getEditor({id:a})}})(Object(s.observer)(function(e){var t=e.editor.currentStep,n=void 0===t?{}:t;return r.a.createElement(Dn,Lc({step:n.data},e))}));var Mc=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{collectionEditorStore:n,editor:n.getEditor({id:a})}})(Object(s.observer)(function(e){var t=e.editor,n=void 0===t?{}:t,a=e.readOnly,o=e.autocompleteScopes,c=e.inputProps,l=void 0===c?{}:c,s=e.handleUpdate,u=n.currentStep,p=void 0===u?{}:u;return r.a.createElement(Oi,Lc({editorId:n.id,editor:n,collection:n.parsed,collectionId:n.id,scenarioId:n.currentScenarioId,readOnly:a,step:p.data,stepIndex:p.index,autocompleteScopes:o,handleUpdate:function(e,t,a){i.a.isEmpty(n)||(n.updateCurrentParsed(e,t,a),s&&s(e,t,a))}},l))}));var Bc=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{editor:n.getEditor({id:a})}})(Object(s.observer)(function(e){var t=e.editor,n=void 0===t?{}:t,a=n.currentResult,o=n.currentRunning,c=i.a.get(a,"data.logs");return o||i.a.isEmpty(c)?null:r.a.createElement($n,{id:"ScenarioStep:result",title:"Debug"},r.a.createElement(Ac,{id:a.id,logs:c}))}));var Hc=Object(s.inject)(function(e,t){var n=e.collectionEditorStore,a=t.editorId;return{editor:n.getEditor({id:a})}})(Object(s.observer)(function(e){var t,n=e.editor,a=void 0===n?{}:n,o=e.standalone,i=e.outputProps,c=void 0===i?{}:i,l=a.currentResult;if(a.currentRunning)t=r.a.createElement("div",{className:"p-6 text-center"},r.a.createElement(p.a,{indeterminate:!0,active:!0,inline:!0},"Running"));else if(l)t=r.a.createElement(_c,Lc({id:l.id,type:l.type,result:l.data},c));else{if(o)return null;t=r.a.createElement("h4",{className:"c-muted font-bold text-center"},"click the run step button to view output")}return r.a.createElement("div",{className:"ScenarioOutput mt-6"},t)})),qc=function(e){var t=e.editorId,n=e.readOnly,a=e.autocompleteScopes,o=e.inputProps,c=e.outputProps,l=e.handleUpdate;return i.a.get(o,"standalone")?r.a.createElement("div",{className:"ScenarioStep"},r.a.createElement(Mc,{editorId:t,readOnly:n,autocompleteScopes:a,inputProps:o,handleUpdate:l,standalone:!0}),r.a.createElement(Hc,{editorId:t,outputProps:c,handleUpdate:l,standalone:!0})):r.a.createElement("div",{className:"ScenarioStep"},r.a.createElement($n,{id:"ScenarioStep:basics"},r.a.createElement(Uc,e)),r.a.createElement($n,{id:"ScenarioStep:input",title:"Input"},r.a.createElement(Mc,{editorId:t,readOnly:n,autocompleteScopes:a,inputProps:o,handleUpdate:l})),r.a.createElement(Bc,{editorId:t}),r.a.createElement($n,{id:"ScenarioStep:output",title:"Output",canToggle:!1},r.a.createElement(Hc,{editorId:t,outputProps:c,handleUpdate:l})))},Dc=function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force;var t=e.id,n=e.data||{method:"get",url:""},a={_id:t,id:t,data:{scenarios:{dummy:{steps:[{id:t,type:"http",input:n}]}}}},r=Fc(e);if(r.id){var o=Object(ae.b)(a.data);if(r.original===o)return}e.collectionEditorStore.initEditor({entityType:"collections",editPath:"#/scenarios/dummy/steps/0",embedded:!0,entity:a,stepPathParams:io.u.map({"dummy-0":i.a.get(n,"stepPathParams",{})})},{force:!0})},Fc=function(e){var t=e.id;return e.collectionEditorStore.getEditor({id:t})||{}},zc=function(e){var t=Fc(e);t&&t.stopStep&&t.stopStep()},$c=function(e){var t=Fc(e);t&&t.runStep&&t.runStep()};function Vc(e){return(Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wc(){return(Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Kc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Jc(e,t){return!t||"object"!==Vc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gc(e){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qc(e,t){return(Qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xc=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Jc(this,(e=Gc(t)).call.apply(e,[this].concat(o)))).render=function(){var e=n.props,t=e.id,a=e.WrapperFactory,o=e.config,c=void 0===o?{}:o,l=e.block,s=e.data,u=void 0===s?{}:s,p=!i.a.isEmpty(Fc(n.props).currentRunning),d=i.a.get(l,["config","codegen"]),f=r.a.createElement(qc,{editorId:t,inputProps:{type:"http",standalone:!0,config:c,tabWhitelist:i.a.compact(["settings",!i.a.isEmpty(u.headers)&&"headers",!i.a.isEmpty(u.query)&&"query",!i.a.isEmpty(u.body)&&"body",!i.a.isEmpty(u.auth)&&"auth","code-generation"]),endpoints:u.endpoints,headerElems:[{render:function(){var e={};return e=p?{icon:"stop",content:"Stop",onClick:function(){zc(n.props)},negative:!0}:{icon:"play",content:"Send",onClick:function(){$c(n.props)},secondary:!0},r.a.createElement(q.a,e)}}],readOnly:!0},outputProps:{tabWhitelist:["body","headers","request"]},codegen:d});return r.a.createElement(a,Wc({},n.props,{contentElem:f}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qc(e,t)}(t,r.a.Component),function(e,t,n){t&&Kc(e.prototype,t),n&&Kc(e,n)}(t,[{key:"componentWillMount",value:function(){Dc(this.props)}},{key:"componentWillReceiveProps",value:function(e){Fc(e).id&&e.id!==this.props.id||Dc(e)}}]),t}(),Yc=Object(s.inject)(function(e){return{collectionEditorStore:e.collectionEditorStore}})(Object(s.observer)(Xc));function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function el(){return(el=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function tl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function nl(e,t){return!t||"object"!==Zc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function al(e){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rl(e,t){return(rl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ol=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=nl(this,al(t).call(this,e))).renderHeader=function(){var e=n.props.header,t=void 0===e?{}:e,a=t.token,o=t.title,c=t.subtitle;if(!i.a.isEmpty(a)||!i.a.isEmpty(o)||!i.a.isEmpty(c))return r.a.createElement("div",{className:"pl-2 pr-2 pb-3"},o?r.a.createElement("div",{className:"HubBlock-header-name"},o):null,r.a.createElement("div",{className:"HubBlock-header-title flex items-center"},c?r.a.createElement("div",{className:"HubBlock-header-subtitle"},c):null,a?r.a.createElement("div",{className:"HubBlock-header-token  ml-a"},a):null))},n.renderPanels=function(){var e=n.props,t=e.basePath,a=e.blockPath,o=e.cache,c=e.childCacheIds,l=e.data,s=void 0===l?{}:l,u=e.editor,p=e.relativePath,d=e.updateCache,f=e.slugger,m=s.children,h=void 0===m?[]:m;return c?i.a.map(h,function(e,n){return{key:n,defaultOpen:i.a.get(e,"config.defaultOpen"),title:function(){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(L.a,{name:"dropdown"}),r.a.createElement("div",null,e.title))},content:i.a.isEmpty(e.blocks)?r.a.createElement("div",{className:"p-6"},"No existing blocks"):r.a.createElement(St,{store:u,blocks:e.blocks,parentPath:i.a.concat(a,["data","children",n]),basePath:t,relativePath:p,cache:o,updateCache:d,blockProps:{isNested:!0},slugger:f})}}):null},n.state={accordionId:Object(Vo.a)()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rl(e,t)}(t,r.a.Component),function(e,t,n){t&&tl(e.prototype,t),n&&tl(e,n)}(t,[{key:"render",value:function(){var e=this.props.WrapperFactory,t=this.state.accordionId,n=[];return n.push(r.a.createElement(kc,{key:"Accordion-Viewer-".concat(t),id:"Accordion-Viewer-".concat(t),fluid:!0,exclusive:!1,panels:this.renderPanels()})),r.a.createElement(e,el({},this.props,{headerElem:this.renderHeader(),contentElem:n}))}}]),t}();ol.displayName="HubAccordionBlock";var il=ht({cacheKeyProp:"cacheKey",basePathProp:"blockPath",path:["data","children"],childrenProp:"data.children"})(Object(s.observer)(ol)),cl=n(297);function ll(){return(ll=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var sl=Object(R.b)("components","HubBlock"),ul={barList:J,callout:X,cardList:te,code:de,hero:he,html:ve,image:Oe,jsonSchema:at,ref:ot,tabs:Lt,container:zt,text:Wt,http:Yc,accordion:il},pl=function(e){var t,n=e.className,a=e.header,o=void 0===a?{}:a,c=o.token,l=o.title,s=o.subtitle,u=!i.a.isEmpty(c),p=!i.a.isEmpty(l),d=!i.a.isEmpty(s);return u||p||d?((p||u)&&(t=r.a.createElement("div",{className:"HubBlock-header-title flex items-center"},p&&r.a.createElement("div",{className:"HubBlock-header-name"},l),u&&r.a.createElement("div",{className:"HubBlock-header-token ml-3",style:{color:Object(M.b)(c)}},c))),r.a.createElement("div",{className:y()("HubBlock-header",n)},t,d&&r.a.createElement("div",{className:"HubBlock-header-subtitle"},s))):null},dl=function(e){var t,n=e.className,a=e.headerElem,o=e.contentClassName,c=e.contentProps,l=void 0===c?{}:c,s=e.contentElem,u=e.block,p=void 0===u?{}:u,d=e.slugger;a?t=a:!i.a.isEmpty(p.header)&&i.a.isUndefined(a)&&(t=r.a.createElement(pl,{header:p.header}));var f=null,m=i.a.toLower(i.a.get(p,"header.anchor"));if(m){var h=d.slug(m);f=r.a.createElement("a",{href:"#".concat(h),"aria-hidden":"true",className:"block-anchor",name:h,id:h},r.a.createElement(L.a,{name:"linkify"}))}return r.a.createElement("div",{className:y()("HubBlock-inner flex-1 w-full",n)},f,t,s&&r.a.createElement("div",ll({className:y()("HubBlock-content",o,{"has-anchor":!!f})},l),s))},fl=N({cacheKeyProp:"editor.id",pathProp:"blockPath"})(function(e){var t,n=e.id,a=e.blockIndex,o=e.blockPath,c=e.block,l=void 0===c?{}:c,s=e.blockDereferenced,u=void 0===s?{}:s,d=e.className,f=e.isNested,m=e.isSolo,h=e.isLast,b=e.basePath,v=e.relativePath,g=e.slugger,E=e.editor;sl.debug("Render",{id:n,blockIndex:a,blockPath:o,basePath:b,relativePath:v,block:l,blockDereferenced:u});var O,w=i.a.get(l,"data.$ref"),j=i.a.get(l,"data.__error"),S=ul[l.type],k=i.a.cloneDeep(i.a.get(E.config,l.type,{})),x=i.a.get(l,"config",{});i.a.merge(k,x),j?(t=r.a.createElement("div",{className:"HubBlock-inner flex-1 w-full"},r.a.createElement(U.a,{error:j})),O=!0):w?(t=r.a.createElement("div",{className:"HubBlock-inner flex-1 w-full relative h-32"},r.a.createElement("div",{className:"absolute pin bg-lighten-500 z-20 opacity-1"},r.a.createElement(p.a,{active:!0}))),O=!0):S?t=r.a.createElement(S,ll({},e,{basePath:b,relativePath:v,block:l,blockPath:o,header:l.header,config:k,theme:l.theme,data:u.data||l.data,WrapperFactory:dl,dereferencedBlock:u,slugger:g})):(t=r.a.createElement("div",{className:"HubBlock-inner flex-1 w-full"},l.type," viewer has not been implemented."),O=!0);var P=Object(A.a)({block:l,config:cl.a[l.type],classNames:["HubBlock HubBlock--".concat(l.type," flex is-viewing"),d],isNested:f,isSolo:m,isLast:h});return r.a.createElement("div",{className:y()(P,{"is-padded":O})},t)});function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function yl(e,t){return!t||"object"!==ml(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bl(e){return(bl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vl(e,t){return(vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=yl(this,bl(t).call(this,e))).handleScroll=function(e){n.setState({scroll:e})},n.componentDidMount=function(){var e=n.props,t=e.targetId,a=e.onResize,r=t?document.getElementById(t):window;r&&r.addEventListener("scroll",n.handleScroll),r&&a&&r.addEventListener("resize",n.handleScroll)},n.componentWillUnmount=function(){var e=n.props,t=e.targetId,a=e.onResize,r=t?document.getElementById(t):window;r&&r.removeEventListener("scroll",n.handleScroll),r&&a&&r.removeEventListener("resize",n.handleScroll)},n.state={scroll:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vl(e,t)}(t,r.a.Component),function(e,t,n){t&&hl(e.prototype,t),n&&hl(e,n)}(t,[{key:"render",value:function(){var e=this.state.scroll;return this.props.render({scroll:e})}}]),t}();gl.propTypes={targetId:m.a.string,onResize:m.a.bool};var El=gl;function Ol(){return(Ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function wl(e){return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Sl(e,t){return!t||"object"!==wl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kl(e){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xl(e,t){return(xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pl(){return(Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Nl(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _l=function(e){var t=[];if(e)for(var n in e){var a=e[n];a.icon?t.push(r.a.createElement("div",{key:"m-".concat(a.id||n),className:y()("TreeList-metaItem",a.className||"c-muted")},r.a.createElement(L.a,{name:a.icon}))):t.push(r.a.createElement("div",{key:"m-".concat(a.id||n),className:y()("TreeList-metaItem",a.className||"c-muted")},a.name))}return t},Tl=function(e){return i.a.map(e,function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,o=n.id,i=n.href,c=n.className,l=n.type,s=n.icon,u=n.loading,p=n.onClick,d=n.tip,f=y()("TreeList-action",c||"c-muted"," flex items-center",(Cl(e={},"is-".concat(l),l),Cl(e,"is-loading",u),e));return t=i?r.a.createElement(D.a,{key:"a-".concat(o||a),className:f,to:i},r.a.createElement("div",null,r.a.createElement(L.a,{name:s,loading:u,className:"TreeList-actionIcon"}))):r.a.createElement("div",{key:"a-".concat(o||a),className:f,onClick:p},r.a.createElement("div",null,r.a.createElement(L.a,{name:s,loading:u,className:"TreeList-actionIcon"}))),d&&(t=r.a.createElement(Ga.a,{key:"a-".concat(o),trigger:t,content:d,size:"tiny"})),t})},Il=function(e){var t,n=e.item,a=void 0===n?{}:n,o=(e.depth,e.parentActive,e.path,e.currentPath,e.ItemFactory),c=e.isActive,l=a.name,s=a.href,u=a.onClick,p=a.isMuted,d=a.isDivider,f=a.meta,m=a.actions,h=a.icon,b=a.token||{};if(o)t=r.a.createElement(o,{index:0,item:a});else{var v,g=_l(f),E=Tl(m),O=h||b.icon;b.name&&(v=r.a.createElement("div",{className:"TreeList-itemToken  flex items-center justify-center"},r.a.createElement("div",{style:{color:Object(M.b)(i.a.toLower(b.name))},className:y()("SortableTree-itemToken-inner",b.className||"token--".concat(b.name),"flex items-center")},b.name))),t=r.a.createElement("div",{className:"flex",title:l},i.a.isEmpty(O)?null:r.a.createElement("div",{className:"TreeList-itemIcon flex items-center leading-none"},r.a.createElement(L.a,{name:O})),r.a.createElement("div",{className:"SortableTree-itemName flex-1"},l),v,i.a.isEmpty(g)?null:r.a.createElement("div",{className:"TreeList-meta  flex items-center"},g),i.a.isEmpty(E)?null:r.a.createElement("div",{className:"TreeList-actions  flex"},E))}var w="string"==typeof s?s:i.a.get(s,"pathname"),j=y()("TreeList-item hover:text-active",a.className,{"text-active":c,"is-active":c,"is-muted":p,"is-divider":d,"is-link":Object(F.j)(w)});return w?r.a.createElement(D.a,{to:s,className:j,onClick:function(e){var t=i.a.get(e,"target.className");if(i.a.includes(t,"TreeList-action"))return e.preventDefault(),e.stopPropagation(),!1}},t):r.a.createElement("div",{className:j,onClick:function(e){u&&u(e)}},t)},Rl=function(e){var t=e.folder,n=e.path,a=void 0===n?[]:n,o=e.currentPath,c=void 0===o?[]:o,l=e.depth,s=e.parent,u=void 0===s?{}:s,p=e.parentActive,d=e.handleToggleFolder,f=e.ui,m=e.folderOpenIcon,h=e.folderClosedIcon,b=e.checkIsActive,v=e.checkIsChildActive,g=Nl(e,["folder","path","currentPath","depth","parent","parentActive","handleToggleFolder","ui","folderOpenIcon","folderClosedIcon","checkIsActive","checkIsChildActive"]),E=t.childActive||p&&i.a.isEqual(a,c.slice(0,a.length))&&i.a.has(c,l+1);!E&&v&&(E=v(t));var O=t.isActive;!O&&b&&(O=b(t));var w=O||E||t.openByDefault,j=c.concat(a,"toggled");!t.noToggle&&i.a.has(f,j)&&(w=i.a.get(f,j));var S=_l(t.meta),k=Tl(t.actions),x=i.a.get(t,"token",{}),P=t.icon||(w?m:h)||"folder",N="folder"===P,C=t.noToggle?null:r.a.createElement("div",{className:y()("TreeList-folderToggler ",{"opacity-35":!w,"text-right":!N}),onClick:function(e){return e.preventDefault(),d(a,!w),!1}},r.a.createElement(L.a,{className:y()(P,{open:w,"mr-3":N})})),_=r.a.createElement("div",{className:"flex items-center"},N&&C,r.a.createElement("div",{className:y()("TreeList-folderName flex-1 truncate font-bold",{"select-none":!t.noToggle,"mb-3 lg:mb-2 text-grey-dark uppercase tracking-wide text-sm lg:text-xs":t.noToggle})},t.name),i.a.get(x,"name")?r.a.createElement("div",{className:"TreeList-itemToken",style:{color:Object(M.b)(i.a.toLower(x.name))}},x.name):null,i.a.isEmpty(S)?null:r.a.createElement("div",{className:"TreeList-meta  flex items-center"},S),i.a.isEmpty(k)?null:r.a.createElement("div",{className:"TreeList-actions  flex"},k),!N&&C),T=y()("TreeList-folderInner hover:text-active",t.className,{"has-content":t.hasContent,"has-children":!i.a.isEmpty(t.children),"is-active text-active":O});_=t.hasOwnProperty("href")?r.a.createElement(D.a,{className:T,to:t.href,onClick:function(e){var t=i.a.get(e,"target.className");i.a.includes(t,"action")?(d(a,!0),e.preventDefault()):O?d(a,!w):i.a.includes(t,"icon")||d(a,!0)}},_):r.a.createElement("div",{className:T},_);var I=l;return u.noToggle&&(I=Math.max(I-1,0)),r.a.createElement("div",{className:y()("TreeList-folder","depth--".concat(I),{"is-active":O,"is-muted":t.isMuted,"is-divider":t.isDivider,"child-active":E,"no-toggle":t.noToggle})},r.a.createElement("div",{onClick:function(e){i.a.includes(i.a.get(e,"target.className"),"TreeList-action")||t.hasOwnProperty("href")||t.noToggle||O||d(a,!w)}},_),w?r.a.createElement(Al,Pl({items:t.children,path:a,currentPath:c,depth:I+1,handleToggleFolder:d,parentActive:E,parent:t,folderOpenIcon:m,folderClosedIcon:h,checkIsActive:b,checkIsChildActive:v,ui:f},g)):null)},Al=function(e){var t,n=e.items,a=e.depth,o=void 0===a?0:a,c=e.parentActive,l=e.path,s=e.ui,u=e.handleToggleFolder,p=e.ItemFactory,d=e.currentPath,f=e.parent,m=void 0===f?{}:f,h=e.folderOpenIcon,y=e.folderClosedIcon,b=e.checkIsActive,v=e.checkIsChildActive;t=i.a.isEmpty(n)?r.a.createElement("div",{key:"none",className:"TreeList-none"},"Nothing to show here."):i.a.map(n,function(e,t){if(e.children)return r.a.createElement(Rl,{key:t,folder:e,depth:o,parent:m,path:l.concat([t]),parentActive:c,handleToggleFolder:u,ui:s,ItemFactory:p,currentPath:d,folderOpenIcon:h,folderClosedIcon:y,checkIsActive:b,checkIsChildActive:v});var n=e.isActive;return b&&(n=b(e)),r.a.createElement(Il,{key:t,depth:o,path:l.concat(t),parentActive:c,item:e,isActive:n,ItemFactory:p,currentPath:d,folderOpenIcon:h,folderClosedIcon:y})});var g=o;return m.noToggle&&(g=Math.max(g-1,0)),r.a.createElement("div",{key:"items",className:"TreeList-items depth--".concat(g)},t)},Ll=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Sl(this,(e=kl(t)).call.apply(e,[this].concat(r)))).handleToggleFolder=function(e,t){var a=n.props,r=a.updateUi,o=a.currentPath;r("set",(void 0===o?[]:o).concat(e,"toggled"),t)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xl(e,t)}(t,r.a.Component),function(e,t,n){t&&jl(e.prototype,t),n&&jl(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=void 0===t?{}:t,a=e.ui,o=void 0===a?{}:a,c=e.ItemFactory,l=e.actions,s=void 0===l?[]:l,u=e.htmlId,p=void 0===u?"tree-list":u,d=e.currentPath,f=void 0===d?[]:d,m=e.viewer,h=e.inverted,b=e.folderOpenIcon,v=e.folderClosedIcon,g=e.checkIsActive,E=e.checkIsChildActive;return r.a.createElement("div",{id:p,className:y()("TreeList",{"TreeList--viewer":m,"is-inverted":h})},i.a.isEmpty(s)?null:r.a.createElement("div",{className:"TreeList-topActions"},s),r.a.createElement(Al,{path:[],currentPath:f,items:n,handleToggleFolder:this.handleToggleFolder,ItemFactory:c,ui:o,folderOpenIcon:b,folderClosedIcon:v,checkIsActive:g,checkIsChildActive:E,parentActive:!0}))}}]),t}(),Ul=Object(s.inject)(function(e,t){var n=e.appStore,a=t.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Cl(e,t,n[t])})}return e}({},n.injectUi("sortable-tree-list-".concat(a)))})(Object(s.observer)(Ll)),Ml=n(999);function Bl(e){return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ql(e,t,n[t])})}return e}function ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Fl(e,t){return!t||"object"!==Bl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zl(e){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $l(e,t){return($l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vl=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Fl(this,(e=zl(t)).call.apply(e,[this].concat(o)))).renderOverlay=function(){var e=n.props,t=e.ui,a=e.updateUi;return r.a.createElement("div",{key:"overlay",role:"presentation",className:y()("HubSidebar-overlay pin fixed sm:block hidden",{"isMobile-open":t.showSidebar,"isMobile-closed":!t.showSidebar}),onClick:function(){a("unset","showSidebar")}})},n.renderWrapper=function(e){var t=e.sidebarTree,a=n.props,o=a.store,c=a.className,l=void 0===c?"":c,s=a.folderOpenIcon,u=void 0===s?"chevron down":s,p=a.folderClosedIcon,d=void 0===p?"chevron right":p,f=a.ui,m=a.updateUi,h=a.watchScroll,b=o.checkSidebarItemIsActive,v=o.checkSidebarChildIsActive,g=o.whitelabel,E=o.namespace,O=o.activePagePath,w=O;if(!t||i.a.isEmpty(t))return null;var j=0,S="100%",k="auto",x=!1;if(h&&n.wrapperElem&&!f.showSidebar){var P=document.getElementById("HubPageHeader");P&&(j=P.offsetHeight);var N=n.wrapperElem.getBoundingClientRect();k=N.height,S=window.innerHeight-Math.max(N.top,j),x=N.top<=j}var C={maxHeight:k};return x&&(C=Hl({},C,{height:S,position:"fixed",left:"auto",bottom:0})),r.a.createElement("div",{key:"wrapper",className:y()("HubSidebar-wrapper print:hidden flex flex-col items-end bg-grey-lightest border-r border-grey-light",l,{"isMobile-open":f.showSidebar,"isMobile-closed":!f.showSidebar}),onClick:function(e){i.a.intersection(e.target.classList,["SortableTree-itemName","TreeList-item","TreeList-itemToken","SortableTree-itemToken-inner"]).length&&m("unset","showSidebar")},ref:function(e){n.wrapperElem=e}},x&&r.a.createElement("div",{role:"presentation",className:"HubSidebar-spacer"}),r.a.createElement("div",{className:y()("HubSidebar flex-1",l),style:C},r.a.createElement("div",{className:"HubSidebar-inner flex flex-col"},r.a.createElement(Ul,{id:w,data:i.a.get(t,[0,"treeData"],{}),currentPath:[O],folderOpenIcon:u,folderClosedIcon:d,checkIsActive:b,checkIsChildActive:v,viewer:!0}))),!g&&r.a.createElement(Ml.HubBranding,{whitelabel:g,namespace:E}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$l(e,t)}(t,r.a.Component),function(e,t,n){t&&Dl(e.prototype,t),n&&Dl(e,n)}(t,[{key:"render",value:function(){var e=this.props.store.sidebarTree;return!e||i.a.isEmpty(e)?null:[this.renderOverlay(),this.renderWrapper({sidebarTree:e})]}}]),t}(),Wl=Object(s.inject)(function(e){return Hl({},e.appStore.injectUi("Hub"))})(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return r.a.createElement(El,Ol({},t,{render:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.a.createElement(e,Ol({},n,t))}}))}}(Object(s.observer)(Vl,{onResize:!0}))),Kl=function(e){var t=e.title,n=e.className;return r.a.createElement("div",{className:y()("HubPageNotFound",n)},r.a.createElement("h1",{className:"HubPageNotFound-title"},t||"Page Not Found"))};function Jl(e){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ql(e,t){return!t||"object"!==Jl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xl(e){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zl=Object(R.b)("components","HubPage"),es=new v.a;"undefined"!=typeof window&&E.a.polyfill();var ts=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ql(this,Xl(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yl(e,t)}(t,r.a.Component),function(e,t,n){t&&Gl(e.prototype,t),n&&Gl(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.routerStore.scrollToHash()}},{key:"componentWillUpdate",value:function(e,t){es.reset()}},{key:"componentDidUpdate",value:function(e){var t=e.location,n=this.props,a=n.location,r=n.routerStore;if(a.hash&&a.hash!==t.hash)r.scrollToHash(a.hash);else if(this.wrapper&&(a.pathname!==t.pathname||i.a.get(a.query,"view")!==i.a.get(t.query,"view"))){if(!this.wrapper.scrollTo)return;this.wrapper.scrollTo({top:0,left:0,behavior:"smooth"})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.store,a=t.cache,o=t.updateCache,c=n.id,l=n.basePath,s=n.hasSidebar,u=n.crumbs,p=n.activePage,d=void 0===p?{}:p,f=n.activeSubpage,m=void 0===f?{}:f,h=n.activeBlocks,b=void 0===h?[]:h,v=n.currentPath,g=n.currentParsedPath,E=n.currentRelativePath,O=n.entityStore,w=void 0===O?{}:O,j=n.whitelabel,S=n.namespace,k=w.isDereferencing,x=d.data||{};m.data&&(x=m.data||{}),Zl.debug("Render",{page:x,basePath:l,currentRelativePath:E});var P,N=(x.data||{}).$ref;return P=i.a.isEmpty(x.data)?r.a.createElement(Kl,null):N&&k?r.a.createElement(I,{text:"Building Page",inverted:!1}):i.a.isEmpty(b)?r.a.createElement(fl,{block:Object(A.b)({pagePath:"/".concat(i.a.trim(i.a.join(v,"/"),"/")),page:x}),basePath:l,relativePath:E,editor:n,slugger:es}):r.a.createElement(St,{store:n,blocks:b,blocksDereferenced:b,parentPath:i.a.concat(g,["data"]),basePath:l,relativePath:E,cache:a,updateCache:o,slugger:es}),r.a.createElement("div",{className:y()("HubMain flex flex-1 relative",{"has-sidebar":s})},s&&r.a.createElement(Wl,{id:c,store:n}),r.a.createElement("div",{className:"HubPage-wrapper flex-1 bg-white w-full overflow-y-scroll min-h-100",ref:function(t){e.wrapper=t}},r.a.createElement("div",{className:"HubPage"},r.a.createElement("div",{className:"HubPage-inner flex"},r.a.createElement("div",{className:"HubPage-content flex-1 relative"},u&&u.length>1&&!1,r.a.createElement("div",{className:"HubPageBody"},P),!s&&r.a.createElement("div",{className:"HubPageFooter absolute pin-x pin-b"},r.a.createElement(Ml.HubBranding,{whitelabel:j,namespace:S,centered:!0})))))))}}]),t}();ts.propTypes={store:m.a.object.isRequired};var ns=N({cacheKeyProp:"store.id",pathProp:"store.currentParsedPath",pure:!1})(Object(s.observer)(ts)),as=Object(s.inject)(function(e,t){var n=e.routerStore;return{location:n.location,routerStore:n}})(ns);function rs(){return(rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function os(e){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function is(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function cs(e,t){return!t||"object"!==os(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ss(e,t){return(ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var us=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=cs(this,(e=ls(t)).call.apply(e,[this].concat(r)))).authRequired=function(){if("undefined"!=typeof window){var e=n.props.isAuthRequired,t=l.a.get("_session_token");return e&&!t}},n.store=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;return n.props.pageStore.lookup(i.a.get(e.page,"path"),e)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ss(e,t)}(t,r.a.Component),function(e,t,n){t&&is(e.prototype,t),n&&is(e,n)}(t,[{key:"componentWillMount",value:function(){this.store().activate(),this.authRequired()&&(window.location.pathname="/_/login")}},{key:"componentWillUpdate",value:function(e){var t=this.props.page;i.a.get(e.page,"path")!==i.a.get(t,"path")&&(this.store().deactivate(),this.store(e).activate(),this.authRequired()&&(window.location.pathname="/_/login"))}},{key:"render",value:function(){var e=this.store();return!e||this.authRequired()?r.a.createElement("div",{className:"flex-1 relative"},r.a.createElement(u.a,{active:!0,inverted:!0},r.a.createElement(p.a,{content:"Loading..."}))):r.a.createElement(as,{id:e.id,store:e})}}]),t}(),ps=Object(s.inject)(function(e,t){return{routerStore:e.routerStore,pageStore:e.pageStore}})(us);t.default=Object(d.withRouteData)(function(e){return r.a.createElement(d.SiteData,rs({},e,{component:ps}))})},962:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u});var a=n(0),r=n.n(a),o=n(30);n(17),n(209),n(297);var i=function(e){var t=e.block,n=void 0===t?{}:t,a=e.config,o=e.classNames,i=void 0===o?[]:o,c=e.isNested,l=e.isSolo,s=e.isLast,u=r.a.concat(i,r.a.get(n,"config.classNames",[]));if(!a)return u;var p=Object.assign({},a,n.config),d=!l&&p.canvas,f=p.standalone&&!r.a.get(n,"config.plain"),m=p.padded&&!r.a.get(n,"config.plain"),h=p.outlined,y=!r.a.isEmpty(n.header);return c?l?p.solo&&(d=r.a.has(p.solo,"canvas")?p.solo.canvas:d,m=!!y||(r.a.has(p.solo,"padded")?p.solo.padded&&!r.a.get(n,"config.plain"):m),h=r.a.has(p.solo,"outlined")?p.solo.outlined:h):p.nested&&(d=r.a.has(p.nested,"canvas")?p.nested.canvas:d,m=r.a.has(p.nested,"padded")?p.nested.padded&&!r.a.get(n,"config.plain"):m,h=r.a.has(p.nested,"outlined")?p.nested.outlined:h):l&&p.solo&&r.a.has(p.solo,"padded")&&(m=p.solo.padded),c&&u.push("is-nested"),l&&u.push("is-solo"),s&&u.push("is-last"),m?u.push("is-padded"):u.push("is-not-padded"),p.paddedInner&&u.push("is-padded-inner"),h&&u.push("is-outlined"),f&&u.push("is-standalone"),d&&u.push("is-on-canvas"),u},c=function(e){var t=e.basePath,n=void 0===t?"":t,a=e.pagePath,o=void 0===a?"":a,i=e.page,c=void 0===i?{}:i,l={type:"text",header:{title:c.title},data:""};return r.a.forOwn(r.a.get(c,"data.children",[]),function(e){var t=r.a.get(e,"route.path");if(t){var a="/".concat(r.a.trimStart("".concat(n).concat(o).concat(t),"/"));l.data+="- [".concat(e.title||a,"](").concat(a,")\n")}}),l},l={styles:{base:{}}},s=function(e){var t=e.theme,n=void 0===t?{}:t,a=e.defaultTheme,o=void 0===a?{}:a,i={};return r.a.merge(i,l,o,n),i},u=function(){return"hub-builder"===Object(o.a)("APP_NAME")}},966:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n.n(o),c=n(5),l=n.n(c),s=n(975),u=n(1010);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=function(e){var t=e.value,n=e.className,a=void 0===n?"":n,o=e.innerClassName,c=void 0===o?"":o,d=e.style,f=void 0===d?{}:d,m=e.options,h=void 0===m?{}:m,y=e.context,b=void 0===y?{}:y;if(i.a.isNil(t)||"object"===p(t)&&i.a.isEmpty(t))return null;var v=t;return"string"!=typeof v&&(v=JSON.stringify(v)),i.a.isEmpty(v)?null:r.a.createElement("div",{className:l()("MarkdownViewer markdown-body",a),style:f},r.a.createElement(u.a,{className:c,value:s.a.render(v),options:Object.assign({anchors:!0},h),context:b}))}},975:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h});var a=n(1081),r=n.n(a),o=n(1135),i=n.n(o),c=n(1136),l=n.n(c),s=n(72),u=n(1009),p=Object(s.b)("utils","markdown");p.info("Load");var d=function(e){return"string"!=typeof e?"":e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;").replace(/'/g,"&#039;")},f=new r.a({html:!0,linkify:!1,typographer:!0,highlight:function(e,t){try{var n=void 0!==t&&u.a.languages[t]||u.a.languages.markup;return u.a.highlight(e,n,t)}catch(n){return p.warn("error highlighting code",e,t,n),e}}}).use(i.a).use(l.a,{disabled:!0,divWrap:!1,divClass:"checkbox",idPrefix:"cbx_",ulClass:"task-list",liClass:"task-list-item"}),m=f.renderer.rules.link_open||function(e,t,n,a,r){return r.renderToken(e,t,n)};f.renderer.rules.link_open=function(e,t,n,a,r){var o=a.basePath,i=a.relativePath,c=(a.query,e[t]),l=c.attrIndex("title");l>=0&&(c.attrs[l][1]=function(e){return"string"!=typeof e?"":d(e).replace(/&/g,"&amp;")}(c.attrs[l][1]));var s=!1,u=c.attrIndex("href");if(u>=0){var p=d(c.attrs[u][1]);!(s="/"!==p.charAt(0)&&"#"!==p.charAt(0))&&o&&"/"!==o&&(p="#"!==p.charAt(0)?o+p:o+i+p),c.attrs[u][1]=p}if(s){var f=c.attrIndex("target");f<0?c.attrPush(["target","_blank"]):c.attrs[f][1]="_blank"}return e[t]=c,m(e,t,n,a,r)};var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;if("string"!=typeof e)return p.warn("Markdown: you must use a string when rendering markdown.",{src:e,options:t,env:n}),null;try{return f.renderer.render(f.parse(e,n),Object.assign(f.options,t),n)}catch(a){p.error("error rendering",a,{src:e,options:t,env:n})}return null}}}]);
//# sourceMappingURL=client-containers-Page.73b64b67.js.map