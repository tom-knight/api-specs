{"path":"api-docs/store-management/widgets/overview","templateID":0,"sharedPropsHashes":{"nav":"Z2k7O5R","sidebarTree":"Z1Jm3fi","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Docs","to":"/api-docs"},{"content":"Management APIs","to":"/api-docs/store-management"},{"content":"Widgets","to":"/api-docs/store-management/widgets"},{"content":"Overview","to":"/api-docs/store-management/widgets/overview"}],"page":{"meta":{"title":"Overview - Widgets - Management APIs - API Docs","url":"/api-docs/store-management/widgets/overview","description":"Widgets API\n\n\n\nOn this page\n\nRegions\n\nWidget templates\n\nWidgets\n\nWidget versioning\n\nPlacements\n\nWidgets on the storefront\n\nDefinitions\n\nRelated resource..."},"title":"Overview","parsedPath":["pages","/api-docs","data","children",2,"data","children",11,"data","children",0],"rootPagePath":"/api-docs","path":"/api-docs/store-management/widgets/overview","isSubpage":true,"route":{"path":"/overview"},"data":{"blocks":[{"type":"text","data":"# Widgets API\n\n\n<div class=\"otp\" id=\"no-index\">\n\n### On this page\n\n- [Regions](#regions)\n- [Widget templates](#widget-templates)\n- [Widgets](#widgets)\n- [Widget versioning](#widget-versioning)\n- [Placements](#placements)\n- [Widgets on the storefront](#widgets-on-the-storefront)\n- [Definitions](#definitions)\n- [Related resources](#related-resources)\n\n</div>\n\nThe Widgets API allows developers to create units of content and programmatically place them on specific pages of a BigCommerce storefront. The content can consist of HTML, CSS, and JavaScript, and is configurable using [Handlebars](https://handlebarsjs.com/) variables. The Widgets API supports various content types, such as YouTube videos, image sliders, and chat apps. \n\nWhen to use:\n* Inject modular, reusable blocks of content inside new and existing store pages.\n* Build tools that allow non-technical users to control content without editing theme files.\n* Target specific products, categories, or brands with widgets.\n\nIn this article, we will review the components that make up a widget. \n\n## Regions\n\n[Regions](https://developer.bigcommerce.com/api-reference/storefront/widgets-api/regions/getcontentregions) are specific locations in the Stencil theme template files where you can place a widget. You can add a region at the file level using the format `{{{region name=\"...\"}}}` and name the region however you like, but it is best practice to give it a name that is descriptive of the location and function. A theme file can have as many regions as you want, with more than one widget assigned to the region and the [placements](https://developer.bigcommerce.com/api-docs/store-management/widgets/overview#placements) `sort_order` controlling how the widgets appear on the storefront.\n\n![Content Region](//s3.amazonaws.com/user-content.stoplight.io/6012/1551970794664 \"Content Region\")\n\n![Content Region](//s3.amazonaws.com/user-content.stoplight.io/6012/1551970767918 \"Content Region\")\n\nMost themes in the BigCommerce marketplace come with predefined regions. It is best to use those first. If you edit a theme and add new theme regions, you will need to manage updates manually.\n\n### Global regions\n\nGlobal regions are special regions you can use to place and manage content sitewide. Widgets placed in a global region will appear on the storefront pages where that region exists. This makes global regions useful for displaying high-priority information, such as special promotion advertising banners, across multiple storefront pages.\n\n![Global Region](https://raw.githubusercontent.com/bigcommerce/dev-docs/master/assets/images/widgets-overview-03.png \"Global Region\")\n\nTo create a global region, add the `--global` suffix to the region name as shown in the following example:\n\n```handlebars\n{{{region name=\"header_bottom--global\"}}}\n```\n\n[See it in Cornerstone](https://github.com/bigcommerce/cornerstone/search?q=%7B%7B%7Bregion+name%3D%22header_bottom--global%22%7D%7D%7D).\n\n## Widget templates\n\n[Widget templates](/api-reference/storefront/widgets-api/widget-template/getwidgettemplates) are reusable Handlebars-enabled HTML templates which define the structure of the widget on a page. You can use built-in Handlebars helpers such as `{{if}}` and `{{each}}` to add conditional logic to a widget template. \n\nYou can reuse widget templates to build multiple widgets.\n\n### Widget template examples\n\nThe following template examples use the built-in Handlebars [`#each`](https://handlebarsjs.com/guide/builtin-helpers.html#each) helper to loop through and display each item on the page.\n\n**List**\n\nThe list template creates a list where each item in the list can have a different color. The text and color are determined by Handlebars placeholders that are set when creating the [widget](/api-reference/storefront/widgets-api/widget/createwidget).\n\n```json\n{\n  \"name\": \"List\",\n  \"template\": \"<ul>{{#each list_items}}<li style='color:{{color}};'>{{text}}</li>{{/each}}</ul>\"\n}\n```\n\n**Slider**\n\nThe slider template creates an image slider where each item in the slider can have a different image. The images are determined by Handlebars placeholders that are set when creating the [widget](/api-reference/storefront/widgets-api/widget/createwidget).\n\n```json\n{\n\"name\": \"Slider\",\n\"template\": \"<ul class='slider'>{{#each slides}}<li class='slide'><img src={{image}}'/</li>{{/each}}</ul>\"\n}\n```\n\n## Widgets\n\n[Widgets](/api-reference/storefront/widgets-api/widget/getwidgets) are units of content placed on specific pages in a Stencil theme. Widgets consist of a widget configuration and a widget template UUID and render as part of the storefront's HTML.\n\n![Widget](//s3.amazonaws.com/user-content.stoplight.io/6012/1551971053085 \"Storefront Widget\")\n\n### Widget configuration\n\nA widget configuration is the JSON payload that defines the content you can render with a given widget template. In the previous list example, the widget template loops over an array of list items using `{{#each}}`.\n\nIn the following example, we define the `list_items` array and supply values for the color and text of each list item. Since you create the template separately from the configuration, you can use the same template UUID multiple times.\n\n**Widget configuration list items**\n\n```json\n{\n\t\"list_items\": [{\n\t\t\t\"color\": \"orange\",\n\t\t\t\"text\": \"Item One\"\n\t\t},\n\t\t{\n\t\t\t\"color\": \"blue\",\n\t\t\t\"text\": \"Item Two\"\n\t\t}\n\t]\n}\n```\n\n**Widget configuration slides**\n\n```json\n{\n  \"slides\": [\n    {\"image\":\"http://imageurl.com/nh35jn/test.png\"},\n    {\"image\":\"http://imageurl.com/fdhdfh/test2.png\"}\n  ]\n}\n```\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n<!-- theme:  -->\n\n### Reusing widget configuration\n> You set the widget configuration name when creating the widget template.\n> When reusing the widget configuration, the objects array must use the name established during the initial configuration. Otherwise, you will create the widget on the frontend, but there will be no data, and nothing displayed.\n\n</div>\n</div>\n</div>\n\nWhen reusing the widget configuration from our list example, you must call the items array `list_items`, because you defined the `list_items` array when creating the widget template.\n\n**List items example: Incorrect**\n\n```json\n{\n  \"name\": \"List\",\n  \"widget_configuration\": {\n    \"list_items_two\": [\n      {\n        \"color\": \"orange\",\n        \"text\": \"Fifth item\"\n      },\n      {\n        \"color\": \"blue\",\n        \"text\": \"Sixth item\"\n      }\n    ]\n  },\n  \"widget_template_uuid\": \"7bfb9a46-75cc-45bc-bf39-a6a43b77111f\"\n}\n```\n\nThe example above uses `list_items_two` in the configuration, which is not the same as `list_items`. If you have already established `list_items` during the initial configuration, it must be set as `list_items` when you use it again.\n\n**List items example: Correct**\n\n```json\n{\n  \"name\": \"List\",\n  \"widget_configuration\": {\n    \"list_items\": [\n      {\n        \"color\": \"orange\",\n        \"text\": \"Fifth item\"\n      },\n      {\n        \"color\": \"blue\",\n        \"text\": \"Sixth item\"\n      }\n    ]\n  },\n  \"widget_template_uuid\": \"7bfb9a46-75cc-45bc-bf39-a6a43b77111f\"\n}\n```\n\n## Widget versioning\n\nWidget versioning allows developers to release updates to widget templates without impacting existing widgets created using those templates. \n\nA single widget template can have multiple versions, each with its own `template` and `schema` properties. The widget template’s `current_version_uuid` property points to the most recent version of the widget template. When you create a widget, it automatically uses the most current version of the widget template and saves it as the `version_uuid` property. \n\n### Old relationship model\nPrior to widget versioning, a widget would point to a widget template only via the `widget_template_uuid` property. The widget would always use the latest version of the widget template, and updating the widget template would subsequently update all of its widgets.\n\n ![Old Relationship Model](https://raw.githubusercontent.com/bigcommerce/dev-docs/master/assets/images/widgets-overview-01.png \"Old Relationship Model\")\n\n### New relationship model\nWidget versioning introduced `current_version_uuid` and `version_uuid` properties. Now, in addition to `widget_template_uuid`, the widget can specify the template version via `version_uuid`. \n\n ![New Relationship Model](https://raw.githubusercontent.com/bigcommerce/dev-docs/master/assets/images/widgets-overview-02.png \"New Relationship Model\")\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n<!-- theme:  -->\n\n### Note\n>  Although a widget template can have multiple versions; there can only be one active version at a time. This setup means that a template can have multiple `version_uuid`’s associated with it, but it cannot have more than one `current_version_uuid`.\n\n</div>\n</div>\n</div>\n\n**Widget template definitions**\n\n| Property | Definition |\n|--|--|\n| `uuid` | The identifier of the original widget template.|\n| `current_version_uuid` | The identifier of the most recent version of the widget template.|\n\n**Widget definitions**\n\n| Property | Definition |\n|--|--|\n| `widget_template_uuid` | The identifier of the widget template. (The value is static.)|\n| `current_version_uuid` | The identifier of the most recent version of the widget template.|\n| `version_uuid` | The version of the widget template used to create or update the widget.|\n\n### Update a widget template \n\nTo update a widget template without impacting existing widgets, set the `create_new_version` property to `true` when sending a `PUT` request to [`/v3/content/widget-templates/{uuid}`](https://developer.bigcommerce.com/api-reference/store-management/widgets/widget-template/updatewidgettemplate). This will create a new widget template version, but it will not impact the widgets created before the update. \n\nUpdating the widget template with `create_new_version` set to `true` will change the value of the `current_version_uuid` in the widget and the widget template, but it will not change the value of the widget’s `version_uuid`.\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n<!-- theme:  -->\n\n### Note\n>  It is possible to update your widget template without creating a new version. To do so, exclude the `create_new_version` field or set it to `false` when making a `PUT` request to [update the widget template](https://developer.bigcommerce.com/api-reference/store-management/widgets/widget-template/updatewidgettemplate). \n\n</div>\n</div>\n</div>\n\n## Placements\n\n[Placements](/api-reference/storefront/widgets-api/placement/createplacement) determine the region where you place widgets and in what order.\n\nCurrently, placements can exist on the following pages:\n\n* pages/account/add-address \n* pages/account/add-return\n* pages/account/add-wishlist\n* pages/account/addresses\n* pages/account/download-item\n* pages/account/edit \n* pages/account/inbox\n* pages/account/orders/all\n* pages/account/orders/completed\n* pages/account/orders/details\n* pages/account/orders/invoice\n* pages/account/recent-items\n* pages/account/return-saved\n* pages/account/returns\n* pages/account/wishlist-details\n* pages/account/wishlists \n* pages/auth/account-created \n* pages/auth/create-account \n* pages/auth/forgot-password \n* pages/auth/login \n* pages/auth/new-password \n* pages/blog \n* pages/blog-post \n* pages/brand \n* pages/brands \n* pages/cart \n* pages/category \n* pages/compare \n* pages/contact-us \n* pages/errors/403 \n* pages/errors/404 \n* pages/errors/generic \n* pages/gift-certificate/balance \n* pages/gift-certificate/purchase \n* pages/gift-certificate/redeem \n* pages/home \n* pages/order-confirmation \n* pages/page \n* pages/product \n* pages/search \n* pages/sitemap \n* pages/subscribed \n* pages/unavailable/hibernation \n* pages/unavailable/maintenance\n* pages/unsubscribe\n\nIt is also possible to place widgets on the following custom templates, where `<filename>` is the name of the custom template file:\n\n* pages/custom/product/`<filename>`\n* pages/custom/brand/`<filename>`\n* pages/custom/category/`<filename>`\n* pages/custom/page/`<filename>`\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n<!-- theme:  -->\n\n### Note\n> - To display a widget on the storefront, you must create a placement.\n> - A region can contain multiple placements with widgets.\n\n</div>\n</div>\n</div>\n\n### Placements sort_order\n\nWhen creating a placement with a widget, the widget content takes the full region width. The placement's `sort_order` property controls the display order of the widget. You would stack any additional widgets in the same region above or below based on each placement's `sort_order` property.\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n<!-- theme:  -->\n\n### Note\n> If you are creating marketplace applications that create placements directly, you do not need to use the `sort_order` property.\n\n</div>\n</div>\n</div>\n\n### Placements entity_id\n\nWhen creating a placement, there is an option to provide an `entity_id`. The `entity_id` is the identifier for a specific product, brand, category, or page. For example, if a widget needs to be on all product pages, leave `entity_id` blank. If the widget should only appear on a certain product page, assign the product ID to `entity_id`.\n\nYou can use `entity_id` with the following page types:\n* pages/brand\n* pages/category\n* pages/page\n* pages/product\n\n### Create a widget placement with region\n\nIn the following example, both the region and sort order have a value so that the widget will appear on a specific category page.\n\n**Widget with region**\n\n```json\n{\n  \"widget_uuid\": \"2dfeb50e-5f8c-4df2-8525-a338091eed32\",\n  \"entity_id\": \"21\",\n  \"sort_order\": 1,\n  \"region\": \"header_bottom\",\n  \"template_file\": \"pages/category\",\n  \"status\": \"active\"\n}\n```\n\n### Create a widget placement without a region\n\nLeaving the region and sort order off the request will return just the `placement_id` in the response, allowing for the widget's rendering using layouts.\n\n**Widget without a region**\n\n```json\n{\n    \"widget_uuid\": \"2dfeb50e-5f8c-4df2-8525-a338091eed32\",\n    \"entity_id\": \"21\",\n    \"template_file\": \"pages/category\",\n    \"status\": \"active\"\n}\n```\n\n## Widgets on the storefront\n\nWidgets are rendered on the storefront as a data tag in the HTML.\n\n* Region -- `data-content-region`\n* Widget -- `data-widget-id`\n* Placement does not generate a data tag. \n\n## Definitions\n\n| Name | Definition |\n|--|--|\n| Widgets | Widgets are the units of content to be placed on specific pages in a Stencil theme. Each widget is composed of a widget configuration and a widget template. *There is a limit of `10,000` widgets per store.* |\n| Widget templates | Widget templates are Handlebars-enabled HTML templates that define the widget’s structure on a page. These templates can include conditional logic as well as looping. *There is a limit of `1,000` total custom widget templates per store. This does not include templates pre-provided by BigCommerce.* |\n| Placements | Placements determine the region where you place widgets and in what order. *There is a limit of `75` placements per template file and `10,000` total placements per store.* |\n| Regions | Regions are specific spots in a Stencil template file where you can place widgets. Regions are defined at the theme file level using the following syntax: `{{{region name=\"...\"}}}`. Many widgets can reside within a given region, and these widgets can have an assigned sort order. |\n| Widget configuration | This is a JSON payload that contains data used when rendering the widget. Each widget has a configuration, and there is a 64kb limit on the JSON size. The widget configuration must be valid JSON, but we don’t enforce any additional configuration structure requirements. |\n\n## Related resources\n\n### Articles\n* [Widgets Tutorial](/api-docs/store-management/widgets/tutorials/tutorial)\n* [Widgets Code Samples](/api-docs/store-management/widgets/samples)\n\n### Endpoints\n* [Widgets API](/api-reference/store-management/widgets)\n"}],"children":[]}}}}
